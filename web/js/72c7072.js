var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,v,q){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){v=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}v=String(g.masks[v]||v||g.masks["default"]);if(v.slice(0,4)=="UTC:"){v=v.slice(4);q=true}var t=q?"getUTC":"get",l=i[t+"Date"](),e=i[t+"Day"](),j=i[t+"Month"](),p=i[t+"FullYear"](),r=i[t+"Hours"](),k=i[t+"Minutes"](),u=i[t+"Seconds"](),n=i[t+"Milliseconds"](),f=q?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(p).slice(2),yyyy:p,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:k,MM:c(k),s:u,ss:c(u),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:r<12?"a":"p",tt:r<12?"am":"pm",T:r<12?"A":"P",TT:r<12?"AM":"PM",Z:q?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return v.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
(function(){(function(p){var A=this||(0,eval)("this"),w=A.document,K=A.navigator,t=A.jQuery,C=A.JSON;(function(p){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?p(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],p):p(A.ko={})})(function(z){function G(a,c){return null===a||typeof a in M?a===c:!1}function N(a,c){var d;return function(){d||(d=setTimeout(function(){d=p;a()},c))}}function O(a,c){var d;return function(){clearTimeout(d);d=setTimeout(a,c)}}function H(b,c,d,e){a.d[b]={init:function(b,h,g,k,l){var n,r;a.ba(function(){var g=a.a.c(h()),k=!d!==!g,s=!r;if(s||c||k!==n){s&&a.ca.fa()&&(r=a.a.lb(a.e.childNodes(b),!0)),k?(s||a.e.U(b,a.a.lb(r)),a.gb(e?e(l,g):l,b)):a.e.da(b),n=k}},null,{G:b});return{controlsDescendantBindings:!0}}};a.g.aa[b]=!1;a.e.Q[b]=!0}var a="undefined"!==typeof z?z:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++){e=e[d[f]]}e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version="3.1.0";a.b("version",a.version);a.a=function(){function b(a,b){for(var c in a){a.hasOwnProperty(c)&&b(c,a[c])}}function c(a,b){if(b){for(var c in b){b.hasOwnProperty(c)&&(a[c]=b[c])}}return a}function d(a,b){a.__proto__=b;return a}var e={__proto__:[]} instanceof Array,f={},h={};f[K&&/Firefox\/2/i.test(K.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(f,function(a,b){if(b.length){for(var c=0,d=b.length;c<d;c++){h[b[c]]=a}}});var g={propertychange:!0},k=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];){}return 4<a?a:p}();return{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(a,b){for(var c=0,d=a.length;c<d;c++){b(a[c],c)}},l:function(a,b){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(a,b)}for(var c=0,d=a.length;c<d;c++){if(a[c]===b){return c}}return -1},hb:function(a,b,c){for(var d=0,e=a.length;d<e;d++){if(b.call(c,a[d],d)){return a[d]}}return null},ma:function(b,c){var d=a.a.l(b,c);0<d?b.splice(d,1):0===d&&b.shift()},ib:function(b){b=b||[];for(var c=[],d=0,e=b.length;d<e;d++){0>a.a.l(c,b[d])&&c.push(b[d])}return c},ya:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){c.push(b(a[d],d))}return c},la:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++){b(a[d],d)&&c.push(a[d])}return c},$:function(a,b){if(b instanceof Array){a.push.apply(a,b)}else{for(var c=0,d=b.length;c<d;c++){a.push(b[c])}}return a},Y:function(b,c,d){var e=a.a.l(a.a.Sa(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},na:e,extend:c,ra:d,sa:e?d:c,A:b,Oa:function(a,b){if(!a){return a}var c={},d;for(d in a){a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a))}return c},Fa:function(b){for(;b.firstChild;){a.removeNode(b.firstChild)}},ec:function(b){b=a.a.R(b);for(var c=w.createElement("div"),d=0,e=b.length;d<e;d++){c.appendChild(a.M(b[d]))}return c},lb:function(b,c){for(var d=0,e=b.length,g=[];d<e;d++){var k=b[d].cloneNode(!0);g.push(c?a.M(k):k)}return g},U:function(b,c){a.a.Fa(b);if(c){for(var d=0,e=c.length;d<e;d++){b.appendChild(c[d])}}},Bb:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],g=e.parentNode,k=0,h=c.length;k<h;k++){g.insertBefore(c[k],e)}k=0;for(h=d.length;k<h;k++){a.removeNode(d[k])}}},ea:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;){a.shift()}if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;){if(a.push(c),c=c.nextSibling,!c){return}}a.push(d)}}return a},Db:function(a,b){7>k?a.setAttribute("selected",b):a.selected=b},ta:function(a){return null===a||a===p?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(b,c){for(var d=[],e=(b||"").split(c),g=0,k=e.length;g<k;g++){var h=a.a.ta(e[g]);""!==h&&d.push(h)}return d},kc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Sb:function(a,b){if(a===b){return !0}if(11===a.nodeType){return !1}if(b.contains){return b.contains(3===a.nodeType?a.parentNode:a)}if(b.compareDocumentPosition){return 16==(b.compareDocumentPosition(a)&16)}for(;a&&a!=b;){a=a.parentNode}return !!a},Ea:function(b){return a.a.Sb(b,b.ownerDocument.documentElement)},eb:function(b){return !!a.a.hb(b,a.a.Ea)},B:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},q:function(b,c,d){var e=k&&g[c];if(!e&&t){t(b).bind(c,d)}else{if(e||"function"!=typeof b.addEventListener){if("undefined"!=typeof b.attachEvent){var h=function(a){d.call(b,a)},f="on"+c;b.attachEvent(f,h);a.a.u.ja(b,function(){b.detachEvent(f,h)})}else{throw Error("Browser doesn't support addEventListener or attachEvent")}}else{b.addEventListener(c,d,!1)}}},ha:function(b,c){if(!b||!b.nodeType){throw Error("element must be a DOM node when calling triggerEvent")}var d;"input"===a.a.B(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(t&&!d){t(b).trigger(c)}else{if("function"==typeof w.createEvent){if("function"==typeof b.dispatchEvent){d=w.createEvent(h[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d)}else{throw Error("The supplied element doesn't support dispatchEvent")}}else{if(d&&b.click){b.click()}else{if("undefined"!=typeof b.fireEvent){b.fireEvent("on"+c)}else{throw Error("Browser doesn't support triggering events")}}}}},c:function(b){return a.v(b)?b():b},Sa:function(b){return a.v(b)?b.o():b},ua:function(b,c,d){if(c){var e=/\S+/g,g=b.className.match(e)||[];a.a.r(c.match(e),function(b){a.a.Y(g,b,d)});b.className=g.join(" ")}},Xa:function(b,c){var d=a.a.c(c);if(null===d||d===p){d=""}var e=a.e.firstChild(b);!e||3!=e.nodeType||a.e.nextSibling(e)?a.e.U(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Vb(b)},Cb:function(a,b){a.name=b;if(7>=k){try{a.mergeAttributes(w.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}}},Vb:function(a){9<=k&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Tb:function(a){if(k){var b=a.style.width;a.style.width=0;a.style.width=b}},ic:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++){d.push(e)}return d},R:function(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push(a[c])}return b},mc:6===k,nc:7===k,oa:k,ob:function(b,c){for(var d=a.a.R(b.getElementsByTagName("input")).concat(a.a.R(b.getElementsByTagName("textarea"))),e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},g=[],k=d.length-1;0<=k;k--){e(d[k])&&g.push(d[k])}return g},fc:function(b){return"string"==typeof b&&(b=a.a.ta(b))?C&&C.parse?C.parse(b):(new Function("return "+b))():null},Ya:function(b,c,d){if(!C||!C.stringify){throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return C.stringify(a.a.c(b),c,d)},gc:function(c,d,e){e=e||{};var g=e.params||{},k=e.includeFields||this.mb,h=c;if("object"==typeof c&&"form"===a.a.B(c)){for(var h=c.action,f=k.length-1;0<=f;f--){for(var u=a.a.ob(c,k[f]),D=u.length-1;0<=D;D--){g[u[D].name]=u[D].value}}}d=a.a.c(d);var y=w.createElement("form");y.style.display="none";y.action=h;y.method="post";for(var p in d){c=w.createElement("input"),c.name=p,c.value=a.a.Ya(a.a.c(d[p])),y.appendChild(c)}b(g,function(a,b){var c=w.createElement("input");c.name=a;c.value=b;y.appendChild(c)});w.body.appendChild(y);e.submitter?e.submitter(y):y.submit();setTimeout(function(){y.parentNode.removeChild(y)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.r);a.b("utils.arrayFirst",a.a.hb);a.b("utils.arrayFilter",a.a.la);a.b("utils.arrayGetDistinctValues",a.a.ib);a.b("utils.arrayIndexOf",a.a.l);a.b("utils.arrayMap",a.a.ya);a.b("utils.arrayPushAll",a.a.$);a.b("utils.arrayRemoveItem",a.a.ma);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.mb);a.b("utils.getFormFields",a.a.ob);a.b("utils.peekObservable",a.a.Sa);a.b("utils.postJson",a.a.gc);a.b("utils.parseJson",a.a.fc);a.b("utils.registerEventHandler",a.a.q);a.b("utils.stringifyJson",a.a.Ya);a.b("utils.range",a.a.ic);a.b("utils.toggleDomNodeCssClass",a.a.ua);a.b("utils.triggerEvent",a.a.ha);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.A);a.b("utils.addOrRemoveItem",a.a.Y);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var g=b[d];if(!g||"null"===g||!e[g]){if(!h){return p}g=b[d]="ko"+c++;e[g]={}}return e[g]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===p?p:e[d]},set:function(c,d,e){if(e!==p||a(c,!1)!==p){a(c,!0)[d]=e}},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},L:function(){return c+++d}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);a.a.u=new function(){function b(b,c){var e=a.a.f.get(b,d);e===p&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e){for(var e=e.slice(0),k=0;k<e.length;k++){e[k](d)}}a.a.f.clear(d);a.a.u.cleanExternalData(d);if(f[d.nodeType]){for(e=d.firstChild;d=e;){e=d.nextSibling,8===d.nodeType&&c(d)}}}var d=a.a.f.L(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ja:function(a,c){if("function"!=typeof c){throw Error("Callback must be a function")}b(a,!0).push(c)},Ab:function(c,e){var k=b(c,!1);k&&(a.a.ma(k,e),0==k.length&&a.a.f.set(c,d,p))},M:function(b){if(e[b.nodeType]&&(c(b),f[b.nodeType])){var d=[];a.a.$(d,b.getElementsByTagName("*"));for(var k=0,l=d.length;k<l;k++){c(d[k])}}return b},removeNode:function(b){a.M(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){t&&"function"==typeof t.cleanData&&t.cleanData([a])}}};a.M=a.a.u.M;a.removeNode=a.a.u.removeNode;a.b("cleanNode",a.M);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.u);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.u.ja);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.u.Ab);(function(){a.a.Qa=function(b){var c;if(t){if(t.parseHTML){c=t.parseHTML(b)||[]}else{if((c=t.clean([b]))&&c[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;){b=b.parentNode}b.parentNode&&b.parentNode.removeChild(b)}}}else{var d=a.a.ta(b).toLowerCase();c=w.createElement("div");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];b="ignored<div>"+d[1]+b+d[2]+"</div>";for("function"==typeof A.innerShiv?c.appendChild(A.innerShiv(b)):c.innerHTML=b;d[0]--;){c=c.lastChild}c=a.a.R(c.lastChild.childNodes)}return c};a.a.Va=function(b,c){a.a.Fa(b);c=a.a.c(c);if(null!==c&&c!==p){if("string"!=typeof c&&(c=c.toString()),t){t(b).html(c)}else{for(var d=a.a.Qa(c),e=0;e<d.length;e++){b.appendChild(d[e])}}}}})();a.b("utils.parseHtmlFragment",a.a.Qa);a.b("utils.setHtml",a.a.Va);a.w=function(){function b(c,e){if(c){if(8==c.nodeType){var f=a.w.xb(c.nodeValue);null!=f&&e.push({Rb:c,cc:f})}else{if(1==c.nodeType){for(var f=0,h=c.childNodes,g=h.length;f<g;f++){b(h[f],e)}}}}}var c={};return{Na:function(a){if("function"!=typeof a){throw Error("You can only pass a function to ko.memoization.memoize()")}var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Hb:function(a,b){var f=c[a];if(f===p){throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.")}try{return f.apply(null,b||[]),!0}finally{delete c[a]}},Ib:function(c,e){var f=[];b(c,f);for(var h=0,g=f.length;h<g;h++){var k=f[h].Rb,l=[k];e&&a.a.$(l,e);a.w.Hb(f[h].cc,l);k.nodeValue="";k.parentNode&&k.parentNode.removeChild(k)}},xb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.w);a.b("memoization.memoize",a.w.Na);a.b("memoization.unmemoize",a.w.Hb);a.b("memoization.parseMemoText",a.w.xb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.w.Ib);a.Ga={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);f="notifyWhenChangesStop"==e?O:N;a.Ma(function(a){return f(a,d)})},notify:function(a,c){a.equalityComparer="always"==c?null:G}};var M={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ga);a.Fb=function(b,c,d){this.target=b;this.za=c;this.Qb=d;this.sb=!1;a.s(this,"dispose",this.F)};a.Fb.prototype.F=function(){this.sb=!0;this.Qb()};a.N=function(){a.a.sa(this,a.N.fn);this.H={}};var F="change";z={V:function(b,c,d){var e=this;d=d||F;var f=new a.Fb(e,c?b.bind(c):b,function(){a.a.ma(e.H[d],f)});e.o&&e.o();e.H[d]||(e.H[d]=[]);e.H[d].push(f);return f},notifySubscribers:function(b,c){c=c||F;if(this.qb(c)){try{a.k.jb();for(var d=this.H[c].slice(0),e=0,f;f=d[e];++e){f.sb||f.za(b)}}finally{a.k.end()}}},Ma:function(b){var c=this,d=a.v(c),e,f,h;c.ia||(c.ia=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&b!==F?"beforeChange"===b?c.bb(a):c.ia(a,b):c.cb(a)});var g=b(function(){d&&h===c&&(h=c());e=!1;c.Ka(f,h)&&c.ia(f=h)});c.cb=function(a){e=!0;h=a;g()};c.bb=function(a){e||(f=a,c.ia(a,"beforeChange"))}},qb:function(a){return this.H[a]&&this.H[a].length},Wb:function(){var b=0;a.a.A(this.H,function(a,d){b+=d.length});return b},Ka:function(a,c){return !this.equalityComparer||!this.equalityComparer(a,c)},extend:function(b){var c=this;b&&a.a.A(b,function(b,e){var f=a.Ga[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.s(z,"subscribe",z.V);a.s(z,"extend",z.extend);a.s(z,"getSubscriptionsCount",z.Wb);a.a.na&&a.a.ra(z,Function.prototype);a.N.fn=z;a.tb=function(a){return null!=a&&"function"==typeof a.V&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.N);a.b("isSubscribable",a.tb);a.ca=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{jb:b,end:c,zb:function(b){if(e){if(!a.tb(b)){throw Error("Only subscribable things can act as dependencies")}e.za(b,b.Kb||(b.Kb=++f))}},t:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},fa:function(){if(e){return e.ba.fa()}},pa:function(){if(e){return e.pa}}}}();a.b("computedContext",a.ca);a.b("computedContext.getDependenciesCount",a.ca.fa);a.b("computedContext.isInitial",a.ca.pa);a.m=function(b){function c(){if(0<arguments.length){return c.Ka(d,arguments[0])&&(c.P(),d=arguments[0],c.O()),this}a.k.zb(c);return d}var d=b;a.N.call(c);a.a.sa(c,a.m.fn);c.o=function(){return d};c.O=function(){c.notifySubscribers(d)};c.P=function(){c.notifySubscribers(d,"beforeChange")};a.s(c,"peek",c.o);a.s(c,"valueHasMutated",c.O);a.s(c,"valueWillMutate",c.P);return c};a.m.fn={equalityComparer:G};var E=a.m.hc="__ko_proto__";a.m.fn[E]=a.m;a.a.na&&a.a.ra(a.m.fn,a.N.fn);a.Ha=function(b,c){return null===b||b===p||b[E]===p?!1:b[E]===c?!0:a.Ha(b[E],c)};a.v=function(b){return a.Ha(b,a.m)};a.ub=function(b){return"function"==typeof b&&b[E]===a.m||"function"==typeof b&&b[E]===a.h&&b.Yb?!0:!1};a.b("observable",a.m);a.b("isObservable",a.v);a.b("isWriteableObservable",a.ub);a.T=function(b){b=b||[];if("object"!=typeof b||!("length" in b)){throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}b=a.m(b);a.a.sa(b,a.T.fn);return b.extend({trackArrayChanges:!0})};a.T.fn={remove:function(b){for(var c=this.o(),d=[],e="function"!=typeof b||a.v(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var h=c[f];e(h)&&(0===d.length&&this.P(),d.push(h),c.splice(f,1),f--)}d.length&&this.O();return d},removeAll:function(b){if(b===p){var c=this.o(),d=c.slice(0);this.P();c.splice(0,c.length);this.O();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.o(),d="function"!=typeof b||a.v(b)?function(a){return a===b}:b;this.P();for(var e=c.length-1;0<=e;e--){d(c[e])&&(c[e]._destroy=!0)}this.O()},destroyAll:function(b){return b===p?this.destroy(function(){return !0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.P(),this.o()[d]=c,this.O())}};a.a.r("pop push reverse shift sort splice unshift".split(" "),function(b){a.T.fn[b]=function(){var a=this.o();this.P();this.kb(a,b,arguments);a=a[b].apply(a,arguments);this.O();return a}});a.a.r(["slice"],function(b){a.T.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.na&&a.a.ra(a.T.fn,a.m.fn);a.b("observableArray",a.T);var I="arrayChange";a.Ga.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=function(a,b){b&&b!==F||++f;return c.apply(this,arguments)};var k=[].concat(b.o()||[]);e=null;b.V(function(c){c=[].concat(c||[]);if(b.qb(I)){var d;if(!e||1<f){e=a.a.Aa(k,c,{sparse:!0})}d=e;d.length&&b.notifySubscribers(d,I)}k=c;e=null;f=0})}}if(!b.kb){var d=!1,e=null,f=0,h=b.V;b.V=b.subscribe=function(a,b,d){d===I&&c();return h.apply(this,arguments)};b.kb=function(b,c,l){function h(a,b,c){return r[r.length]={status:a,value:b,index:c}}if(d&&!f){var r=[],m=b.length,q=l.length,s=0;switch(c){case"push":s=m;case"unshift":for(c=0;c<q;c++){h("added",l[c],s+c)}break;case"pop":s=m-1;case"shift":m&&h("deleted",b[s],s);break;case"splice":c=Math.min(Math.max(0,0>l[0]?m+l[0]:l[0]),m);for(var m=1===q?m:Math.min(c+(l[1]||0),m),q=c+q-2,s=Math.max(m,q),B=[],u=[],D=2;c<s;++c,++D){c<m&&u.push(h("deleted",b[c],c)),c<q&&B.push(h("added",l[D],c))}a.a.nb(u,B);break;default:return}e=r}}}};a.ba=a.h=function(b,c,d){function e(){q=!0;a.a.A(v,function(a,b){b.F()});v={};x=0;n=!1}function f(){var a=g.throttleEvaluation;a&&0<=a?(clearTimeout(t),t=setTimeout(h,a)):g.wa?g.wa():h()}function h(){if(!r&&!q){if(y&&y()){if(!m){p();return}}else{m=!1}r=!0;try{var b=v,d=x;a.k.jb({za:function(a,c){q||(d&&b[c]?(v[c]=b[c],++x,delete b[c],--d):v[c]||(v[c]=a.V(f),++x))},ba:g,pa:!x});v={};x=0;try{var e=c?s.call(c):s()}finally{a.k.end(),d&&a.a.A(b,function(a,b){b.F()}),n=!1}g.Ka(l,e)&&(g.notifySubscribers(l,"beforeChange"),l=e,g.wa&&!g.throttleEvaluation||g.notifySubscribers(l))}finally{r=!1}x||p()}}function g(){if(0<arguments.length){if("function"===typeof B){B.apply(c,arguments)}else{throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}return this}n&&h();a.k.zb(g);return l}function k(){return n||0<x}var l,n=!0,r=!1,m=!1,q=!1,s=b;s&&"object"==typeof s?(d=s,s=d.read):(d=d||{},s||(s=d.read));if("function"!=typeof s){throw Error("Pass a function that returns the value of the ko.computed")}var B=d.write,u=d.disposeWhenNodeIsRemoved||d.G||null,D=d.disposeWhen||d.Da,y=D,p=e,v={},x=0,t=null;c||(c=d.owner);a.N.call(g);a.a.sa(g,a.h.fn);g.o=function(){n&&!x&&h();return l};g.fa=function(){return x};g.Yb="function"===typeof d.write;g.F=function(){p()};g.ga=k;var w=g.Ma;g.Ma=function(a){w.call(g,a);g.wa=function(){g.bb(l);n=!0;g.cb(g)}};a.s(g,"peek",g.o);a.s(g,"dispose",g.F);a.s(g,"isActive",g.ga);a.s(g,"getDependenciesCount",g.fa);u&&(m=!0,u.nodeType&&(y=function(){return !a.a.Ea(u)||D&&D()}));!0!==d.deferEvaluation&&h();u&&k()&&u.nodeType&&(p=function(){a.a.u.Ab(u,p);e()},a.a.u.ja(u,p));return g};a.$b=function(b){return a.Ha(b,a.h)};z=a.m.hc;a.h[z]=a.m;a.h.fn={equalityComparer:G};a.h.fn[z]=a.h;a.a.na&&a.a.ra(a.h.fn,a.N.fn);a.b("dependentObservable",a.h);a.b("computed",a.h);a.b("isComputed",a.$b);(function(){function b(a,f,h){h=h||new d;a=f(a);if("object"!=typeof a||null===a||a===p||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean){return a}var g=a instanceof Array?[]:{};h.save(a,g);c(a,function(c){var d=f(a[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":g[c]=d;break;case"object":case"undefined":var n=h.get(d);g[c]=n!==p?n:b(d,f,h)}});return g}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++){b(c)}"function"==typeof a.toJSON&&b("toJSON")}else{for(c in a){b(c)}}}function d(){this.keys=[];this.ab=[]}a.Gb=function(c){if(0==arguments.length){throw Error("When calling ko.toJS, pass the object you want to convert.")}return b(c,function(b){for(var c=0;a.v(b)&&10>c;c++){b=b()}return b})};a.toJSON=function(b,c,d){b=a.Gb(b);return a.a.Ya(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.ab[d]=c:(this.keys.push(b),this.ab.push(c))},get:function(b){b=a.a.l(this.keys,b);return 0<=b?this.ab[b]:p}}})();a.b("toJS",a.Gb);a.b("toJSON",a.toJSON);(function(){a.i={p:function(b){switch(a.a.B(b)){case"option":return !0===b.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Pa):7>=a.a.oa?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex]):p;default:return b.value}},X:function(b,c,d){switch(a.a.B(b)){case"option":switch(typeof c){case"string":a.a.f.set(b,a.d.options.Pa,p);"__ko__hasDomDataOptionValue__" in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Pa,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===typeof c?c:""}break;case"select":if(""===c||null===c){c=p}for(var e=-1,f=0,h=b.options.length,g;f<h;++f){if(g=a.i.p(b.options[f]),g==c||""==g&&c===p){e=f;break}}if(d||0<=e||c===p&&1<b.size){b.selectedIndex=e}break;default:if(null===c||c===p){c=""}b.value=c}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",a.i.p);a.b("selectExtensions.writeValue",a.i.X);a.g=function(){function b(b){b=a.a.ta(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],d=b.match(e),g,m,q=0;if(d){d.push(",");for(var s=0,B;B=d[s];++s){var u=B.charCodeAt(0);if(44===u){if(0>=q){g&&c.push(m?{key:g,value:m.join("")}:{unknown:g});g=m=q=0;continue}}else{if(58===u){if(!m){continue}}else{if(47===u&&s&&1<B.length){(u=d[s-1].match(f))&&!h[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),d.push(","),s=-1,B="/")}else{if(40===u||123===u||91===u){++q}else{if(41===u||125===u||93===u){--q}else{if(!g&&!m){g=34===u||39===u?B.slice(1,-1):B;continue}}}}}}m?m.push(B):m=[B]}}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1},g={};return{aa:[],W:g,Ra:b,qa:function(e,l){function f(b,e){var l,k=a.getBindingHandler(b);if(k&&k.preprocess?e=k.preprocess(e,b,f):1){if(k=g[b]){l=e,0<=a.a.l(c,l)?l=!1:(k=l.match(d),l=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:l),k=l}k&&m.push("'"+b+"':function(_z){"+l+"=_z}");q&&(e="function(){return "+e+" }");h.push("'"+b+"':"+e)}}l=l||{};var h=[],m=[],q=l.valueAccessors,s="string"===typeof e?b(e):e;a.a.r(s,function(a){f(a.key||a.unknown,a.value)});m.length&&f("_ko_property_writers","{"+m.join(",")+" }");return h.join(",")},bc:function(a,b){for(var c=0;c<a.length;c++){if(a[c].key==b){return !0}}return !1},va:function(b,c,d,e,g){if(b&&a.v(b)){!a.ub(b)||g&&b.o()===e||b(e)}else{if((b=c.get("_ko_property_writers"))&&b[d]){b[d](e)}}}}}();a.b("expressionRewriting",a.g);a.b("expressionRewriting.bindingRewriteValidators",a.g.aa);a.b("expressionRewriting.parseObjectLiteral",a.g.Ra);a.b("expressionRewriting.preProcessBindings",a.g.qa);a.b("expressionRewriting._twoWayBindings",a.g.W);a.b("jsonExpressionRewriting",a.g);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.g.qa);(function(){function b(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function d(a,d){for(var e=a,g=1,k=[];e=e.nextSibling;){if(c(e)&&(g--,0===g)){return k}k.push(e);b(e)&&g++}if(!d){throw Error("Cannot find closing comment tag to match: "+a.nodeValue)}return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,h=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,g=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,k={ul:!0,ol:!0};a.e={Q:{},childNodes:function(a){return b(a)?d(a):a.childNodes},da:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++){a.removeNode(c[d])}}else{a.a.Fa(c)}},U:function(c,d){if(b(c)){a.e.da(c);for(var e=c.nextSibling,g=0,k=d.length;g<k;g++){e.parentNode.insertBefore(d[g],e)}}else{a.a.U(c,d)}},yb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},rb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.yb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Xb:b,lc:function(a){return(a=(f?a.text:a.nodeValue).match(h))?a[1]:null},wb:function(d){if(k[a.a.B(d)]){var g=d.firstChild;if(g){do{if(1===g.nodeType){var f;f=g.firstChild;var h=null;if(f){do{if(h){h.push(f)}else{if(b(f)){var q=e(f,!0);q?f=q:h=[f]}else{c(f)&&(h=[f])}}}while(f=f.nextSibling)}if(f=h){for(h=g.nextSibling,q=0;q<f.length;q++){h?d.insertBefore(f[q],h):d.appendChild(f[q])}}}}while(g=g.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",a.e.Q);a.b("virtualElements.emptyNode",a.e.da);a.b("virtualElements.insertAfter",a.e.rb);a.b("virtualElements.prepend",a.e.yb);a.b("virtualElements.setDomNodeChildren",a.e.U);(function(){a.J=function(){this.Nb={}};a.a.extend(a.J.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind");case 8:return a.e.Xb(b);default:return !1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.e.lc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var f=this.Nb,h=b+(e&&e.valueAccessors||""),g;if(!(g=f[h])){var k,l="with($context){with($data||{}){return{"+a.g.qa(b,e)+"}}}";k=new Function("$context","$element",l);g=f[h]=k}return g(c,d)}catch(n){throw n.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+n.message,n}}});a.J.instance=new a.J})();a.b("bindingProvider",a.J);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Oa(a.k.t(b),function(a,c){return function(){return b()[c]}})}function e(a,b){return d(this.getBindings.bind(this,a,b))}function f(b,c,d){var e,g=a.e.firstChild(c),k=a.J.instance,f=k.preprocessNode;if(f){for(;e=g;){g=a.e.nextSibling(e),f.call(k,e)}g=a.e.firstChild(c)}for(;e=g;){g=a.e.nextSibling(e),h(b,e,d)}}function h(b,c,d){var e=!0,g=1===c.nodeType;g&&a.e.wb(c);if(g&&d||a.J.instance.nodeHasBindings(c)){e=k(c,null,b,d).shouldBindDescendants}e&&!n[a.a.B(c)]&&f(b,c,!g)}function g(b){var c=[],d={},e=[];a.a.A(b,function y(g){if(!d[g]){var k=a.getBindingHandler(g);k&&(k.after&&(e.push(g),a.a.r(k.after,function(c){if(b[c]){if(-1!==a.a.l(e,c)){throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "))}y(c)}}),e.length--),c.push({key:g,pb:k}));d[g]=!0}});return c}function k(b,d,k,f){var h=a.a.f.get(b,r);if(!d){if(h){throw Error("You cannot apply bindings multiple times to the same element.")}a.a.f.set(b,r,!0)}!h&&f&&a.Eb(b,k);var l;if(d&&"function"!==typeof d){l=d}else{var n=a.J.instance,m=n.getBindingAccessors||e,x=a.h(function(){(l=d?d(k,b):m.call(n,b,k))&&k.D&&k.D();return l},null,{G:b});l&&x.ga()||(x=null)}var t;if(l){var w=x?function(a){return function(){return c(x()[a])}}:function(a){return l[a]},z=function(){return a.a.Oa(x?x():l,c)};z.get=function(a){return l[a]&&c(w(a))};z.has=function(a){return a in l};f=g(l);a.a.r(f,function(c){var d=c.pb.init,e=c.pb.update,g=c.key;if(8===b.nodeType&&!a.e.Q[g]){throw Error("The binding '"+g+"' cannot be used with virtual elements")}try{"function"==typeof d&&a.k.t(function(){var a=d(b,w(g),z,k.$data,k);if(a&&a.controlsDescendantBindings){if(t!==p){throw Error("Multiple bindings ("+t+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}t=g}}),"function"==typeof e&&a.h(function(){e(b,w(g),z,k.$data,k)},null,{G:b})}catch(f){throw f.message='Unable to process binding "'+g+": "+l[g]+'"\nMessage: '+f.message,f}})}return{shouldBindDescendants:t===p}}function l(b){return b&&b instanceof a.I?b:new a.I(b)}a.d={};var n={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.I=function(b,c,d,e){var g=this,k="function"==typeof b&&!a.v(b),f,h=a.h(function(){var f=k?b():b,l=a.a.c(f);c?(c.D&&c.D(),a.a.extend(g,c),h&&(g.D=h)):(g.$parents=[],g.$root=l,g.ko=a);g.$rawData=f;g.$data=l;d&&(g[d]=l);e&&e(g,c,l);return g.$data},null,{Da:function(){return f&&!a.a.eb(f)},G:!0});h.ga()&&(g.D=h,h.equalityComparer=null,f=[],h.Jb=function(b){f.push(b);a.a.u.ja(b,function(b){a.a.ma(f,b);f.length||(h.F(),g.D=h=p)})})};a.I.prototype.createChildContext=function(b,c,d){return new a.I(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.I.prototype.extend=function(b){return new a.I(this.D||this.$data,this,null,function(c,d){c.$rawData=d.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var r=a.a.f.L(),m=a.a.f.L();a.Eb=function(b,c){if(2==arguments.length){a.a.f.set(b,m,c),c.D&&c.D.Jb(b)}else{return a.a.f.get(b,m)}};a.xa=function(b,c,d){1===b.nodeType&&a.e.wb(b);return k(b,c,l(d),!0)};a.Lb=function(c,e,g){g=l(g);return a.xa(c,"function"===typeof e?d(e.bind(null,g,c)):a.a.Oa(e,b),g)};a.gb=function(a,b){1!==b.nodeType&&8!==b.nodeType||f(l(a),b,!0)};a.fb=function(a,b){!t&&A.jQuery&&(t=A.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType){throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}b=b||A.document.body;h(l(a),b,!0)};a.Ca=function(b){switch(b.nodeType){case 1:case 8:var c=a.Eb(b);if(c){return c}if(b.parentNode){return a.Ca(b.parentNode)}}return p};a.Pb=function(b){return(b=a.Ca(b))?b.$data:p};a.b("bindingHandlers",a.d);a.b("applyBindings",a.fb);a.b("applyBindingsToDescendants",a.gb);a.b("applyBindingAccessorsToNode",a.xa);a.b("applyBindingsToNode",a.Lb);a.b("contextFor",a.Ca);a.b("dataFor",a.Pb)})();var L={"class":"className","for":"htmlFor"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.A(d,function(c,d){d=a.a.c(d);var h=!1===d||null===d||d===p;h&&b.removeAttribute(c);8>=a.a.oa&&c in L?(c=L[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,d.toString());"name"===c&&a.a.Cb(b,h?"":d.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(b,c,d){function e(){return d.has("checkedValue")?a.a.c(d.get("checkedValue")):b.value}function f(){var g=b.checked,f=r?e():g;if(!a.ca.pa()&&(!k||g)){var h=a.k.t(c);l?n!==f?(g&&(a.a.Y(h,f,!0),a.a.Y(h,n,!1)),n=f):a.a.Y(h,f,g):a.g.va(h,d,"checked",f,!0)}}function h(){var d=a.a.c(c());b.checked=l?0<=a.a.l(d,e()):g?d:e()===d}var g="checkbox"==b.type,k="radio"==b.type;if(g||k){var l=g&&a.a.c(c()) instanceof Array,n=l?e():p,r=k||l;k&&!b.name&&a.d.uniqueName.init(b,function(){return !0});a.ba(f,null,{G:b});a.a.q(b,"click",f);a.ba(h,null,{G:b})}}};a.g.W.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());"object"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.ua(b,c,d)}):(d=String(d||""),a.a.ua(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ua(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return !a.a.c(c())})}};a.d.event={init:function(b,c,d,e,f){var h=c()||{};a.a.A(h,function(g){"string"==typeof g&&a.a.q(b,g,function(b){var h,n=c()[g];if(n){try{var r=a.a.R(arguments);e=f.$data;r.unshift(e);h=n.apply(e,r)}finally{!0!==h&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={vb:function(b){return function(){var c=b(),d=a.a.Sa(c);if(!d||"number"==typeof d.length){return{foreach:c,templateEngine:a.K.Ja}}a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.K.Ja}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.vb(c))},update:function(b,c,d,e,f){return a.d.template.update(b,a.d.foreach.vb(c),d,e,f)}};a.g.aa.foreach=!1;a.e.Q.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var k=b.ownerDocument;if("activeElement" in k){var f;try{f=k.activeElement}catch(h){f=k.body}e=f===b}k=c();a.g.va(k,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),h=e.bind(null,!1);a.a.q(b,"focus",f);a.a.q(b,"focusin",f);a.a.q(b,"blur",h);a.a.q(b,"focusout",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.t(a.a.ha,null,[b,d?"focusin":"focusout"]))}};a.g.W.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.W.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Va(b,c())}};H("if");H("ifnot",!1,!0);H("with",!0,!1,function(a,c){return a.createChildContext(c)});var J={};a.d.options={init:function(b){if("select"!==a.a.B(b)){throw Error("options binding applies only to SELECT elements")}for(;0<b.length;){b.remove(0)}return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.la(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function h(c,d){if(r.length){var e=0<=a.a.l(r,a.i.p(d[0]));a.a.Db(d[0],e);m&&!e&&a.k.t(a.a.ha,null,[b,"change"])}}var g=0!=b.length&&b.multiple?b.scrollTop:null,k=a.a.c(c()),l=d.get("optionsIncludeDestroyed");c={};var n,r;r=b.multiple?a.a.ya(e(),a.i.p):0<=b.selectedIndex?[a.i.p(b.options[b.selectedIndex])]:[];k&&("undefined"==typeof k.length&&(k=[k]),n=a.a.la(k,function(b){return l||b===p||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(k=a.a.c(d.get("optionsCaption")),null!==k&&k!==p&&n.unshift(J)));var m=!1;c.beforeRemove=function(a){b.removeChild(a)};k=h;d.has("optionsAfterRender")&&(k=function(b,c){h(0,c);a.k.t(d.get("optionsAfterRender"),null,[c[0],b!==J?b:p])});a.a.Ua(b,n,function(c,e,g){g.length&&(r=g[0].selected?[a.i.p(g[0])]:[],m=!0);e=b.ownerDocument.createElement("option");c===J?(a.a.Xa(e,d.get("optionsCaption")),a.i.X(e,p)):(g=f(c,d.get("optionsValue"),c),a.i.X(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.Xa(e,c));return[e]},c,k);a.k.t(function(){d.get("valueAllowUnset")&&d.has("value")?a.i.X(b,a.a.c(d.get("value")),!0):(b.multiple?r.length&&e().length<r.length:r.length&&0<=b.selectedIndex?a.i.p(b.options[b.selectedIndex])!==r[0]:r.length||0<=b.selectedIndex)&&a.a.ha(b,"change")});a.a.Tb(b);g&&20<Math.abs(g-b.scrollTop)&&(b.scrollTop=g)}};a.d.options.Pa=a.a.f.L();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.q(b,"change",function(){var e=c(),f=[];a.a.r(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.i.p(b))});a.g.va(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.B(b)){throw Error("values binding applies only to SELECT elements")}var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.r(b.getElementsByTagName("option"),function(b){var c=0<=a.a.l(d,a.i.p(b));a.a.Db(b,c)})}};a.g.W.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.A(d,function(c,d){d=a.a.c(d);b.style[c]=d||""})}};a.d.submit={init:function(b,c,d,e,f){if("function"!=typeof c()){throw Error("The value for a submit binding must be a function")}a.a.q(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Xa(b,c())}};a.e.Q.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.Ob;a.a.Cb(b,d)}}};a.d.uniqueName.Ob=0;a.d.value={after:["options","foreach"],init:function(b,c,d){function e(){g=!1;var e=c(),f=a.i.p(b);a.g.va(e,d,"value",f)}var f=["change"],h=d.get("valueUpdate"),g=!1;h&&("string"==typeof h&&(h=[h]),a.a.$(f,h),f=a.a.ib(f));!a.a.oa||"input"!=b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.l(f,"propertychange")||(a.a.q(b,"propertychange",function(){g=!0}),a.a.q(b,"focus",function(){g=!1}),a.a.q(b,"blur",function(){g&&e()}));a.a.r(f,function(c){var d=e;a.a.kc(c,"after")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.q(b,c,d)})},update:function(b,c,d){var e=a.a.c(c());c=a.i.p(b);if(e!==c){if("select"===a.a.B(b)){var f=d.get("valueAllowUnset");d=function(){a.i.X(b,e,f)};d();f||e===a.i.p(b)?setTimeout(d,0):a.k.t(a.a.ha,null,[b,"change"])}else{a.i.X(b,e)}}}};a.g.W.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,f,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,h)}}})("click");a.C=function(){};a.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};a.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};a.C.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d){throw Error("Cannot find template with ID "+b)}return new a.n.j(d)}if(1==b.nodeType||8==b.nodeType){return new a.n.Z(b)}throw Error("Unknown template type: "+b)};a.C.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d)};a.C.prototype.isTemplateRewritten=function(a,c){return !1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.C.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.C);a.Za=function(){function b(b,c,d,g){b=a.g.Ra(b);for(var k=a.g.aa,l=0;l<b.length;l++){var n=b[l].key;if(k.hasOwnProperty(n)){var r=k[n];if("function"===typeof r){if(n=r(b[l].value)){throw Error(n)}}else{if(!r){throw Error("This template engine does not support the '"+n+"' binding within its templates")}}}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.g.qa(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return g.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ub:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Za.dc(b,c)},d)},dc:function(a,f){return a.replace(c,function(a,c,d,e,n){return b(n,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},Mb:function(b,c){return a.w.Na(function(d,g){var k=d.nextSibling;k&&k.nodeName.toLowerCase()===c&&a.xa(k,b,g)})}}}();a.b("__tr_ambtns",a.Za.Mb);(function(){a.n={};a.n.j=function(a){this.j=a};a.n.j.prototype.text=function(){var b=a.a.B(this.j),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length){return this.j[b]}var c=arguments[0];"innerHTML"===b?a.a.Va(this.j,c):this.j[b]=c};var b=a.a.f.L()+"_";a.n.j.prototype.data=function(c){if(1===arguments.length){return a.a.f.get(this.j,b+c)}a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.L();a.n.Z=function(a){this.j=a};a.n.Z.prototype=new a.n.j;a.n.Z.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.$a===p&&b.Ba&&(b.$a=b.Ba.innerHTML);return b.$a}a.a.f.set(this.j,c,{$a:arguments[0]})};a.n.j.prototype.nodes=function(){if(0==arguments.length){return(a.a.f.get(this.j,c)||{}).Ba}a.a.f.set(this.j,c,{Ba:arguments[0]})};a.b("templateSources",a.n);a.b("templateSources.domElement",a.n.j);a.b("templateSources.anonymousTemplate",a.n.Z)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;){b=a.e.nextSibling(e),d(e,b)}}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],h=e.parentNode,m=a.J.instance,q=m.preprocessNode;if(q){b(e,f,function(a,b){var c=a.previousSibling,d=q.call(m,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e){return}e===f?c.push(e):(c.push(e,f),a.a.ea(c,h))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.fb(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.w.Ib(b,[d])});a.a.ea(c,h)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,h,n,r){r=r||{};var m=b&&d(b),m=m&&m.ownerDocument,q=r.templateEngine||f;a.Za.Ub(h,q,m);h=q.renderTemplate(h,n,r,m);if("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType){throw Error("Template engine must return an array of DOM nodes")}m=!1;switch(e){case"replaceChildren":a.e.U(b,h);m=!0;break;case"replaceNode":a.a.Bb(b,h);m=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}m&&(c(h,n),r.afterRender&&a.k.t(r.afterRender,null,[h,n.$data]));return h}var f;a.Wa=function(b){if(b!=p&&!(b instanceof a.C)){throw Error("templateEngine must inherit from ko.templateEngine")}f=b};a.Ta=function(b,c,h,n,r){h=h||{};if((h.templateEngine||f)==p){throw Error("Set a template engine before calling renderTemplate")}r=r||"replaceChildren";if(n){var m=d(n);return a.h(function(){var f=c&&c instanceof a.I?c:new a.I(a.a.c(c)),p=a.v(b)?b():"function"==typeof b?b(f.$data,f):b,f=e(n,r,p,f,h);"replaceNode"==r&&(n=f,m=d(n))},null,{Da:function(){return !m||!a.a.Ea(m)},G:m&&"replaceNode"==r?m.parentNode:m})}return a.w.Na(function(d){a.Ta(b,c,h,d,"replaceNode")})};a.jc=function(b,d,f,h,r){function m(a,b){c(b,s);f.afterRender&&f.afterRender(b,a)}function q(a,c){s=r.createChildContext(a,f.as,function(a){a.$index=c});var d="function"==typeof b?b(a,s):b;return e(null,"ignoreTargetNode",d,s,f)}var s;return a.h(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=a.a.la(b,function(b){return f.includeDestroyed||b===p||null===b||!a.a.c(b._destroy)});a.k.t(a.a.Ua,null,[h,b,q,f,m])},null,{G:h})};var h=a.a.f.L();a.d.template={init:function(b,c){var d=a.a.c(c());"string"==typeof d||d.name?a.e.da(b):(d=a.e.childNodes(b),d=a.a.ec(d),(new a.n.Z(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var m=c(),q;c=a.a.c(m);d=!0;e=null;"string"==typeof c?c={}:(m=c.name,"if" in c&&(d=a.a.c(c["if"])),d&&"ifnot" in c&&(d=!a.a.c(c.ifnot)),q=a.a.c(c.data));"foreach" in c?e=a.jc(m||b,d&&c.foreach||[],c,b,f):d?(f="data" in c?f.createChildContext(q,c.as):f,e=a.Ta(m||b,f,c,b)):a.e.da(b);f=e;(q=a.a.f.get(b,h))&&"function"==typeof q.F&&q.F();a.a.f.set(b,h,f&&f.ga()?f:p)}};a.g.aa.template=function(b){b=a.g.Ra(b);return 1==b.length&&b[0].unknown||a.g.bc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.Q.template=!0})();a.b("setTemplateEngine",a.Wa);a.b("renderTemplate",a.Ta);a.a.nb=function(a,c,d){if(a.length&&c.length){var e,f,h,g,k;for(e=f=0;(!d||e<d)&&(g=a[f]);++f){for(h=0;k=c[h];++h){if(g.value===k.value){g.moved=k.index;k.moved=g.index;c.splice(h,1);e=h=0;break}}e+=h}}};a.a.Aa=function(){function b(b,d,e,f,h){var g=Math.min,k=Math.max,l=[],n,p=b.length,m,q=d.length,s=q-p||1,t=p+q+1,u,w,y;for(n=0;n<=p;n++){for(w=u,l.push(u=[]),y=g(q,n+s),m=k(0,n-1);m<=y;m++){u[m]=m?n?b[n-1]===d[m-1]?w[m-1]:g(w[m]||t,u[m-1]||t)+1:m+1:n+1}}g=[];k=[];s=[];n=p;for(m=q;n||m;){q=l[n][m]-1,m&&q===l[n][m-1]?k.push(g[g.length]={status:e,value:d[--m],index:m}):n&&q===l[n-1][m]?s.push(g[g.length]={status:f,value:b[--n],index:n}):(--m,--n,h.sparse||g.push({status:"retained",value:d[m]}))}a.a.nb(k,s,10*p);return g.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<=d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Aa);(function(){function b(b,c,f,h,g){var k=[],l=a.h(function(){var l=c(f,g,a.a.ea(k,b))||[];0<k.length&&(a.a.Bb(k,l),h&&a.k.t(h,null,[f,l,g]));k.length=0;a.a.$(k,l)},null,{G:b,Da:function(){return !a.a.eb(k)}});return{S:k,h:l.ga()?l:p}}var c=a.a.f.L();a.a.Ua=function(d,e,f,h,g){function k(b,c){v=r[c];u!==c&&(z[b]=v);v.Ia(u++);a.a.ea(v.S,d);s.push(v);y.push(v)}function l(b,c){if(b){for(var d=0,e=c.length;d<e;d++){c[d]&&a.a.r(c[d].S,function(a){b(a,d,c[d].ka)})}}}e=e||[];h=h||{};var n=a.a.f.get(d,c)===p,r=a.a.f.get(d,c)||[],m=a.a.ya(r,function(a){return a.ka}),q=a.a.Aa(m,e,h.dontLimitMoves),s=[],t=0,u=0,w=[],y=[];e=[];for(var z=[],m=[],v,x=0,A,C;A=q[x];x++){switch(C=A.moved,A.status){case"deleted":C===p&&(v=r[t],v.h&&v.h.F(),w.push.apply(w,a.a.ea(v.S,d)),h.beforeRemove&&(e[x]=v,y.push(v)));t++;break;case"retained":k(x,t++);break;case"added":C!==p?k(x,C):(v={ka:A.value,Ia:a.m(u++)},s.push(v),y.push(v),n||(m[x]=v))}}l(h.beforeMove,z);a.a.r(w,h.beforeRemove?a.M:a.removeNode);for(var x=0,n=a.e.firstChild(d),E;v=y[x];x++){v.S||a.a.extend(v,b(d,f,v.ka,g,v.Ia));for(t=0;q=v.S[t];n=q.nextSibling,E=q,t++){q!==n&&a.e.rb(d,q,E)}!v.Zb&&g&&(g(v.ka,v.S,v.Ia),v.Zb=!0)}l(h.beforeRemove,e);l(h.afterMove,z);l(h.afterAdd,m);a.a.f.set(d,c,s)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.Ua);a.K=function(){this.allowTemplateRewriting=!1};a.K.prototype=new a.C;a.K.prototype.renderTemplateSource=function(b){var c=(9>a.a.oa?0:b.nodes)?b.nodes():null;if(c){return a.a.R(c.cloneNode(!0).childNodes)}b=b.text();return a.a.Qa(b)};a.K.Ja=new a.K;a.Wa(a.K.Ja);a.b("nativeTemplateEngine",a.K);(function(){a.La=function(){var a=this.ac=function(){if(!t||!t.tmpl){return 0}try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f){f=f||{};if(2>a){throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}var h=b.data("precompiled");h||(h=b.text()||"",h=t.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=t.extend({koBindingContext:e},f.templateOptions);e=t.tmpl(h,b,e);e.appendTo(w.createElement("div"));t.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(t.tmpl.tag.ko_code={open:"__.push($1 || '');"},t.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.La.prototype=new a.C;var b=new a.La;0<b.ac&&a.Wa(b);a.b("jqueryTmplTemplateEngine",a.La)})()})})()})();
(function(aK){function aQ(a,b){return function(c){return aJ(a.call(this,c),b)}}function a0(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function aL(){}function aM(a){aW(this,a)}function a5(o){var f=this._data={},h=o.years||o.year||o.y||0,p=o.months||o.month||o.M||0,b=o.weeks||o.week||o.w||0,l=o.days||o.day||o.d||0,g=o.hours||o.hour||o.h||0,m=o.minutes||o.minute||o.m||0,j=o.seconds||o.second||o.s||0,k=o.milliseconds||o.millisecond||o.ms||0;this._milliseconds=k+1000*j+60000*m+3600000*g,this._days=l+7*b,this._months=p+12*h,f.milliseconds=k%1000,j+=aP(k/1000),f.seconds=j%60,m+=aP(j/60),f.minutes=m%60,g+=aP(m/60),f.hours=g%24,l+=aP(g/24),l+=7*b,f.days=l%30,p+=aP(l/30),f.months=p%12,h+=aP(p/12),f.years=h}function aW(a,c){for(var b in c){c.hasOwnProperty(b)&&(a[b]=c[b])}return a}function aP(a){return 0>a?Math.ceil(a):Math.floor(a)}function aJ(a,c){for(var b=a+"";c>b.length;){b="0"+b}return b}function a2(d,j,h){var f,g=j._milliseconds,b=j._days,c=j._months;g&&d._d.setTime(+d+g*h),b&&d.date(d.date()+b*h),c&&(f=d.date(),d.date(1).month(d.month()+c*h).date(Math.min(f,d.daysInMonth())))}function a3(a){return"[object Array]"===Object.prototype.toString.call(a)}function aX(c,h){var g,d=Math.min(c.length,h.length),f=Math.abs(c.length-h.length),b=0;for(g=0;d>g;g++){~~c[g]!==~~h[g]&&b++}return b+f}function aZ(a,b){return b.abbr=a,aG[a]||(aG[a]=new aL),aG[a].set(b),aG[a]}function aS(a){return a?(!aG[a]&&ad&&require("./lang/"+a),aG[a]):al.fn._lang}function a7(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function aR(a){var d,c,b=a.match(aB);for(d=0,c=b.length;c>d;d++){b[d]=aD[b[d]]?aD[b[d]]:a7(b[d])}return function(f){var e="";for(d=0;c>d;d++){e+="function"==typeof b[d].call?b[d].call(f,a):b[d]}return e}}function aF(a,d){function c(e){return a.lang().longDateFormat(e)||e}for(var b=5;b--&&ak.test(d);){d=d.replace(ak,c)}return a1[d]||(a1[d]=aR(d)),a1[d](a)}function an(a){switch(a){case"DDDD":return aw;case"YYYY":return am;case"YYYYY":return aC;case"S":case"SS":case"SSS":case"DDD":return ae;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return ar;case"X":return ai;case"Z":case"ZZ":return ac;case"T":return aV;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return aq;default:return RegExp(a.replace("\\",""))}}function ax(a,f,d){var b,c=d._a;switch(a){case"M":case"MM":c[1]=null==f?0:~~f-1;break;case"MMM":case"MMMM":b=aS(d._l).monthsParse(f),null!=b?c[1]=b:d._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=f&&(c[2]=~~f);break;case"YY":c[0]=~~f+(~~f>68?1900:2000);break;case"YYYY":case"YYYYY":c[0]=~~f;break;case"a":case"A":d._isPm="pm"===(f+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":c[3]=~~f;break;case"m":case"mm":c[4]=~~f;break;case"s":case"ss":c[5]=~~f;break;case"S":case"SS":case"SSS":c[6]=~~(1000*("0."+f));break;case"X":d._d=new Date(1000*parseFloat(f));break;case"Z":case"ZZ":d._useUTC=!0,b=(f+"").match(ap),b&&b[1]&&(d._tzh=~~b[1]),b&&b[2]&&(d._tzm=~~b[2]),b&&"+"===b[0]&&(d._tzh=-d._tzh,d._tzm=-d._tzm)}null==f&&(d._isValid=!1)}function ab(a){var d,c,b=[];if(!a._d){for(d=0;7>d;d++){a._a[d]=b[d]=null==a._a[d]?2===d?1:0:a._a[d]}b[3]+=a._tzh||0,b[4]+=a._tzm||0,c=new Date(0),a._useUTC?(c.setUTCFullYear(b[0],b[1],b[2]),c.setUTCHours(b[3],b[4],b[5],b[6])):(c.setFullYear(b[0],b[1],b[2]),c.setHours(b[3],b[4],b[5],b[6])),a._d=c}}function aO(a){var f,d,b=a._f.match(aB),c=a._i;for(a._a=[],f=0;b.length>f;f++){d=(an(b[f]).exec(c)||[])[0],d&&(c=c.slice(c.indexOf(d)+d.length)),aD[b[f]]&&ax(b[f],d,a)}a._isPm&&12>a._a[3]&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),ab(a)}function aY(d){var i,g,f,b,h,c=99;for(b=d._f.length;b>0;b--){if(i=aW({},d),i._f=d._f[b-1],aO(i),g=new aM(i),g.isValid()){f=g;break}h=aX(i._a,g.toArray()),c>h&&(c=h,f=g)}aW(d,f)}function aH(a){var c,b=a._i;if(aN.exec(b)){for(a._f="YYYY-MM-DDT",c=0;4>c;c++){if(au[c][1].exec(b)){a._f+=au[c][0];break}}ac.exec(b)&&(a._f+=" Z"),aO(a)}else{a._d=new Date(b)}}function ag(c){var b=c._i,a=aa.exec(b);b===aK?c._d=new Date:a?c._d=new Date(+a[1]):"string"==typeof b?aH(c):a3(b)?(c._a=b.slice(0),ab(c)):c._d=b instanceof Date?new Date(+b):new Date(b)}function aI(a,f,d,b,c){return c.relativeTime(f||1,!!d,a,b)}function aT(k,d,g){var l=af(Math.abs(k)/1000),b=af(l/60),h=af(b/60),f=af(h/24),c=af(f/365),j=45>l&&["s",l]||1===b&&["m"]||45>b&&["mm",b]||1===h&&["h"]||22>h&&["hh",h]||1===f&&["d"]||25>=f&&["dd",f]||45>=f&&["M"]||345>f&&["MM",af(f/30)]||1===c&&["y"]||["yy",c];return j[2]=d,j[3]=k>0,j[4]=g,aI.apply({},j)}function ah(a,f,d){var b=d-f,c=d-a.day();return c>b&&(c-=7),b-7>c&&(c+=7),Math.ceil(al(a).add("d",c).dayOfYear()/7)}function a4(a){var c=a._i,b=a._f;return null===c||""===c?null:("string"==typeof c&&(a._i=c=aS().preparse(c)),al.isMoment(c)?(a=aW({},c),a._d=new Date(+c._d)):b?a3(b)?aY(a):aO(a):ag(a),new aM(a))}function av(a,b){al.fn[a]=al.fn[a+"s"]=function(c){var d=this._isUTC?"UTC":"";return null!=c?(this._d["set"+d+b](c),this):this._d["get"+d+b]()}}function ao(a){al.duration.fn[a]=function(){return this._data[a]}}function at(a,b){al.duration.fn["as"+a]=function(){return +this/b}}for(var al,aE,ay="2.0.0",af=Math.round,aG={},ad="undefined"!=typeof module&&module.exports,aa=/^\/?Date\((\-?\d+)/i,aB=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,ak=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aq=/\d\d?/,ae=/\d{1,3}/,aw=/\d{3}/,am=/\d{1,4}/,aC=/[+\-]?\d{1,6}/,ar=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,ac=/Z|[\+\-]\d\d:?\d\d/i,aV=/T/i,ai=/[\+\-]?\d+(\.\d{1,3})?/,aN=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,az="YYYY-MM-DDTHH:mm:ssZ",au=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ap=/([\+\-]|\d\d)/gi,aj="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),a6={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},a1={},aU="DDD w W M D d".split(" "),aA="M D H h m s w W".split(" "),aD={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return aJ(this.year()%100,2)},YYYY:function(){return aJ(this.year(),4)},YYYYY:function(){return aJ(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ~~(this.milliseconds()/100)},SS:function(){return aJ(~~(this.milliseconds()/10),2)},SSS:function(){return aJ(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+aJ(~~(a/60),2)+":"+aJ(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+aJ(~~(10*a/6),4)},X:function(){return this.unix()}};aU.length;){aE=aU.pop(),aD[aE+"o"]=a0(aD[aE])}for(;aA.length;){aE=aA.pop(),aD[aE+aE]=aQ(aD[aE],2)}for(aD.DDDD=aQ(aD.DDD,3),aL.prototype={set:function(a){var c,b;for(b in a){c=a[b],"function"==typeof c?this[b]=c:this["_"+b]=c}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var d,c,b;for(this._monthsParse||(this._monthsParse=[]),d=0;12>d;d++){if(this._monthsParse[d]||(c=al([2000,d]),b="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[d]=RegExp(b.replace(".",""),"i")),this._monthsParse[d].test(a)){return d}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return !b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(c){return c.slice(1)}),this._longDateFormat[a]=b),b},meridiem:function(a,c,b){return a>11?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,c){var b=this._calendar[a];return"function"==typeof b?b.apply(c):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,f,d,b){var c=this._relativeTime[d];return"function"==typeof c?c(a,f,d,b):c.replace(/%d/i,a)},pastFuture:function(a,c){var b=this._relativeTime[a>0?"future":"past"];return"function"==typeof b?b(c):b.replace(/%s/i,c)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ah(a,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},al=function(a,c,b){return a4({_i:a,_f:c,_l:b,_isUTC:!1})},al.utc=function(a,c,b){return a4({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:c})},al.unix=function(a){return al(1000*a)},al.duration=function(b,g){var f,c=al.isDuration(b),d="number"==typeof b,a=c?b._data:d?{}:b;return d&&(g?a[g]=b:a.milliseconds=b),f=new a5(a),c&&b.hasOwnProperty("_lang")&&(f._lang=b._lang),f},al.version=ay,al.defaultFormat=az,al.lang=function(b,a){return b?(a?aZ(b,a):aG[b]||aS(b),al.duration.fn._lang=al.fn._lang=aS(b),aK):al.fn._lang._abbr},al.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),aS(a)},al.isMoment=function(a){return a instanceof aM},al.isDuration=function(a){return a instanceof a5},al.fn=aM.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},unix:function(){return Math.floor(+this._d/1000)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return al(this).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!aX(this._a,(this._isUTC?al.utc(this._a):al(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){var b=aF(this,a||al.defaultFormat);return this.lang().postformat(b)},add:function(a,c){var b;return b="string"==typeof a?al.duration(+c,a):al.duration(a,c),a2(this,b,1),this},subtract:function(a,c){var b;return b="string"==typeof a?al.duration(+c,a):al.duration(a,c),a2(this,b,-1),this},diff:function(d,j,h){var f,g,b=this._isUTC?al(d).utc():al(d).local(),c=60000*(this.zone()-b.zone());return j&&(j=j.replace(/s$/,"")),"year"===j||"month"===j?(f=43200000*(this.daysInMonth()+b.daysInMonth()),g=12*(this.year()-b.year())+(this.month()-b.month()),g+=(this-al(this).startOf("month")-(b-al(b).startOf("month")))/f,"year"===j&&(g/=12)):(f=this-b-c,g="second"===j?f/1000:"minute"===j?f/60000:"hour"===j?f/3600000:"day"===j?f/86400000:"week"===j?f/604800000:f),h?g:aP(g)},from:function(a,b){return al.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(al(),a)},calendar:function(){var a=this.diff(al().startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a=a.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.day(0),this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)>+al(b).startOf(a)},isBefore:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)<+al(b).startOf(a)},isSame:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)===+al(b).startOf(a)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return al.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=af((al(this).startOf("day")-al(this).startOf("year"))/86400000)+1;return null==a?b:this.add("d",a-b)},isoWeek:function(a){var b=ah(this,1,4);return null==a?b:this.add("d",7*(a-b))},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},lang:function(a){return a===aK?this._lang:(this._lang=aS(a),this)}},aE=0;aj.length>aE;aE++){av(aj[aE].toLowerCase().replace(/s$/,""),aj[aE])}av("year","FullYear"),al.fn.days=al.fn.day,al.fn.weeks=al.fn.week,al.fn.isoWeeks=al.fn.isoWeek,al.duration.fn=a5.prototype={weeks:function(){return aP(this.days()/7)},valueOf:function(){return this._milliseconds+86400000*this._days+2592000000*this._months},humanize:function(a){var c=+this,b=aT(c,!a,this.lang());return a&&(b=this.lang().pastFuture(c,b)),this.lang().postformat(b)},lang:al.fn.lang};for(aE in a6){a6.hasOwnProperty(aE)&&(at(aE,a6[aE]),ao(aE.toLowerCase()))}at("Weeks",604800000),al.lang("en",{ordinal:function(a){var c=a%10,b=1===~~(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th";return a+b}}),ad&&(module.exports=al),"undefined"==typeof ender&&(this.moment=al),"function"==typeof define&&define.amd&&define("moment",[],function(){return al})}).call(this);
(function(){function a(f){function b(k,h,l,i){var j="";switch(l){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":j=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":j=i?"tunnin":"tuntia";break;case"d":return i?"p\u00e4iv\u00e4n":"p\u00e4iv\u00e4";case"dd":j=i?"p\u00e4iv\u00e4n":"p\u00e4iv\u00e4\u00e4";break;case"M":return i?"kuukauden":"kuukausi";case"MM":j=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":j=i?"vuoden":"vuotta"}return j=d(k,i)+" "+j}function d(i,h){return 10>i?h?c[i]:g[i]:i}var g="nolla yksi kaksi kolme nelj\u00e4 viisi kuusi seitsem\u00e4n kahdeksan yhdeks\u00e4n".split(" "),c=["nolla","yhden","kahden","kolmen","nelj\u00e4n","viiden","kuuden",g[7],g[8],g[9]];f.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\u00e4kuu_hein\u00e4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\u00e4_hein\u00e4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[t\u00e4n\u00e4\u00e4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\u00e4\u00e4st\u00e4",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}"function"==typeof define&&define.amd&&define(["moment"],a),"undefined"!=typeof window&&window.moment&&a(window.moment)})();
(function(){function aM(d,a,c){c=(c||0)-1;for(var b=d?d.length:0;++c<b;){if(d[c]===a){return c}}return -1}function aG(b,d){var c=typeof d;if(b=b.l,"boolean"==c||null==d){return b[d]?0:-1}"number"!=c&&"string"!=c&&(c="object");var a="number"==c?d:aN+d;return b=(b=b[c])&&b[a],"object"==c?b&&-1<aM(b,d)?0:-1:b?0:-1}function aV(d){var a=this.l,c=typeof d;if("boolean"==c||null==d){a[d]=true}else{"number"!=c&&"string"!=c&&(c="object");var b="number"==c?d:aN+d,a=a[c]||(a[c]={});"object"==c?(a[b]||(a[b]=[])).push(d):a[b]=true}}function aI(a){return a.charCodeAt(0)}function aF(k,f){for(var h=k.m,g=f.m,c=-1,j=h.length;++c<j;){var d=h[c],b=g[c];if(d!==b){if(d>b||typeof d=="undefined"){return 1}if(d<b||typeof b=="undefined"){return -1}}}return k.n-f.n}function aL(f){var c=-1,d=f.length,a=f[0],e=f[d/2|0],b=f[d-1];if(a&&typeof a=="object"&&e&&typeof e=="object"&&b&&typeof b=="object"){return false}for(a=aU(),a["false"]=a["null"]=a["true"]=a.undefined=false,e=aU(),e.k=f,e.l=a,e.push=aV;++c<d;){e.push(f[c])}return e}function aR(a){return"\\"+ad[a]}function aZ(){return aS.pop()||[]}function aU(){return aT.pop()||{k:null,l:null,m:null,"false":false,n:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,o:null}}function aO(a){a.length=0,aS.length<a0&&aS.push(a)}function aX(b){var a=b.l;a&&aX(a),b.k=b.l=b.m=b.object=b.number=b.string=b.o=null,aT.length<a0&&aT.push(b)}function aK(f,b,d){b||(b=0),typeof d=="undefined"&&(d=f?f.length:0);var c=-1;d=d-b||0;for(var a=Array(0>d?0:d);++c<d;){a[c]=f[b+c]}return a}function aH(a2){function W(H){if(!H||O.call(H)!=aJ){return false}var g=H.valueOf,h=typeof g=="function"&&(h=bO(g))&&bO(h);return h?H==h||bO(H)==h:a8(H)}function a1(U,h,J){if(!U||!ac[typeof U]){return U}h=h&&typeof J=="undefined"?h:b7(h,J,3);for(var H=-1,g=ac[typeof U]&&bP(U),Q=g?g.length:0;++H<Q&&(J=g[H],false!==h(U[J],J,U));){}return U}function a6(J,g,H){var h;if(!J||!ac[typeof J]){return J}g=g&&typeof H=="undefined"?g:b7(g,H,3);for(h in J){if(false===g(J[h],h,J)){break}}return J}function bg(J,ca,be){var g,b9=J,H=b9;if(!b9){return H}for(var U=arguments,b8=0,X=typeof be=="number"?2:U.length;++b8<X;){if((b9=U[b8])&&ac[typeof b9]){for(var Q=-1,bt=ac[typeof b9]&&bP(b9),h=bt?bt.length:0;++Q<h;){g=bt[Q],"undefined"==typeof H[g]&&(H[g]=b9[g])}}}return H}function bs(J,ca,be){var g,b9=J,H=b9;if(!b9){return H}var U=arguments,b8=0,X=typeof be=="number"?2:U.length;if(3<X&&"function"==typeof U[X-2]){var Q=b7(U[--X-1],U[X--],2)}else{2<X&&"function"==typeof U[X-1]&&(Q=U[--X])}for(;++b8<X;){if((b9=U[b8])&&ac[typeof b9]){for(var bt=-1,h=ac[typeof b9]&&bP(b9),cb=h?h.length:0;++bt<cb;){g=h[bt],H[g]=Q?Q(H[g],b9[g]):b9[g]}}}return H}function bp(H){var g,h=[];if(!H||!ac[typeof H]){return h}for(g in H){bK.call(H,g)&&h.push(g)}return h}function bk(e){return e&&typeof e=="object"&&!bu(e)&&bK.call(e,"__wrapped__")?e:new bc(e)}function bc(g,e){this.__chain__=!!e,this.__wrapped__=g}function ba(Q){function h(){if(H){var U=H.slice();bh.apply(U,arguments)}if(this instanceof h){var e=bi(J.prototype),U=J.apply(e,U||arguments);return j(U)?U:e}return J.apply(g,U||arguments)}var J=Q[0],H=Q[2],g=Q[4];return T(h,Q),h}function bb(H,bt,U,g,be){if(U){var h=U(H);if(typeof h!="undefined"){return h}}if(!j(H)){return H}var J=O.call(H);if(!an[J]){return H}var Q=r[J];switch(J){case ae:case at:return new Q(+H);case ab:case ai:return new Q(H);case aA:return h=Q(H.source,aw.exec(H)),h.lastIndex=H.lastIndex,h}if(J=bu(H),bt){var X=!g;g||(g=aZ()),be||(be=aZ());for(var b8=g.length;b8--;){if(g[b8]==H){return be[b8]}}h=J?Q(H.length):{}}else{h=J?aK(H):bs({},H)}return J&&(bK.call(H,"index")&&(h.index=H.index),bK.call(H,"input")&&(h.input=H.input)),bt?(g.push(H),be.push(h),(J?bZ:a1)(H,function(b9,e){h[e]=bb(b9,bt,U,g,be)}),X&&(aO(g),aO(be)),h):h}function bi(e){return j(e)?A(e):{}}function b7(Q,h,J){if(typeof Q!="function"){return bo}if(typeof h=="undefined"||!("prototype" in Q)){return Q}var H=Q.__bindData__;if(typeof H=="undefined"&&(bY.funcNames&&(H=!Q.name),H=H||!bY.funcDecomp,!H)){var g=bG.call(Q);bY.funcNames||(H=!aj.test(g)),H||(H=au.test(g),T(Q,H))}if(false===H||true!==H&&1&H[1]){return Q}switch(J){case 1:return function(U){return Q.call(h,U)};case 2:return function(X,U){return Q.call(h,X,U)};case 3:return function(be,X,U){return Q.call(h,be,X,U)};case 4:return function(be,X,U,bt){return Q.call(h,be,X,U,bt)}}return bV(Q,h)}function bU(H){function ca(){var cc=U?Q:this;if(b9){var e=b9.slice();bh.apply(e,arguments)}return(h||be)&&(e||(e=aK(arguments)),h&&bh.apply(e,h),be&&e.length<bt)?(g|=16,bU([X,cb?g:-4&g,e,null,Q,bt])):(e||(e=arguments),J&&(X=cc[b8]),this instanceof ca?(cc=bi(X.prototype),e=X.apply(cc,e),j(e)?e:cc):X.apply(cc,e))}var X=H[0],g=H[1],b9=H[2],h=H[3],Q=H[4],bt=H[5],U=1&g,J=2&g,be=4&g,cb=8&g,b8=X;return T(ca,H),ca}function P(be,Q){var H=-1,J=y(),h=be?be.length:0,U=h>=aY&&J===aM,g=[];if(U){var X=aL(Q);X?(J=aG,Q=X):U=false}for(;++H<h;){X=be[H],0>J(Q,X)&&g.push(X)}return U&&aX(Q),g}function M(H,b8,X,g){g=(g||0)-1;for(var bt=H?H.length:0,h=[];++g<bt;){var Q=H[g];if(Q&&typeof Q=="object"&&typeof Q.length=="number"&&(bu(Q)||bH(Q))){b8||(Q=M(Q,b8,X));var be=-1,U=Q.length,J=h.length;for(h.length+=U;++be<U;){h[J++]=Q[be]}}else{X||h.push(Q)}}return h}function K(J,b9,X,g,b8,H){if(X){var Q=X(J,b9);if(typeof Q!="undefined"){return !!Q}}if(J===b9){return 0!==J||1/J==1/b9}if(J===J&&!(J&&ac[typeof J]||b9&&ac[typeof b9])){return false}if(null==J||null==b9){return J===b9}var U=O.call(J),be=O.call(b9);if(U==av&&(U=aJ),be==av&&(be=aJ),U!=be){return false}switch(U){case ae:case at:return +J==+b9;case ab:return J!=+J?b9!=+b9:0==J?1/J==1/b9:J==+b9;case aA:case ai:return J==Y(b9)}if(be=U==az,!be){var h=bK.call(J,"__wrapped__"),ca=bK.call(b9,"__wrapped__");if(h||ca){return K(h?J.__wrapped__:J,ca?b9.__wrapped__:b9,X,g,b8,H)}if(U!=aJ){return false}if(U=J.constructor,h=b9.constructor,U!=h&&!(s(U)&&U instanceof U&&s(h)&&h instanceof h)&&"constructor" in J&&"constructor" in b9){return false}}for(h=!b8,b8||(b8=aZ()),H||(H=aZ()),U=b8.length;U--;){if(b8[U]==J){return H[U]==b9}}var bt=0,Q=true;if(b8.push(J),H.push(b9),be){if(U=J.length,bt=b9.length,Q=bt==J.length,!Q&&!g){return Q}for(;bt--;){if(be=U,h=b9[bt],g){for(;be--&&!(Q=K(J[be],h,X,g,b8,H));){}}else{if(!(Q=K(J[bt],h,X,g,b8,H))){break}}}return Q}return a6(b9,function(cb,e,cc){return bK.call(cc,e)?(bt++,Q=bK.call(J,e)&&K(J[e],cb,X,g,b8,H)):void 0}),Q&&!g&&a6(J,function(cd,cb,cc){return bK.call(cc,cb)?Q=-1<--bt:void 0}),h&&(aO(b8),aO(H)),Q}function bx(Q,h,J,H,g){(bu(h)?bZ:a1)(h,function(be,b8){var X,U,bt=be,e=Q[b8];if(be&&((U=bu(be))||W(be))){for(bt=H.length;bt--;){if(X=H[bt]==be){e=g[bt];break}}if(!X){var b9;J&&(bt=J(e,be),b9=typeof bt!="undefined")&&(e=bt),b9||(e=U?bu(e)?e:[]:W(e)?e:{}),H.push(be),g.push(e),b9||bx(e,be,J,H,g)}}else{J&&(bt=J(e,be),typeof bt=="undefined"&&(bt=be)),typeof bt!="undefined"&&(e=bt)}Q[b8]=e})}function bQ(g,e){return g+bl(B()*(e-g+1))}function bS(bt,H,ca){var Q=-1,be=y(),J=bt?bt.length:0,cb=[],b9=!H&&J>=aY&&be===aM,U=ca||b9?aZ():cb;if(b9){var X=aL(U);X?(be=aG,U=X):(b9=false,U=ca?U:(aO(U),cb))}for(;++Q<J;){var X=bt[Q],b8=ca?ca(X,Q,bt):X;(H?!Q||U[U.length-1]!==b8:0>be(U,b8))&&((ca||b9)&&U.push(b8),cb.push(X))}return b9?(aO(U.k),aX(U)):ca&&aO(U),cb}function G(e){return function(H,Q,J){var g={};Q=bk.createCallback(Q,J,3),J=-1;var U=H?H.length:0;if(typeof U=="number"){for(;++J<U;){var h=H[J];e(g,h,Q(h,J,H),H)}}else{a1(H,function(X,be,bt){e(g,X,Q(X,be,bt),bt)})}return g}}function v(H,b9,X,g,b8,h){var Q=1&b9,bt=4&b9,U=16&b9,J=32&b9;if(!(2&b9||s(H))){throw new S}U&&!X.length&&(b9&=-17,U=X=false),J&&!g.length&&(b9&=-33,J=g=false);var be=H&&H.__bindData__;return be&&true!==be?(be=be.slice(),!Q||1&be[1]||(be[4]=b8),!Q&&1&be[1]&&(b9|=8),!bt||4&be[1]||(be[5]=h),U&&bh.apply(be[2]||(be[2]=[]),X),J&&bh.apply(be[3]||(be[3]=[]),g),be[1]|=b9,v.apply(null,be)):(1==b9||17===b9?ba:bU)([H,b9,X,g,b8,h])}function bE(e){return m[e]}function y(){var e=(e=bk.indexOf)===C?aM:e;return e}function a8(H){var g,h;return H&&O.call(H)==aJ&&(g=H.constructor,!s(g)||g instanceof g)?(a6(H,function(J,e){h=e}),typeof h=="undefined"||bK.call(H,h)):false}function bz(e){return bI[e]}function bH(e){return e&&typeof e=="object"&&typeof e.length=="number"&&O.call(e)==av||false}function bB(Q,h,J){var H=bP(Q),g=H.length;for(h=b7(h,J,3);g--&&(J=H[g],false!==h(Q[J],J,Q));){}return Q}function a5(g){var e=[];return a6(g,function(H,h){s(H)&&e.push(h)}),e.sort()}function b4(U){for(var h=-1,J=bP(U),H=J.length,g={};++h<H;){var Q=J[h];g[U[Q]]=Q}return g}function s(e){return typeof e=="function"}function j(e){return !(!e||!ac[typeof e])}function t(e){return typeof e=="number"||e&&typeof e=="object"&&O.call(e)==ab||false}function a(e){return typeof e=="string"||e&&typeof e=="object"&&O.call(e)==ai||false}function bX(Q){for(var h=-1,J=bP(Q),H=J.length,g=n(H);++h<H;){g[h]=Q[J[h]]}return g}function a9(X,H,Q){var J=-1,g=y(),U=X?X.length:0,h=false;return Q=(0>Q?bN(0,U+Q):Q)||0,bu(X)?h=-1<g(X,H,Q):typeof U=="number"?h=-1<(a(X)?X.indexOf(H,Q):g(X,H,Q)):a1(X,function(e){return ++J<Q?void 0:!(h=e===H)}),h}function bj(Q,h,J){var H=true;h=bk.createCallback(h,J,3),J=-1;var g=Q?Q.length:0;if(typeof g=="number"){for(;++J<g&&(H=!!h(Q[J],J,Q));){}}else{a1(Q,function(be,X,U){return H=!!h(be,X,U)})}return H}function bF(U,h,J){var H=[];h=bk.createCallback(h,J,3),J=-1;var g=U?U.length:0;if(typeof g=="number"){for(;++J<g;){var Q=U[J];h(Q,J,U)&&H.push(Q)}}else{a1(U,function(bt,be,X){h(bt,be,X)&&H.push(bt)})}return H}function bd(U,h,J){h=bk.createCallback(h,J,3),J=-1;var H=U?U.length:0;if(typeof H!="number"){var g;return a1(U,function(bt,be,X){return h(bt,be,X)?(g=bt,false):void 0}),g}for(;++J<H;){var Q=U[J];if(h(Q,J,U)){return Q}}}function bZ(Q,h,J){var H=-1,g=Q?Q.length:0;if(h=h&&typeof J=="undefined"?h:b7(h,J,3),typeof g=="number"){for(;++H<g&&false!==h(Q[H],H,Q);){}}else{a1(Q,h)}return Q}function u(Q,h,J){var H=Q?Q.length:0;if(h=h&&typeof J=="undefined"?h:b7(h,J,3),typeof H=="number"){for(;H--&&false!==h(Q[H],H,Q);){}}else{var g=bP(Q),H=g.length;a1(Q,function(be,U,X){return U=g?g[--H]:--H,h(X[U],U,X)})}return Q}function k(U,h,J){var H=-1,g=U?U.length:0;if(h=bk.createCallback(h,J,3),typeof g=="number"){for(var Q=n(g);++H<g;){Q[H]=h(U[H],H,U)}}else{Q=[],a1(U,function(bt,be,X){Q[++H]=h(bt,be,X)})}return Q}function bR(X,J,Q){var h=-1/0,U=h;if(typeof J!="function"&&Q&&Q[J]===X&&(J=null),null==J&&bu(X)){Q=-1;for(var H=X.length;++Q<H;){var g=X[Q];g>U&&(U=g)}}else{J=null==J&&a(X)?aI:bk.createCallback(J,Q,3),bZ(X,function(b8,bt,be){bt=J(b8,bt,be),bt>h&&(h=bt,U=b8)})}return U}function L(X,H,Q,J){if(!X){return Q}var g=3>arguments.length;H=bk.createCallback(H,J,4);var U=-1,h=X.length;if(typeof h=="number"){for(g&&(Q=X[++U]);++U<h;){Q=H(Q,X[U],U,X)}}else{a1(X,function(bt,e,be){Q=g?(g=false,bt):H(Q,bt,e,be)})}return Q}function bf(Q,h,J,H){var g=3>arguments.length;return h=bk.createCallback(h,H,4),u(Q,function(X,e,U){J=g?(g=false,X):h(J,X,e,U)}),J}function bJ(J){var g=-1,H=J?J.length:0,h=n(typeof H=="number"?H:0);return bZ(J,function(U){var Q=bQ(0,++g);h[g]=h[Q],h[Q]=U}),h}function b(Q,h,J){var H;h=bk.createCallback(h,J,3),J=-1;var g=Q?Q.length:0;if(typeof g=="number"){for(;++J<g&&!(H=h(Q[J],J,Q));){}}else{a1(Q,function(be,X,U){return !(H=h(be,X,U))})}return !!H}function bA(U,h,J){var H=0,g=U?U.length:0;if(typeof h!="number"&&null!=h){var Q=-1;for(h=bk.createCallback(h,J,3);++Q<g&&h(U[Q],Q,U);){H++}}else{if(H=h,null==H||J){return U?U[0]:aE}}return aK(U,0,br(bN(0,H),g))}function C(h,J,H){if(typeof H=="number"){var g=h?h.length:0;H=0>H?bN(0,g+H):H||0}else{if(H){return H=bm(h,J),h[H]===J?H:-1}}return aM(h,J,H)}function d(U,h,J){if(typeof h!="number"&&null!=h){var H=0,g=-1,Q=U?U.length:0;for(h=bk.createCallback(h,J,3);++g<Q&&h(U[g],g,U);){H++}}else{H=null==h||J?1:bN(0,h)}return aK(U,H)}function bm(U,h,J,H){var g=0,Q=U?U.length:g;for(J=J?bk.createCallback(J,H,1):bo,h=J(h);g<Q;){H=g+Q>>>1,J(U[H])<h?g=H+1:Q=H}return g}function R(J,g,H,h){return typeof g!="boolean"&&null!=g&&(h=H,H=typeof g!="function"&&h&&h[g]===J?null:g,g=false),null!=H&&(H=bk.createCallback(H,h,3)),bS(J,g,H)}function w(){for(var J=1<arguments.length?arguments:arguments[0],g=-1,H=J?bR(p(J,"length")):0,h=n(0>H?0:H);++g<H;){h[g]=p(J,g)}return h}function f(U,h){var J=-1,H=U?U.length:0,g={};for(h||!H||bu(U[0])||(h=[]);++J<H;){var Q=U[J];h?g[Q]=h[J]:Q&&(g[Q[0]]=Q[1])}return g}function bV(g,e){return 2<arguments.length?v(g,17,aK(arguments,2),null,e):v(g,1,null,null,e)}function V(U,cf,ca){function H(){cb&&F(cb),be=cb=J=aE,(b8||bt!==cf)&&(cg=b3(),cd=U.apply(X,Q),cb||be||(Q=X=null))}function ce(){var g=cf-(b3()-b9);0<g?cb=c(ce,g):(be&&F(be),g=J,be=cb=J=aE,g&&(cg=b3(),cd=U.apply(X,Q),cb||be||(Q=X=null)))}var Q,be,cd,b9,X,cb,J,cg=0,bt=false,b8=true;if(!s(U)){throw new S}if(cf=bN(0,cf)||0,true===ca){var cc=true,b8=false}else{j(ca)&&(cc=ca.leading,bt="maxWait" in ca&&(bN(cf,ca.maxWait)||0),b8="trailing" in ca?ca.trailing:b8)}return function(){if(Q=arguments,b9=b3(),X=this,J=b8&&(cb||!cc),false===bt){var ch=cc&&!cb}else{be||cc||(cg=b9);var h=bt-(b9-cg),g=0>=h;g?(be&&(be=F(be)),cg=b9,cd=U.apply(X,Q)):be||(be=c(H,h))}return g&&cb?cb=F(cb):cb||cf===bt||(cb=c(ce,cf)),ch&&(g=true,cd=U.apply(X,Q)),!g||cb||be||(Q=X=null),cd}}function bo(e){return e}function bT(X,H,Q){var J=true,g=H&&a5(H);H&&(Q||g.length)||(null==Q&&(Q=H),U=bc,H=X,X=bk,g=a5(H)),false===Q?J=false:j(Q)&&"chain" in Q&&(J=Q.chain);var U=X,h=s(U);bZ(g,function(bt){var be=X[bt]=H[bt];h&&(U.prototype[bt]=function(){var b9=this.__chain__,ca=this.__wrapped__,b8=[ca];if(bh.apply(b8,arguments),b8=be.apply(X,b8),J||b9){if(ca===b8&&j(b8)){return this}b8=new U(b8),b8.__chain__=b9}return b8})})}function bC(){}function N(e){return function(g){return g[e]}}function z(){return this.__wrapped__}a2=a2?Z.defaults(ar.Object(),a2,Z.pick(ar,ay)):ar;var n=a2.Array,b1=a2.Boolean,bL=a2.Date,bq=a2.Function,bv=a2.Math,i=a2.Number,b2=a2.Object,a3=a2.RegExp,Y=a2.String,S=a2.TypeError,bD=[],bW=b2.prototype,b0=a2._,O=bW.toString,D=a3("^"+Y(O).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),bM=bv.ceil,F=a2.clearTimeout,bl=bv.floor,bG=bq.prototype.toString,bO=D.test(bO=b2.getPrototypeOf)&&bO,bK=bW.hasOwnProperty,bh=bD.push,c=a2.setTimeout,x=bD.splice,q=function(){try{var J={},g=D.test(g=b2.defineProperty)&&g,H=g(J,J,J)&&g}catch(h){}return H}(),A=D.test(A=b2.create)&&A,l=D.test(l=n.isArray)&&l,b5=a2.isFinite,bn=a2.isNaN,bw=D.test(bw=b2.keys)&&bw,bN=bv.max,br=bv.min,b6=a2.parseInt,B=bv.random,r={};r[az]=n,r[ae]=b1,r[at]=bL,r[ax]=bq,r[aJ]=b2,r[ab]=i,r[aA]=a3,r[ai]=Y,bc.prototype=bk.prototype;var bY=bk.support={};bY.funcDecomp=!D.test(a2.a)&&au.test(aH),bY.funcNames=typeof bq.name=="string",bk.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ak,variable:"",imports:{_:bk}},A||(bi=function(){function e(){}return function(g){if(j(g)){e.prototype=g;var h=new e;e.prototype=null}return h||a2.Object()}}());var T=q?function(g,e){al.value=e,q(g,"__bindData__",al)}:bC,bu=l||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&O.call(e)==az||false},bP=bw?function(e){return j(e)?bw(e):[]}:bp,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bI=b4(m),I=a3("("+bP(bI).join("|")+")","g"),o=a3("["+bP(m).join("")+"]","g"),by=G(function(H,g,h){bK.call(H,h)?H[h]++:H[h]=1}),a4=G(function(H,g,h){(bK.call(H,h)?H[h]:H[h]=[]).push(g)}),E=G(function(H,g,h){H[h]=g}),p=k,b3=D.test(b3=bL.now)&&b3||function(){return(new bL).getTime()},a7=8==b6(aW+"08")?b6:function(g,e){return b6(a(g)?g.replace(ap,""):g,e||0)};return bk.after=function(g,e){if(!s(e)){throw new S}return function(){return 1>--g?e.apply(this,arguments):void 0}},bk.assign=bs,bk.at=function(Q){for(var h=arguments,J=-1,H=M(h,true,false,1),h=h[2]&&h[2][h[1]]===Q?1:H.length,g=n(h);++J<h;){g[J]=Q[H[J]]}return g},bk.bind=bV,bk.bindAll=function(Q){for(var h=1<arguments.length?M(arguments,true,false,1):a5(Q),J=-1,H=h.length;++J<H;){var g=h[J];Q[g]=v(Q[g],1,null,null,Q)}return Q},bk.bindKey=function(g,e){return 2<arguments.length?v(e,19,aK(arguments,2),null,g):v(e,3,null,null,g)},bk.chain=function(e){return e=new bc(e),e.__chain__=true,e},bk.compact=function(Q){for(var h=-1,J=Q?Q.length:0,H=[];++h<J;){var g=Q[h];g&&H.push(g)}return H},bk.compose=function(){for(var g=arguments,e=g.length;e--;){if(!s(g[e])){throw new S}}return function(){for(var h=arguments,H=g.length;H--;){h=[g[H].apply(this,h)]}return h[0]}},bk.constant=function(e){return function(){return e}},bk.countBy=by,bk.create=function(H,g){var h=bi(H);return g?bs(h,g):h},bk.createCallback=function(X,H,Q){var J=typeof X;if(null==X||"function"==J){return b7(X,H,Q)}if("object"!=J){return N(X)}var g=bP(X),U=g[0],h=X[U];return 1!=g.length||h!==h||j(h)?function(be){for(var b8=g.length,bt=false;b8--&&(bt=K(be[g[b8]],X[g[b8]],null,true));){}return bt}:function(e){return e=e[U],h===e&&(0!==h||1/h==1/e)}},bk.curry=function(g,e){return e=typeof e=="number"?e:+e||g.length,v(g,4,null,null,null,e)},bk.debounce=V,bk.defaults=bg,bk.defer=function(g){if(!s(g)){throw new S}var e=aK(arguments,1);return c(function(){g.apply(aE,e)},1)},bk.delay=function(H,g){if(!s(H)){throw new S}var h=aK(arguments,2);return c(function(){H.apply(aE,h)},g)},bk.difference=function(e){return P(e,M(arguments,true,true,1))},bk.filter=bF,bk.flatten=function(J,g,H,h){return typeof g!="boolean"&&null!=g&&(h=H,H=typeof g!="function"&&h&&h[g]===J?null:g,g=false),null!=H&&(J=k(J,H,h)),M(J,g)},bk.forEach=bZ,bk.forEachRight=u,bk.forIn=a6,bk.forInRight=function(Q,h,J){var H=[];a6(Q,function(U,e){H.push(e,U)});var g=H.length;for(h=b7(h,J,3);g--&&false!==h(H[g--],H[g],Q);){}return Q},bk.forOwn=a1,bk.forOwnRight=bB,bk.functions=a5,bk.groupBy=a4,bk.indexBy=E,bk.initial=function(U,h,J){var H=0,g=U?U.length:0;if(typeof h!="number"&&null!=h){var Q=g;for(h=bk.createCallback(h,J,3);Q--&&h(U[Q],Q,U);){H++}}else{H=null==h||J?1:h||H}return aK(U,0,br(bN(0,g-H),g))},bk.intersection=function(){for(var b8=[],H=-1,cb=arguments.length,U=aZ(),bt=y(),J=bt===aM,cc=aZ();++H<cb;){var ca=arguments[H];(bu(ca)||bH(ca))&&(b8.push(ca),U.push(J&&ca.length>=aY&&aL(H?b8[H]:cc)))}var J=b8[0],X=-1,be=J?J.length:0,b9=[];aM:for(;++X<be;){var Q=U[0],ca=J[X];if(0>(Q?aG(Q,ca):bt(cc,ca))){for(H=cb,(Q||cc).push(ca);--H;){if(Q=U[H],0>(Q?aG(Q,ca):bt(b8[H],ca))){continue aM}}b9.push(ca)}}for(;cb--;){(Q=U[cb])&&aX(Q)}return aO(U),aO(cc),b9},bk.invert=b4,bk.invoke=function(X,H){var Q=aK(arguments,2),J=-1,g=typeof H=="function",U=X?X.length:0,h=n(typeof U=="number"?U:0);return bZ(X,function(e){h[++J]=(g?H:e[H]).apply(e,Q)}),h},bk.keys=bP,bk.map=k,bk.mapValues=function(J,g,H){var h={};return g=bk.createCallback(g,H,3),a1(J,function(X,U,Q){h[U]=g(X,U,Q)}),h},bk.max=bR,bk.memoize=function(H,g){function h(){var J=h.cache,e=g?g.apply(this,arguments):aN+arguments[0];return bK.call(J,e)?J[e]:J[e]=H.apply(this,arguments)}if(!s(H)){throw new S}return h.cache={},h},bk.merge=function(X){var H=arguments,Q=2;if(!j(X)){return X}if("number"!=typeof H[2]&&(Q=H.length),3<Q&&"function"==typeof H[Q-2]){var J=b7(H[--Q-1],H[Q--],2)}else{2<Q&&"function"==typeof H[Q-1]&&(J=H[--Q])}for(var H=aK(arguments,1,Q),g=-1,U=aZ(),h=aZ();++g<Q;){bx(X,H[g],J,U,h)}return aO(U),aO(h),X},bk.min=function(X,J,Q){var h=1/0,U=h;if(typeof J!="function"&&Q&&Q[J]===X&&(J=null),null==J&&bu(X)){Q=-1;for(var H=X.length;++Q<H;){var g=X[Q];g<U&&(U=g)}}else{J=null==J&&a(X)?aI:bk.createCallback(J,Q,3),bZ(X,function(b8,bt,be){bt=J(b8,bt,be),bt<h&&(h=bt,U=b8)})}return U},bk.omit=function(be,J,U){var Q={};if(typeof J!="function"){var h=[];a6(be,function(bt,e){h.push(e)});for(var h=P(h,M(arguments,true,false,1)),X=-1,H=h.length;++X<H;){var g=h[X];Q[g]=be[g]}}else{J=bk.createCallback(J,U,3),a6(be,function(b9,b8,bt){J(b9,b8,bt)||(Q[b8]=b9)})}return Q},bk.once=function(H){var g,h;if(!s(H)){throw new S}return function(){return g?h:(g=true,h=H.apply(this,arguments),H=null,h)}},bk.pairs=function(U){for(var h=-1,J=bP(U),H=J.length,g=n(H);++h<H;){var Q=J[h];g[h]=[Q,U[Q]]}return g},bk.partial=function(e){return v(e,16,aK(arguments,1))},bk.partialRight=function(e){return v(e,32,null,aK(arguments,1))},bk.pick=function(be,J,U){var Q={};if(typeof J!="function"){for(var h=-1,X=M(arguments,true,false,1),H=j(be)?X.length:0;++h<H;){var g=X[h];g in be&&(Q[g]=be[g])}}else{J=bk.createCallback(J,U,3),a6(be,function(b9,b8,bt){J(b9,b8,bt)&&(Q[b8]=b9)})}return Q},bk.pluck=p,bk.property=N,bk.pull=function(X){for(var H=arguments,Q=0,J=H.length,g=X?X.length:0;++Q<J;){for(var U=-1,h=H[Q];++U<g;){X[U]===h&&(x.call(X,U--,1),g--)}}return X},bk.range=function(Q,h,J){Q=+Q||0,J=typeof J=="number"?J:+J||1,null==h&&(h=Q,Q=0);var H=-1;h=bN(0,bM((h-Q)/(J||1)));for(var g=n(h);++H<h;){g[H]=Q,Q+=J}return g},bk.reject=function(H,g,h){return g=bk.createCallback(g,h,3),bF(H,function(U,Q,J){return !g(U,Q,J)})},bk.remove=function(U,h,J){var H=-1,g=U?U.length:0,Q=[];for(h=bk.createCallback(h,J,3);++H<g;){J=U[H],h(J,H,U)&&(Q.push(J),x.call(U,H--,1),g--)}return Q},bk.rest=d,bk.shuffle=bJ,bk.sortBy=function(X,h,Q){var H=-1,U=bu(h),g=X?X.length:0,J=n(typeof g=="number"?g:0);for(U||(h=bk.createCallback(h,Q,3)),bZ(X,function(b9,b8,be){var bt=J[++H]=aU();U?bt.m=k(h,function(e){return b9[e]}):(bt.m=aZ())[0]=h(b9,b8,be),bt.n=H,bt.o=b9}),g=J.length,J.sort(aF);g--;){X=J[g],J[g]=X.o,U||aO(X.m),aX(X)}return J},bk.tap=function(g,e){return e(g),g},bk.throttle=function(Q,h,J){var H=true,g=true;if(!s(Q)){throw new S}return false===J?H=false:j(J)&&(H="leading" in J?J.leading:H,g="trailing" in J?J.trailing:g),am.leading=H,am.maxWait=h,am.trailing=g,V(Q,h,am)},bk.times=function(Q,h,J){Q=-1<(Q=+Q)?Q:0;var H=-1,g=n(Q);for(h=b7(h,J,1);++H<Q;){g[H]=h(H)}return g},bk.toArray=function(e){return e&&typeof e.length=="number"?aK(e):bX(e)},bk.transform=function(U,h,J,H){var g=bu(U);if(null==J){if(g){J=[]}else{var Q=U&&U.constructor;J=bi(Q&&Q.prototype)}}return h&&(h=bk.createCallback(h,H,4),(g?bZ:a1)(U,function(be,X,e){return h(J,be,X,e)})),J},bk.union=function(){return bS(M(arguments,true,true))},bk.uniq=R,bk.values=bX,bk.where=bF,bk.without=function(e){return P(e,aK(arguments,1))},bk.wrap=function(g,e){return v(e,16,[g])},bk.xor=function(){for(var J=-1,g=arguments.length;++J<g;){var H=arguments[J];if(bu(H)||bH(H)){var h=h?bS(P(h,H).concat(P(H,h))):H}}return h||[]},bk.zip=w,bk.zipObject=f,bk.collect=k,bk.drop=d,bk.each=bZ,bk.eachRight=u,bk.extend=bs,bk.methods=a5,bk.object=f,bk.select=bF,bk.tail=d,bk.unique=R,bk.unzip=w,bT(bk),bk.clone=function(J,g,H,h){return typeof g!="boolean"&&null!=g&&(h=H,H=g,g=false),bb(J,g,typeof H=="function"&&b7(H,h,1))},bk.cloneDeep=function(H,g,h){return bb(H,true,typeof g=="function"&&b7(g,h,1))},bk.contains=a9,bk.escape=function(e){return null==e?"":Y(e).replace(o,bE)},bk.every=bj,bk.find=bd,bk.findIndex=function(Q,h,J){var H=-1,g=Q?Q.length:0;for(h=bk.createCallback(h,J,3);++H<g;){if(h(Q[H],H,Q)){return H}}return -1},bk.findKey=function(J,g,H){var h;return g=bk.createCallback(g,H,3),a1(J,function(X,U,Q){return g(X,U,Q)?(h=U,false):void 0}),h},bk.findLast=function(J,g,H){var h;return g=bk.createCallback(g,H,3),u(J,function(X,U,Q){return g(X,U,Q)?(h=X,false):void 0}),h},bk.findLastIndex=function(J,g,H){var h=J?J.length:0;for(g=bk.createCallback(g,H,3);h--;){if(g(J[h],h,J)){return h}}return -1},bk.findLastKey=function(J,g,H){var h;return g=bk.createCallback(g,H,3),bB(J,function(X,U,Q){return g(X,U,Q)?(h=U,false):void 0}),h},bk.has=function(g,e){return g?bK.call(g,e):false},bk.identity=bo,bk.indexOf=C,bk.isArguments=bH,bk.isArray=bu,bk.isBoolean=function(e){return true===e||false===e||e&&typeof e=="object"&&O.call(e)==ae||false},bk.isDate=function(e){return e&&typeof e=="object"&&O.call(e)==at||false},bk.isElement=function(e){return e&&1===e.nodeType||false},bk.isEmpty=function(J){var g=true;if(!J){return g}var H=O.call(J),h=J.length;return H==az||H==ai||H==av||H==aJ&&typeof h=="number"&&s(J.splice)?!h:(a1(J,function(){return g=false}),g)},bk.isEqual=function(J,g,H,h){return K(J,g,typeof H=="function"&&b7(H,h,2))},bk.isFinite=function(e){return b5(e)&&!bn(parseFloat(e))},bk.isFunction=s,bk.isNaN=function(e){return t(e)&&e!=+e},bk.isNull=function(e){return null===e},bk.isNumber=t,bk.isObject=j,bk.isPlainObject=W,bk.isRegExp=function(e){return e&&typeof e=="object"&&O.call(e)==aA||false},bk.isString=a,bk.isUndefined=function(e){return typeof e=="undefined"},bk.lastIndexOf=function(J,g,H){var h=J?J.length:0;for(typeof H=="number"&&(h=(0>H?bN(0,h+H):br(H,h-1))+1);h--;){if(J[h]===g){return h}}return -1},bk.mixin=bT,bk.noConflict=function(){return a2._=b0,this},bk.noop=bC,bk.now=b3,bk.parseInt=a7,bk.random=function(Q,h,J){var H=null==Q,g=null==h;return null==J&&(typeof Q=="boolean"&&g?(J=Q,Q=1):g||typeof h!="boolean"||(J=h,g=true)),H&&g&&(h=1),Q=+Q||0,g?(h=Q,Q=0):h=+h||0,J||Q%1||h%1?(J=B(),br(Q+J*(h-Q+parseFloat("1e-"+((J+"").length-1))),h)):bQ(Q,h)},bk.reduce=L,bk.reduceRight=bf,bk.result=function(H,g){if(H){var h=H[g];return s(h)?H[g]():h}},bk.runInContext=aH,bk.size=function(g){var e=g?g.length:0;return typeof e=="number"?e:bP(g).length},bk.some=b,bk.sortedIndex=bm,bk.template=function(J,b9,X){var g=bk.templateSettings;J=Y(J||""),X=bg({},X,g);var b8,H=bg({},X.imports,g.imports),g=bP(H),H=bX(H),bt=0,U=X.interpolate||af,Q="__p+='",U=a3((X.escape||af).source+"|"+U.source+"|"+(U===ak?aC:af).source+"|"+(X.evaluate||af).source+"|$","g");J.replace(U,function(ca,cd,cb,ce,cc,cf){return cb||(cb=ce),Q+=J.slice(bt,cf).replace(ag,aR),cd&&(Q+="'+__e("+cd+")+'"),cc&&(b8=true,Q+="';"+cc+";\n__p+='"),cb&&(Q+="'+((__t=("+cb+"))==null?'':__t)+'"),bt=cf+ca.length,ca}),Q+="';",U=X=X.variable,U||(X="obj",Q="with("+X+"){"+Q+"}"),Q=(b8?Q.replace(aD,""):Q).replace(aQ,"$1").replace(aP,"$1;"),Q="function("+X+"){"+(U?"":X+"||("+X+"={});")+"var __t,__p='',__e=_.escape"+(b8?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+Q+"return __p}";try{var be=bq(g,"return "+Q).apply(aE,H)}catch(h){throw h.source=Q,h}return b9?be(b9):(be.source=Q,be)},bk.unescape=function(e){return null==e?"":Y(e).replace(I,bz)},bk.uniqueId=function(g){var e=++aB;return Y(null==g?"":g)+e},bk.all=bj,bk.any=b,bk.detect=bd,bk.findWhere=bd,bk.foldl=L,bk.foldr=bf,bk.include=a9,bk.inject=L,bT(function(){var e={};return a1(bk,function(g,h){bk.prototype[h]||(e[h]=g)}),e}(),false),bk.first=bA,bk.last=function(U,h,J){var H=0,g=U?U.length:0;if(typeof h!="number"&&null!=h){var Q=g;for(h=bk.createCallback(h,J,3);Q--&&h(U[Q],Q,U);){H++}}else{if(H=h,null==H||J){return U?U[g-1]:aE}}return aK(U,bN(0,g-H))},bk.sample=function(H,g,h){return H&&typeof H.length!="number"&&(H=bX(H)),null==g||h?H?H[bQ(0,H.length-1)]:aE:(H=bJ(H),H.length=br(bN(0,g),H.length),H)},bk.take=bA,bk.head=bA,a1(bk,function(H,g){var h="sample"!==g;bk.prototype[g]||(bk.prototype[g]=function(J,Q){var e=this.__chain__,U=H(this.__wrapped__,J,Q);return e||null!=J&&(!Q||h&&typeof J=="function")?new bc(U,e):U})}),bk.VERSION="2.4.0",bk.prototype.chain=function(){return this.__chain__=true,this},bk.prototype.toString=function(){return Y(this.__wrapped__)},bk.prototype.value=z,bk.prototype.valueOf=z,bZ(["join","pop","shift"],function(g){var e=bD[g];bk.prototype[g]=function(){var H=this.__chain__,h=e.apply(this.__wrapped__,arguments);return H?new bc(h,H):h}}),bZ(["push","reverse","sort","unshift"],function(g){var e=bD[g];bk.prototype[g]=function(){return e.apply(this.__wrapped__,arguments),this}}),bZ(["concat","slice","splice"],function(g){var e=bD[g];bk.prototype[g]=function(){return new bc(e.apply(this.__wrapped__,arguments),this.__chain__)}}),bk}var aE,aS=[],aT=[],aB=0,aN=+new Date+"",aY=75,a0=40,aW=" \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",aD=/\b__p\+='';/g,aQ=/\b(__p\+=)''\+/g,aP=/(__e\(.*?\)|\b__t\))\+'';/g,aC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,aw=/\w*$/,aj=/^\s*function[ \n\r\t]+\w/,ak=/<%=([\s\S]+?)%>/g,ap=RegExp("^["+aW+"]*0+(?=.$)"),af=/($^)/,au=/\bthis\b/,ag=/['\n\r\t\u2028\u2029\\]/g,ay="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),av="[object Arguments]",az="[object Array]",ae="[object Boolean]",at="[object Date]",ax="[object Function]",ab="[object Number]",aJ="[object Object]",aA="[object RegExp]",ai="[object String]",an={};an[ax]=false,an[av]=an[az]=an[ae]=an[at]=an[ab]=an[aJ]=an[aA]=an[ai]=true;var am={leading:false,maxWait:0,trailing:false},al={configurable:false,enumerable:false,value:null,writable:false},ac={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false},ad={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ar=ac[typeof window]&&window||this,aq=ac[typeof exports]&&exports&&!exports.nodeType&&exports,ao=ac[typeof module]&&module&&!module.nodeType&&module,ah=ao&&ao.exports===aq&&aq,aa=ac[typeof global]&&global;!aa||aa.global!==aa&&aa.window!==aa||(ar=aa);var Z=aH();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ar._=Z,define(function(){return Z})):aq&&ao?ah?(ao.exports=Z)._=Z:aq._=Z:ar._=Z}).call(this);
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(k){k.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var d=document.createElement("div");var q={};function b(v){if(v in d.style){return v}var u=["Moz","Webkit","O","ms"];var r=v.charAt(0).toUpperCase()+v.substr(1);if(v in d.style){return v}for(var t=0;t<u.length;++t){var s=u[t]+r;if(s in d.style){return s}}}function e(){d.style[q.transform]="";d.style[q.transform]="rotateY(90deg)";return d.style[q.transform]!==""}var a=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;q.transition=b("transition");q.transitionDelay=b("transitionDelay");q.transform=b("transform");q.transformOrigin=b("transformOrigin");q.transform3d=e();var i={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var f=q.transitionEnd=i[q.transition]||null;for(var p in q){if(q.hasOwnProperty(p)&&typeof k.support[p]==="undefined"){k.support[p]=q[p]}}d=null;k.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};k.cssHooks["transit:transform"]={get:function(r){return k(r).data("transform")||new j()},set:function(s,r){var t=r;if(!(t instanceof j)){t=new j(t)}if(q.transform==="WebkitTransform"&&!a){s.style[q.transform]=t.toString(true)}else{s.style[q.transform]=t.toString()}k(s).data("transform",t)}};k.cssHooks.transform={set:k.cssHooks["transit:transform"].set};if(k.fn.jquery<"1.8"){k.cssHooks.transformOrigin={get:function(r){return r.style[q.transformOrigin]},set:function(r,s){r.style[q.transformOrigin]=s}};k.cssHooks.transition={get:function(r){return r.style[q.transition]},set:function(r,s){r.style[q.transition]=s}}}n("scale");n("translate");n("rotate");n("rotateX");n("rotateY");n("rotate3d");n("perspective");n("skewX");n("skewY");n("x",true);n("y",true);function j(r){if(typeof r==="string"){this.parse(r)}return this}j.prototype={setFromString:function(t,s){var r=(typeof s==="string")?s.split(","):(s.constructor===Array)?s:[s];r.unshift(t);j.prototype.set.apply(this,r)},set:function(s){var r=Array.prototype.slice.apply(arguments,[1]);if(this.setter[s]){this.setter[s].apply(this,r)}else{this[s]=r.join(",")}},get:function(r){if(this.getter[r]){return this.getter[r].apply(this)}else{return this[r]||0}},setter:{rotate:function(r){this.rotate=o(r,"deg")},rotateX:function(r){this.rotateX=o(r,"deg")},rotateY:function(r){this.rotateY=o(r,"deg")},scale:function(r,s){if(s===undefined){s=r}this.scale=r+","+s},skewX:function(r){this.skewX=o(r,"deg")},skewY:function(r){this.skewY=o(r,"deg")},perspective:function(r){this.perspective=o(r,"px")},x:function(r){this.set("translate",r,null)},y:function(r){this.set("translate",null,r)},translate:function(r,s){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(r!==null&&r!==undefined){this._translateX=o(r,"px")}if(s!==null&&s!==undefined){this._translateY=o(s,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var r=(this.scale||"1,1").split(",");if(r[0]){r[0]=parseFloat(r[0])}if(r[1]){r[1]=parseFloat(r[1])}return(r[0]===r[1])?r[0]:r},rotate3d:function(){var t=(this.rotate3d||"0,0,0,0deg").split(",");for(var r=0;r<=3;++r){if(t[r]){t[r]=parseFloat(t[r])}}if(t[3]){t[3]=o(t[3],"deg")}return t}},parse:function(s){var r=this;s.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,v,u){r.setFromString(v,u)})},toString:function(t){var s=[];for(var r in this){if(this.hasOwnProperty(r)){if((!q.transform3d)&&((r==="rotateX")||(r==="rotateY")||(r==="perspective")||(r==="transformOrigin"))){continue}if(r[0]!=="_"){if(t&&(r==="scale")){s.push(r+"3d("+this[r]+",1)")}else{if(t&&(r==="translate")){s.push(r+"3d("+this[r]+",0)")}else{s.push(r+"("+this[r]+")")}}}}}return s.join(" ")}};function m(s,r,t){if(r===true){s.queue(t)}else{if(r){s.queue(r,t)}else{t()}}}function h(s){var r=[];k.each(s,function(t){t=k.camelCase(t);t=k.transit.propertyMap[t]||k.cssProps[t]||t;t=c(t);if(k.inArray(t,r)===-1){r.push(t)}});return r}function g(s,v,x,r){var t=h(s);if(k.cssEase[x]){x=k.cssEase[x]}var w=""+l(v)+" "+x;if(parseInt(r,10)>0){w+=" "+l(r)}var u=[];k.each(t,function(z,y){u.push(y+" "+w)});return u.join(", ")}k.fn.transition=k.fn.transit=function(C,u,B,F){var G=this;var x=0;var z=true;var r=jQuery.extend(true,{},C);if(typeof u==="function"){F=u;u=undefined}if(typeof u==="object"){B=u.easing;x=u.delay||0;z=u.queue||true;F=u.complete;u=u.duration}if(typeof B==="function"){F=B;B=undefined}if(typeof r.easing!=="undefined"){B=r.easing;delete r.easing}if(typeof r.duration!=="undefined"){u=r.duration;delete r.duration}if(typeof r.complete!=="undefined"){F=r.complete;delete r.complete}if(typeof r.queue!=="undefined"){z=r.queue;delete r.queue}if(typeof r.delay!=="undefined"){x=r.delay;delete r.delay}if(typeof u==="undefined"){u=k.fx.speeds._default}if(typeof B==="undefined"){B=k.cssEase._default}u=l(u);var H=g(r,u,B,x);var E=k.transit.enabled&&q.transition;var w=E?(parseInt(u,10)+parseInt(x,10)):0;if(w===0){var D=function(I){G.css(r);if(F){F.apply(G)}if(I){I()}};m(G,z,D);return G}else{for(var v=0;v<this.length;v++){var s=this.eq(v);k.each(r,function(I){var J=s.css(I);s.css(I,J)})}}var A={};var t=function(L){var K=false;var I=function(){k.each(J,function(M){G.css(M,J[M])});if(K){G.unbind(f,I)}if(w>0){G.each(function(){this.style[q.transition]=(A[this]||null)})}if(typeof F==="function"){F.apply(G)}if(typeof L==="function"){L()}};if((w>0)&&(f)&&(k.transit.useTransitionEnd)){K=true;G.bind(f,I)}else{window.setTimeout(I,w)}var J={};G.each(function(){var M=k(this);k.each(r,function(N){var P=r[N];if(P===""||P==="auto"){J[N]=P;var O=M.css(N);M.css(N,P);r[N]=M.css(N);M.css(N,O)}});if(w>0){this.offsetWidth;this.style[q.transition]=H}M.css(r)})};var y=function(I){t(I)};m(G,z,y);return this};function n(s,r){if(!r){k.cssNumber[s]=true}k.transit.propertyMap[s]=q.transform;k.cssHooks[s]={get:function(v){var u=k(v).css("transit:transform");return u.get(s)},set:function(v,w){var u=k(v).css("transit:transform");u.setFromString(s,w);k(v).css({"transit:transform":u})}}}function c(r){return r.replace(/([A-Z])/g,function(s){return"-"+s.toLowerCase()})}function o(s,r){if((typeof s==="string")&&(!s.match(/^[\-0-9\.]+$/))){return s}else{return""+s+r}}function l(s){var r=s;if(typeof r==="string"&&(!r.match(/^[\-0-9\.]+/))){r=k.fx.speeds[r]||k.fx.speeds._default}return o(r,"ms")}k.transit.getTransitionValue=g})(jQuery);
Number.prototype.mod=function(a){return((this%a)+a)%a};function viewModel(){var c=this;c.currentHole=ko.observable(1);c.currentHolePar=ko.observable(0);c.currentHoleScore=ko.observable(0);c.currentHoleHcp=ko.observable(0);c.currentHoleLength=ko.observable(0);c.courseName=ko.observable("");c.playerGender=ko.observable("");c.playerGenders=ko.observableArray(["Male","Female"]);c.playerName=ko.observable("");c.playerExactHcp=ko.observable();c.courseSl=ko.observable(0);c.courseCr=ko.observable(0);c.playerDefaultTee=ko.observable();c.courseAlias=ko.observable();c.locale_tee=ko.observable();c.playerPlayingHcp=ko.observable();c.round_id=ko.observable();c.course_id=ko.observable();c.round_hcp=ko.observable();c.round_tee=ko.observable();c.roundStartTime=ko.observable();c.roundEndTime=ko.observable("");c.courseCrYellowMen=ko.observable();c.courseSlYellowMen=ko.observable();c.courseCrYellowLadies=ko.observable();c.courseSlYellowLadies=ko.observable();c.courseCrBlueMen=ko.observable();c.courseSlBlueMen=ko.observable();c.courseCrBlueLadies=ko.observable();c.courseSlBlueLadies=ko.observable();c.courseCrRedMen=ko.observable();c.courseSlRedMen=ko.observable();c.courseCrRedLadies=ko.observable();c.courseSlRedLadies=ko.observable();c.courseCrWhiteMen=ko.observable();c.courseSlWhiteMen=ko.observable();c.noScoreEntered=ko.observable(true);c.showPoints=ko.observable(false);c.sliderVal=ko.observable(0);c.hasSlid=ko.observable(false);c.loadedRoundStartTime=ko.observable("");c.holes=ko.observableArray([]);c.courseData=ko.observableArray([]);c.roundScores=ko.observableArray([]);c.roundList=ko.observableArray();c.recentlyPlayedCourses=ko.observableArray([]);c.courseList=ko.observableArray([]);c.scoreCard=ko.observableArray();c.scrollPos=ko.observable();c.roundDuration=ko.observable();c.firstRun=ko.observable("working");c.roundToDelete=ko.observable();c.clickedRoundStartTime=ko.observable("");c.hcpPreview=ko.observable("");c.roundFinished=ko.observable(false);c.hitFairway=ko.observable(true);c.hitGreen=ko.observable(true);c.cachedScore=ko.observable(0);c.bogikorttiVersion=ko.observable("Bogikortti v2.0 - 'Heit varamaila'");c.bogikorttiReleaseName=ko.observable("");c.activePage=ko.observable("front");c.showAllRounds=ko.observable(false);c.loadingRound=ko.observable();c.launchedFromHome=function(){if(window.navigator.standalone){return true}else{return false}};c.prePopulateScores=function(){for(var g=0;g<18;g++){var h={};h.hole=ko.observable(g+1);h.score=ko.observable(0);h.points=ko.observable(0);h.scoreToPar=ko.observable(0);h.fairway_hit=ko.observable(false);h.green_hit=ko.observable(false);c.roundScores.push(h)}};moment().lang("fi");c.prePopulateScores();c.translate_tee=function(){if(c.round_tee()==="yellow"){return"keltainen"}else{if(c.round_tee()==="blue"){return"sininen"}else{if(c.round_tee()==="red"){return"punainen"}else{if(c.round_tee()==="white"){return"valkoinen"}}}}};c.loadRecentCourses=function(){c.recentlyPlayedCourses.removeAll();var g;apexEventProxy.getRecentCourses({data:g},function(k){if(k.message==="fail"){return}else{for(var j=0;j<k.courses.length;j++){var h={};h.id=k.courses[j].id;h.name=k.courses[j].name;h.alias=k.courses[j].alias;h.hole_count=k.courses[j].hole_count;c.recentlyPlayedCourses.push(h)}}})};c.loadRecentCourses();c.calcRoundDuration=function(){var k;if(c.roundEndTime()!==""){k=moment(c.roundEndTime()).diff(c.roundStartTime(),"seconds")}else{var i=new Date();var h=i.getFullYear()+"/"+parseInt(i.getMonth()+1,10)+"/"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds();var l=moment(h).format("YYYY-MM-DD HH:mm:ss");k=moment(l).diff(c.roundStartTime(),"seconds")}var g=k/3600;var m=k.mod(3600);var j=m/60;m=m.mod(60);if(g<1){g=""}else{g=(Math.floor(g)+" h")}j=(Math.floor(j)+" min");c.roundDuration(g+" "+j)};c.coursePar=ko.computed(function(){var h=0;for(var g=0;g<c.holes().length;g++){h=h+parseInt(c.holes()[g].hole_par(),10)}return h}).extend({throttle:1});c.courseLength=ko.computed(function(){var h=0;for(var g=0;g<c.holes().length;g++){if(c.round_tee()==="yellow"){h=h+parseInt(c.holes()[g].hole_length_yellow(),10)}else{if(c.round_tee()==="blue"){h=h+parseInt(c.holes()[g].hole_length_blue(),10)}else{if(c.round_tee()==="white"){h=h+parseInt(c.holes()[g].hole_length_white(),10)}else{if(c.round_tee()==="red"){h=h+parseInt(c.holes()[g].hole_length_red(),10)}}}}}return h}).extend({throttle:1});c.holeScoreName=ko.computed(function(){if(c.noScoreEntered()){return""}else{if(c.currentHoleScore()===0){return""}else{var g=c.currentHoleScore()-c.currentHolePar();switch(g){case 0:return"Par";case -1:return"Birdie";case -2:return"Eagle";case -3:return"Albatrossi";case 1:return"Bogi";case 2:return"Tuplabogi"}if(g>2){return g+" yli"}else{if(g<-3){return Math.abs(g)+" alle"}}}}}).extend({throttle:1});c.totalScore=ko.computed(function(){if(c.roundScores().length>0){var h=0;for(var i=0,g=c.roundScores().length;i<g;i++){h+=c.roundScores()[i].score()}return h}}).extend({throttle:1});c.totalPoints=ko.computed(function(){if(c.roundScores().length>0){var h=0;for(var i=0,g=c.roundScores().length;i<g;i++){h+=c.roundScores()[i].points()}return h}}).extend({throttle:1});c.calcPlayingHcp=function(n){if(typeof c.round_hcp()==="undefined"||typeof c.round_tee()==="undefined"||typeof c.courseCr()==="undefined"||typeof c.courseSl()==="undefined"||typeof c.coursePar()==="undefined"){return 0}var m;var j;if(c.playerGender()==="Male"){if(c.round_tee()==="yellow"){m=c.courseSlYellowMen();j=c.courseCrYellowMen()}else{if(c.round_tee()==="blue"){m=c.courseSlBlueMen();j=c.courseCrBlueMen()}else{if(c.round_tee()==="red"){m=c.courseSlRedMen();j=c.courseCrRedMen()}else{if(c.round_tee()==="white"){m=c.courseSlWhiteMen();j=c.courseCrWhiteMen()}}}}}else{if(c.playerGender()==="Female"){if(c.round_tee()==="yellow"){m=c.courseSlYellowLadies();j=c.courseCrYellowLadies()}else{if(c.round_tee()==="blue"){m=c.courseSlBlueLadies();j=c.courseCrBlueLadies()}else{if(c.round_tee()==="red"){m=c.courseSlRedLadies();j=c.courseCrRedLadies()}else{if(c.round_tee()==="white"){m=c.courseSlWhiteLadies();j=c.courseCrWhiteLadies()}}}}}}var h=parseFloat(n);var g=parseFloat(m/113);var i;if(c.holes().length===9){i=c.coursePar()*2}else{if(c.holes().length===18){i=c.coursePar()}}var l=parseFloat(j-parseFloat(i));var k=h*g+l;if(isNaN(k)){return 0}c.playerPlayingHcp(Math.round(k));c.fillScoreCard(Math.round(k))};c.currentHoleHcpPar=ko.computed(function(){if(typeof c.currentHolePar()==="undefined"||typeof c.playerPlayingHcp()==="undefined"||c.playerPlayingHcp()===false){return}else{var g=c.currentHolePar();var j=parseInt(c.playerPlayingHcp(),10);var i,h;i=Math.floor(j/18);h=(j.mod(18));if(h>=parseInt(c.currentHoleHcp(),10)){return parseInt(c.currentHolePar(),10)+i+1}else{return parseInt(g,10)+parseInt(i,10)}}}).extend({throttle:10});c.setHoleData=function(k){if(c.holes().length===0){return false}var j=k;var l=parseInt(c.currentHoleScore(),10);var h=parseInt(c.currentHolePoints(),10);var g=j-1;var i=parseInt(c.holes()[g].hole_par(),10);c.currentHolePar(i);c.currentHoleHcp(parseInt(c.holes()[g].hole_hcp(),10));if(c.round_tee()==="yellow"){c.currentHoleLength(c.holes()[g].hole_length_yellow())}else{if(c.round_tee()==="blue"){c.currentHoleLength(c.holes()[g].hole_length_blue())}else{if(c.round_tee()==="white"){c.currentHoleLength(c.holes()[g].hole_length_white())}else{if(c.round_tee()==="red"){c.currentHoleLength(c.holes()[g].hole_length_red())}}}}$("#fir-checkbox").checkboxradio();$("#gir-checkbox").checkboxradio();setTimeout(function(){for(var m=0;m<c.roundScores().length;m++){if(c.roundScores()[m].hole()===j){c.currentHoleScore(parseInt(c.roundScores()[m].score(),10));if(c.currentHolePar()===3){$("#fir-checkbox").checkboxradio("disable")}else{$("#fir-checkbox").checkboxradio("enable")}if(c.roundScores()[m].fairway_hit()==true){c.hitFairway(true);$("#fir-checkbox").prop("checked",true).checkboxradio("refresh")}else{if(c.roundScores()[m].fairway_hit()==false){c.hitFairway(false);$("#fir-checkbox").prop("checked",false).checkboxradio("refresh")}}if(c.roundScores()[m].green_hit()==true){c.hitGreen(true);$("#gir-checkbox").prop("checked",true).checkboxradio("refresh")}else{if(c.roundScores()[m].green_hit()==false){c.hitGreen(false);$("#gir-checkbox").prop("checked",false).checkboxradio("refresh")}}c.noScoreEntered(false)}}if(c.currentHoleScore()===0){c.noScoreEntered(true);c.hitFairway(false),c.hitGreen(false);$("#gir-checkbox").prop("checked",false).checkboxradio("refresh");$("#fir-checkbox").prop("checked",false).checkboxradio("refresh")}},0);c.cachedScore({round_id:c.round_id(),round_hcp:c.round_hcp(),hole_id:k,hole_score:c.currentHoleScore(),round_tee:c.round_tee(),hit_fairway:c.hitFairway(),hit_green:c.hitGreen()})};c.saveHoleScore=function(g,n,k,j,m,i,h){if(c.cachedScore()!==0){if(c.cachedScore().round_id===g&&c.cachedScore().round_hcp===n&&c.cachedScore().hole_id===k&&c.cachedScore().hole_score===j&&c.cachedScore().round_tee===m&&c.cachedScore().fairway_hit===i&&c.cachedScore().green_hit===h){return}}var l={round_id:g,round_hcp:n,hole_id:k,hole_score:j,round_tee:m,fairway_hit:i,green_hit:h};apexEventProxy.createNewRoundScore({data:l},function(o){c.cachedScore({round_id:g,round_hcp:n,hole_id:k,hole_score:j,round_tee:m,fairway_hit:i,green_hit:h});c.updateScoreCard(j,k);c.calcHcpPreview()})};c.saveScore=ko.computed(function(){if(typeof c.round_id()==="undefined"||typeof c.round_hcp()==="undefined"||c.holes().length===0){return false}c.saveHoleScore(c.round_id(),c.round_hcp(),c.currentHole(),c.currentHoleScore(),c.round_tee(),c.hitFairway(),c.hitGreen())}).extend({throttle:2000});var a=false;c.nextHole=function(){if(!a){a=true;var j=$("#holeHeader");var i=$("#s_text");var h=$("#dataDisplay");h.transition({perspective:"1000",x:"-100%",duration:"375"}).transition({perspective:"1000",x:"100%",duration:"0",}).transition({perspective:"1000",x:"0",duration:"275"});j.transition({perspective:"1000",x:"-80px",opacity:"0",duration:"350",complete:function(){}}).transition({perspective:"1000",duration:"0",x:"80px",complete:function(){a=false}});setTimeout(function(){j.transition({perspective:"1000",x:"0",opacity:"1",duration:"250",complete:function(){}})},350);var l=$("#dataButtons");l.transition({perspective:"1000",x:"-100%",duration:"350"}).transition({perspective:"1000",x:"100%",duration:"0",}).transition({perspective:"1000",x:"0",duration:"250"})}var k=parseInt(c.currentHole(),10);c.saveHoleScore(c.round_id(),c.round_hcp(),k,c.currentHoleScore(),c.round_tee(),c.hitFairway(),c.hitGreen());c.showPoints(false);c.noScoreEntered(true);var g=c.holes().length;if(k===g){c.currentHole(1);c.setHoleData(1)}else{c.currentHole(k+1);c.setHoleData(k+1)}};c.previousHole=function(){if(!a){a=true;var i=$("#holeHeader");i.css({perspective:"1000",x:"0",opacity:"1",}).transition({perspective:"1000",x:"80px",opacity:"0",duration:"375",complete:function(){i.css({x:"-80px",});a=false}});setTimeout(function(){i.transition({perspective:"1000",x:"0",opacity:"1",duration:"275",})},375);var h=$("#dataDisplay");h.transition({perspective:"1000",x:"100%",duration:"350"}).transition({perspective:"1000",x:"-100%",duration:"0",}).transition({perspective:"1000",x:"0",duration:"250"});var k=$("#dataButtons");k.transition({perspective:"1000",x:"100%",duration:"350"}).transition({perspective:"1000",x:"-100%",duration:"0",}).transition({perspective:"1000",x:"0",duration:"250"})}var j=parseInt(c.currentHole(),10);c.saveHoleScore(c.round_id(),c.round_hcp(),j,c.currentHoleScore(),c.round_tee(),c.hitFairway(),c.hitGreen());c.noScoreEntered(false);var g=c.holes().length;if(j===1){c.currentHole(g);c.setHoleData(g)}else{c.currentHole(j-1);c.setHoleData(j-1)}};c.currentHolePoints=ko.computed(function(){var g=parseInt(c.currentHoleHcpPar(),10);var i=parseInt(c.currentHoleScore(),10);if(c.noScoreEntered()||i===0){c.showPoints(false);return 0}else{var h=g-i+2;c.showPoints(true);if(h>0){return(h+" pistett")}else{return(0+" pistett")}}}).extend({throttle:1});c.setScore=function(k,l,j,g){for(var h=0;h<c.roundScores().length;h++){if(c.roundScores()[h].hole()===k){c.roundScores()[h].score(l);c.roundScores()[h].points(j);c.roundScores()[h].scoreToPar(l-g)}}};c.upScore=function(){if(c.hasSlid()===false){var h=c.currentHoleScore();var g=$(".scoreDisplay");c.currentHoleScore(parseInt(h,10)+1);g.transition({perspective:"100",rotateY:"360deg",duration:250}).transition({perspective:"0",rotateY:"0deg",duration:0})}c.hasSlid(true)};c.downScore=function(){if(c.hasSlid()===false){var h=c.currentHoleScore();var g=$(".scoreDisplay");if(c.currentHoleScore()>0){c.currentHoleScore(h-1)}g.transition({perspective:"100",rotateY:"-360deg",duration:250}).transition({perspective:"0",rotateY:"0deg",duration:0})}c.hasSlid(true)};c.resetSlider=function(){c.hasSlid(false);$(".ui-slider-handle").animate({left:"50%",easing:"swing"},100);c.sliderVal(0)};c.sliderMove=function(){var g=parseInt(c.sliderVal(),10);var j=c.currentHolePar();if(g<25&&g>=0||g<=0&&g>-25){if(c.noScoreEntered()===true){c.currentHoleScore(j)}}if(g>=26){if(c.noScoreEntered()===true){c.currentHoleScore(j)}c.upScore()}if(g<-26){if(c.noScoreEntered()===true){c.currentHoleScore(j)}c.downScore()}c.noScoreEntered(false);var k=parseInt(c.currentHole(),10);var l=parseInt(c.currentHoleScore(),10);var i=parseInt(c.currentHolePoints(),10);var h=parseInt(c.currentHolePar(),10);c.setScore(k,l,i,h)};ko.bindingHandlers.uislider={init:function(h,i,j){var g=j().sliderOptions||{};$(h).slider(g);ko.utils.registerEventHandler(h,"slidechange",function(k,l){var m=i();m(l.value)});ko.utils.domNodeDisposal.addDisposeCallback(h,function(){$(h).slider("destroy")});ko.utils.registerEventHandler(h,"slide",function(k,m){var n=i();n(m.value);var l=ko.unwrap(n);$(h).slider("option","value",l)});ko.utils.registerEventHandler(h,"slidestop",function(k,l){var m=i();m(l.value)})},};ko.bindingHandlers.mobileList={update:function(g,h){setTimeout(function(){try{$(g).listview("refresh",true)}catch(i){}},0)}};ko.bindingHandlers.mobileradio={init:function(g,h){},update:function(g,h){var i=h();var j=ko.utils.unwrapObservable(i);if(j===$(g).val()){$(g).prop("checked",true).checkboxradio("refresh")}else{$(g).removeProp("checked").checkboxradio("refresh")}}};ko.bindingHandlers.jqmValue={init:function(h,i,j,g){if(typeof ko.bindingHandlers.value.init!=="undefined"){ko.bindingHandlers.value.init(h,i,j,g)}},update:function(i,j,k,h){if(typeof ko.bindingHandlers.value.update!=="undefined"){ko.bindingHandlers.value.update(i,j,k,h)}var g=$.data(i,"selectmenu");if(g){$(i).selectmenu("refresh",true)}}};c.spinnerLoaded=ko.observable(false);c.loadPrefs=function(){if(!a){a=true;if(c.activePage()==="prefs"){return}c.activePage("prefs");if(c.loadedRoundStartTime()!==""){c.scrollPos(0);c.loadedRoundStartTime("")}var n=$("#pageBackButton");var t=$("#prefs");var i=$("#f_page");var l=$("#f_content");var m=$("#f_header");var j=$("#prefs_link");var h=$("#prefs_content");var p=$("#f_outer");var r=$("#header_front");var s=$("#f_text");var q=$("#pageTitle");var k=$("#creditsButton");var o=$("#pageRight");var g=$("#pageRight");s.removeClass("headerButton").addClass("headerTitle");setTimeout(function(){n.css({perspective:"1000",x:"-100%",opacity:"0",visibility:"visible",display:"block",});t.css({transformOrigin:"100% 0",x:"-100%",display:"block",});k.css({perspective:"1000",x:"100%",opacity:"0",visibility:"visible",display:"block",})},0);setTimeout(function(){q.transition({perspective:"1000",opacity:"0",duration:"350",x:"100%",complete:function(){q.css({visibility:"hidden",display:"none"})}});g.transition({perspective:"1000",opacity:"0",duration:"150",complete:function(){n.transition({perspective:"1000",x:"0%",duration:"200",opacity:"1",});k.transition({perspective:"1000",x:"0%",opacity:"1",duration:"350",})}});s.transition({perspective:"1000",duration:"350",marginRight:"0%",paddingLeft:"2px"});r.transition({perspective:"1000",x:"30%",duration:"350",textDecoration:"",complete:function(){j.css({textDecoration:"",color:"#fefefe"});c.spinnerLoaded(true)}});p.transition({perspective:"1000",x:"75%",duration:"300",opacity:"0",easing:"out",complete:function(){p.css({visibility:"hidden",x:"100%"});o.css({visibility:"hidden",display:"none"})}});t.transition({perspective:"1000",x:"0",easing:"in",duration:"150",complete:function(){}})},1);setTimeout(function(){a=false},250)}};c.hidePrefs=function(){if(!a){c.saveGolfer();a=true;var m=$("#pageBackButton");c.activePage("front");var g=$("#prefs");var j=$("#f_content");var k=$("#prefs_link");var i=$("#prefs_content");var t=$("#prefs");var o=$("#f_outer");var n=$("#pageRight");var l=$("#creditsButton");n.css({visibility:"visible",display:"block"});var m=$("#pageBackButton");var r=$("#header_front");var s=$("#f_text");var q=$("#pageTitle");var p=$("#pref_text");s.addClass("headerButton");s.removeClass("headerTitle");q.css({visibility:"visible",display:"block"}).transition({perspective:"1000",opacity:"1",duration:"350",x:"0%",complete:function(){}});var h=$("#pageRight");h.transition({perspective:"1000",opacity:"1",duration:"850",});l.transition({perspective:"1000",opacity:"0",duration:"350",x:"100%",complete:function(){l.css({visibility:"hidden",display:"none"})}});o.css({transformOrigin:"100% 0",visibility:"visible"}).transition({perspective:"1000",x:"0%",duration:"350",opacity:"1",});r.transition({perspective:"1000",x:"0",duration:"350",});s.transition({perspective:"1000",marginRight:"100%",duration:"100",paddingLeft:"2px"});(function(){m.transition({perspective:"1000",duration:"450",x:"-100%",opacity:"0",complete:function(){}})})();t.css({transformOrigin:"100% 0"}).transition({perspective:"1000",x:"-100%",duration:"350",complete:function(){g.css({display:"none"})}});j.css({transformOrigin:"100% 0"}).transition({perspective:"1000",x:"0%",duration:"350",complete:function(){a=false;c.spinnerLoaded(false)}})}};c.scoreCardClicked=false;c.showScoreCard=function(){if(c.scoreCardClicked===false){var h=$("#s_card");c.scoreCardClicked=true;c.saveHoleScore(c.round_id(),c.round_hcp(),c.currentHole(),c.currentHoleScore(),c.round_tee(),c.hitFairway(),c.hitGreen());var i=$("#scoreCard");var g=$("#header_scorepage");g.css({opacity:"0",duration:"100",});i.css({transformOrigin:"100% 0"}).transition({perspective:"1000",y:"-100%",duration:"0",complete:function(){i.css({display:"block",position:"absolute"})}}).transition({perspective:"1000",y:"0px",x:"0px",top:"0",bottom:"0",right:"0",left:"0",duration:"300",easing:"in",complete:function(){}}).transition({perspective:"1000",y:"-9px",duration:"90",}).transition({perspective:"1000",y:"0px",duration:"100",}).transition({perspective:"1000",y:"-3px",duration:"40",}).transition({perspective:"1000",y:"0px",duration:"40",}).transition({perspective:"1000",y:"-1px",duration:"20",}).transition({perspective:"1000",y:"0px",duration:"20",})}};(function(){var j=$.support.touch,i="touchmove scroll",g=j?"touchstart":"mousedown",k=j?"touchend":"mouseup",h=j?"touchmove":"mousemove";$.event.special.swipeupdown={setup:function(){var l=this;var m=$(l);m.bind(g,function(o){var q=o.originalEvent.touches?o.originalEvent.touches[0]:o,r={time:(new Date).getTime(),coords:[q.pageX,q.pageY],origin:$(o.target)},n;function p(s){if(!r){return}var t=s.originalEvent.touches?s.originalEvent.touches[0]:s;n={time:(new Date).getTime(),coords:[t.pageX,t.pageY]};if(Math.abs(r.coords[1]-n.coords[1])>10){s.preventDefault()}}m.bind(h,p).one(k,function(s){m.unbind(h,p);if(r&&n){if(n.time-r.time<1000&&Math.abs(r.coords[1]-n.coords[1])>30&&Math.abs(r.coords[0]-n.coords[0])<75){r.origin.trigger("swipeupdown").trigger(r.coords[1]>n.coords[1]?"swipeup":"swipedown")}}r=n=undefined})})}};$.each({swipedown:"swipeupdown",swipeup:"swipeupdown"},function(m,l){$.event.special[m]={setup:function(){$(this).bind(l,$.noop)}}})})();c.closeScoreCard=function(){c.scoreCardClicked=false;var h=$("#scoreCard");var g=$("#header_scorepage");h.css({transformOrigin:"100% 0"}).transition({perspective:"1000",y:"-100%",duration:"300",easing:"in-out",complete:function(){h.css({display:"none"});g.transition({opacity:"1",duration:"50",});var i=$("#bottom");var j=$("#s_footer");i.css({webkitFilter:""});j.css({webkitFilter:""})}})};c.showCredits=function(){var g=$("#credits");g.css({y:"100%",display:"block",});g.transition({perspective:"1000",y:"0%",duration:"250",easing:"easeOutCirc",})};c.hideCredits=function(){var g=$("#credits");g.transition({perspective:"1000",y:"100%",duration:"250",easing:"easeInQuad",complete:function(){g.css({display:"none",})}})};c.getCourseData=function(k,h,g){var l={course_id:k};for(var j=0;c.courseList().length>j;j++){if(c.courseList()[j].id===k){c.courseName(c.courseList()[j].name);c.courseAlias(c.courseList()[j].alias);c.courseCrYellowMen(c.courseList()[j].crYellowMen);c.courseSlYellowMen(c.courseList()[j].slYellowMen);c.courseCrYellowLadies(c.courseList()[j].crYellowLadies);c.courseSlYellowLadies(c.courseList()[j].slYellowLadies);c.courseCrBlueMen(c.courseList()[j].crBlueMen);c.courseSlBlueMen(c.courseList()[j].slBlueMen);c.courseCrBlueLadies(c.courseList()[j].crBlueLadies);c.courseSlBlueLadies(c.courseList()[j].slBlueLadies);c.courseCrRedMen(c.courseList()[j].crRedMen);c.courseSlRedMen(c.courseList()[j].slRedMen);c.courseCrRedLadies(c.courseList()[j].crRedLadies);c.courseSlRedLadies(c.courseList()[j].slRedLadies);c.courseCrWhiteMen(c.courseList()[j].crWhiteMen);c.courseSlWhiteMen(c.courseList()[j].slWhiteMen);break}}apexEventProxy.getHoleData({data:l},function(o){var m;var n=o.holes.length;for(m=0;m<n;m++){c.holes.push({hole_number:ko.observable(o.holes[m].hole_number),hole_par:ko.observable(o.holes[m].par),hole_hcp:ko.observable(o.holes[m].hcp),hole_length_yellow:ko.observable(o.holes[m].length_yellow),hole_length_blue:ko.observable(o.holes[m].length_blue),hole_length_white:ko.observable(o.holes[m].length_white),hole_length_red:ko.observable(o.holes[m].length_red)})}c.setHoleData(c.currentHole());if(h){c.getRoundScores(h,function(){g()})}else{g()}})};c.leaveRound=function(){if(!a){a=true;var n=c.round_id();c.saveHoleScore(c.round_id(),c.round_hcp(),c.currentHole(),c.currentHoleScore(),c.round_tee(),c.hitFairway(),c.hitGreen());if(c.firstRun()===true){c.firstRun(false)}if(c.roundEndTime()===""&&c.validateRound()===true){var m=new Date();m=m.format("yyyy-mm-dd HH:MM:ss");var j={round_id:n,end_time:m};apexEventProxy.endRound({data:j},function(i){})}for(var k=0;k<c.roundList().length;k++){if(c.roundList()[k].id===c.round_id()){c.roundList()[k].score(c.totalScore());c.roundList()[k].par(c.coursePar())}}clearInterval(f);c.roundEndTime("");c.roundScores.removeAll();c.prePopulateScores();c.newRoundClicked=false;var o=$("#header_front");(function(){o.transition({x:"-50%",opacity:"0",display:"block",duration:"0"})})();var r=$("#header_scorepage");var q=$("#c_outer");q.css({visibility:"hidden",});var g=$("#s_back");r.transition({perspective:"1000",x:"50%",opacity:"0",duration:"350",complete:function(){}});setTimeout(function(){r.css({display:"none",opacity:"1"})},350);(function(){setTimeout(function(){o.transition({perspective:"1000",x:"0%",opacity:"1",duration:"350",})},0)})();var l=$("#s_page");var h=$("#f_outer");h.css({x:"-100%",display:"block",visibility:"visible"});l.transition({perspective:"1000",x:"50%",duration:"350",opacity:"0",complete:function(){l.css({display:"none",opacity:"1"});a=false}});h.transition({perspective:"1000",x:"0%",duration:"350",});var p=$("#courseSelect");p.css({marginLeft:"100%"})}};c.newRoundClicked=false;var f;c.startNewRound=function(g,h){if(!a){c.loadingRound(g);if(c.newRoundClicked===false){c.newRoundClicked=true;c.holes.removeAll();c.roundFinished(false);var i={course_id:g};apexEventProxy.createNewRound({data:i},function(l){var j=l.round_id;var k=l.round_start_time;var l={round_id:j};apexEventProxy.createNewRoundGolfer({data:l},function(m){c.round_id(j);c.course_id(g);c.roundStartTime(k.date);c.round_hcp(c.playerExactHcp());c.getCourseData(g,j,function(){c.saveHoleScore(j,c.playerExactHcp(),1,0,c.playerDefaultTee(),false,false);c.roundList.unshift({id:j,course_name:h,start_time:k,score:ko.observable(0),par:ko.observable(0)});c.loadRecentCourses();c.currentHole(1);c.setHoleData(1);c.calcRoundDuration();f=setInterval(function(){c.calcRoundDuration()},2000);c.showScorePage(true);setTimeout(function(){c.loadingRound("")},500)})})})}else{return}}};c.highlightLoaded=function(g){if(g==c.loadedRoundStartTime()){return true}else{return false}};c.loadRound=function(g,h){if(!a){a=true;c.loadingRound(g);c.roundFinished(false);c.loadedRoundStartTime(h);c.holes([]);var i={round_id:g};apexEventProxy.getRound({data:i},function(m){var k=m.round.course_id;var l=m.round.start_time;var j=m.round.end_time;c.getCourseData(k,g,function(){c.round_id(g);c.course_id(k);c.roundStartTime(l.date);if(j===null){c.roundEndTime("")}else{c.roundEndTime(j.date)}c.calcRoundDuration();var n=setInterval(function(){c.calcRoundDuration()},2000);a=false;c.showScorePage();setTimeout(function(){c.loadingRound("")},500)})})}};c.el=ko.observable();var e;c.showDeleteRoundButton=function(g,h){c.roundToDelete(g);var i=$(event.target.offsetParent);c.deletionConfirmed(false);if(e){if(i.hasClass("toBeDeleted")&&e.hasClass("toBeDeleted")){}else{e.transition({perspective:"1000",x:"0px",duration:"150",});e.removeClass("toBeDeleted");$(".deleteBtn").removeClass("confirmDelete");$(".fa-trash-o").removeClass("shake")}}i.css({zIndex:"1",});i.transition({perspective:"1000",x:"-54px",duration:"150",});i.addClass("toBeDeleted");e=i};c.hideDeleteRoundButton=function(g,h){if(e){var i=$(event.target.offsetParent);i.transition({perspective:"1000",x:"0px",duration:"150",});i.removeClass("toBeDeleted");e.removeClass("toBeDeleted");$(".deleteBtn").removeClass("confirmDelete");$(".fa-trash-o").removeClass("shake");e=null;c.deletionConfirmed(false);c.roundToDelete("")}};c.deletionConfirmed=ko.observable(false);c.confirmDelete=function(g,j,i){var l=$(i.target.offsetParent);var m=e;if(c.deletionConfirmed()==false){l.addClass("confirmDelete");var k=$(l).nextAll(".fa:first");var h=k.context.firstElementChild.firstElementChild;$(h).addClass("shake");c.deletionConfirmed(true)}else{c.deleteRound(g,l,m)}};c.deleteRound=function(g,h,i){if(!a){a=true;i.css({zIndex:"0"});i.transition({perspective:"1000",x:"120%",opacity:"0",duration:"350",});h.transition({x:"100%",duration:"350",complete:function(){i.css({height:"0",display:"none"});h.css({height:"0",display:"none"});c.deletionConfirmed(false);a=false;setTimeout(function(){var k={round_id:g};apexEventProxy.deleteRound({data:k},function(l){});for(var j=0;j<c.roundList().length;j++){if(c.roundList()[j].id===g){c.roundList.splice(j,1);if(c.roundList().length===0){c.firstRun(true)}}c.clickedRoundStartTime("")}},40)}})}};c.cancelRoundDelete=function(){if(c.clickedRoundStartTime()!==""){c.clickedRoundStartTime("")}$("#delPopUp").popup("close",{transition:"fade"})};c.getRoundScores=function(h,g){var i={round_id:h};apexEventProxy.getRoundScores({data:i},function(n){var k;if(n.scores.length===0){c.round_hcp(c.playerExactHcp());c.calcPlayingHcp(c.playerExactHcp())}else{var q,p;for(var l=0;l<n.scores.length;l++){for(var o=0;o<c.roundScores().length;o++){if(c.roundScores()[o].hole()===n.scores[l].hole_id){c.roundScores()[o].score(n.scores[l].score);c.roundScores()[o].fairway_hit(n.scores[l].fairway_hit);c.roundScores()[o].green_hit(n.scores[l].green_hit);q=n.scores[l].round_hcp;p=n.scores[l].round_tee}}}c.round_hcp(q);c.round_tee(p);c.calcPlayingHcp(q)}c.locale_tee(c.translate_tee());var m=0;for(var j=0;j<c.holes().length;j++){if(c.roundScores()[j].score()===0&&m===0){m=c.roundScores()[j].hole()}}if(m!==0){c.currentHole(m);c.setHoleData(m);c.noScoreEntered(true)}else{c.currentHole(1);c.currentHoleScore(parseInt(c.roundScores()[0].score(),10));c.setHoleData(1);c.noScoreEntered(false)}g()})};c.getRoundList=function(h){var g;apexEventProxy.getRoundList({a:g},function(o){if(o.message!=="fail"){for(var n=0,j=o.rounds.length;n<j;n++){var k={id:o.rounds[n].id,course_name:o.courses[n].name,start_time:o.rounds[n].start_time,score:ko.observable(o.scores[n]),par:ko.observable(o.pars[n])};c.roundList.push(k)}if(c.roundList().length>0){c.firstRun(false)}else{c.firstRun(true)}}else{c.firstRun(true)}})};c.getRoundList();c.getCourseList=function(){var g;apexEventProxy.getCourseList({a:g},function(k){k.courses.sort(function(l,i){var n=l.name;var m=i.name;if(n<m){return -1}if(n>m){return 1}return 0});for(var j=0,h=k.courses.length;j<h;j++){c.courseList.push(k.courses[j])}})};c.saveGolfer=function(h){var g={handicap:c.playerExactHcp(),tee:c.playerDefaultTee(),gender:c.playerGender()};apexEventProxy.saveGolferData({data:g},function(i){})};c.getGolferData=function(h){var g;apexEventProxy.getGolferData({a:g},function(i){c.playerName(i.golfer.name);c.playerExactHcp(i.golfer.handicap);c.playerDefaultTee(i.golfer.tee);c.playerGender(i.golfer.gender);c.hcpScroller()})};c.totalToPar=ko.computed(function(){if(c.holes().length>0&&c.roundScores().length>0){var g=0;var j;for(var h=0;h<c.roundScores().length;h++){j=parseInt(c.roundScores()[h].score(),10);if(j>0){g+=j-parseInt(c.holes()[h].hole_par(),10)}}return g}else{return false}}).extend({throttle:350});c.fairwayPercentage=ko.computed(function(){if(c.holes().length>0&&c.roundScores().length>0){var g=c.hitFairway();var k=c.currentHole()-1;c.roundScores()[k].fairway_hit(g);var l=0;var h=0;for(var j=0;j<c.roundScores().length;j++){if(j<c.holes().length){if(c.holes()[j].hole_par()!==3){h++;if(c.roundScores()[j].fairway_hit()===true){l++}}}}return Math.round(l/h*100)+"% ("+l+"/"+h+")"}else{return false}}).extend({throttle:350});c.greenPercentage=ko.computed(function(){var g=c.hitGreen();var l=c.currentHole()-1;c.roundScores()[l].green_hit(g);if(c.holes().length>0&&c.roundScores().length>0){var j=0;var h=c.roundScores().length;for(var k=0;k<c.roundScores().length;k++){if(c.roundScores()[k].green_hit()==true){j++}}return Math.round(j/h*100)+"% ("+j+"/"+h+")"}else{return false}}).extend({throttle:350});c.validateRound=ko.computed(function(){if(c.roundFinished()===true){if(c.roundEndTime()===""){var l=new Date();l=l.format("yyyy-mm-dd HH:MM:ss");var k={round_id:c.round_id(),end_time:l};apexEventProxy.endRound({data:k},function(h){c.roundEndTime(l)})}return true}if(c.holes().length>0&&c.roundScores().length>0){if(c.roundEndTime()!==""){c.roundFinished("true");return true}var j=c.holes().length;for(var g=0;g<j;g++){var m=parseInt(c.roundScores()[g].score(),10);if(m===0){return false}}c.roundFinished("true");return true}else{return false}}).extend({throttle:250});c.calcHcpPreview=ko.computed(function(){if(c.holes().length>0){var j=parseInt(c.totalPoints(),10);var k=parseFloat(c.round_hcp());var h=parseInt(c.holes().length,10);var g;if(h===9){g=18}else{g=36}var i;i=c.getHcpGroup(k);if(j>g){while(j>g){if(i=="9hole"){c.hcpPreview("Ei 9 rein kierroksella");return}k=k-(1*i.factor);i=c.getHcpGroup(k);j--}c.hcpPreview(parseFloat(k).toFixed(1))}else{if(i=="9hole"){c.hcpPreview("Ei 9 rein kierroksella");return}if(j>=g-i.buffer){c.hcpPreview(k)}else{c.hcpPreview(parseFloat(k+i.incr).toFixed(1))}}}else{return}}).extend({throttle:250});c.getHcpGroup=function(k){var g=k;var i=c.holes().length;var j={};if(g>=36.1){j.factor=1;j.buffer=0;j.incr=0}if(g>=26.5&&g<=36){j.factor=0.5;j.incr=0.2;if(i===9){j.buffer=3}else{j.buffer=5}}if(g>=18.5&&g<=26.4){j.factor=0.4;j.incr=0.1;if(i===9){j.buffer=2}else{j.buffer=4}}if(g>=11.5&&g<=18.4){if(i===9){return"9hole"}else{j.buffer=3}j.factor=0.3;j.incr=0.1}if(g>=4.5&&g<=11.4){if(i===9){return"9hole"}j.buffer=2;j.factor=0.2;j.incr=0.1}if(g<=4.4){if(i===9){return"9hole"}j.factor=0.1;j.incr=0.1;j.buffer=1}return j};c.fillScoreCard=function(m){c.scoreCard.removeAll();for(var j=0;j<c.holes().length;j++){var h=ko.observable();h=c.getHolePoints(c.roundScores()[j].score(),c.holes()[j].hole_par(),c.holes()[j].hole_hcp(),m);c.roundScores()[j].points(h);var l=ko.observable();if(c.roundScores()[j].score()>0){l=c.roundScores()[j].score()-c.holes()[j].hole_par()}else{l=0}var k;if(c.round_tee()==="yellow"){k=c.holes()[j].hole_length_yellow()}else{if(c.round_tee()==="blue"){k=c.holes()[j].hole_length_blue()}else{if(c.round_tee()==="white"){k=c.holes()[j].hole_length_white()}else{if(c.round_tee()==="red"){k=c.holes()[j].hole_length_red()}}}}var g={};g.hole_number=c.holes()[j].hole_number;g.hole_par=c.holes()[j].hole_par;g.hole_hcp=c.holes()[j].hole_hcp;g.hole_length=k;g.score=c.roundScores()[j].score;g.scoreToPar=ko.observable(l);g.points=ko.observable(h);c.scoreCard.push(g)}c.calcHcpPreview()};c.updateScoreCard=function(l,j){var i=j-1;var g=c.getHolePoints(l,c.holes()[i].hole_par(),c.holes()[i].hole_hcp(),c.playerPlayingHcp());c.roundScores()[i].points(g);var k;if(c.roundScores()[i].score()>0){k=l-c.holes()[i].hole_par()}else{k=0}c.scoreCard()[i].score(l);c.scoreCard()[i].scoreToPar(k);c.scoreCard()[i].points(g)};c.getHolePoints=function(h,l,j,i){var o=parseInt(i);var g,k,n;g=Math.floor(o/18);k=(o.mod(18));if(k>=j){n=l+g+1}else{n=l+parseInt(g,10)}if(h===0){return 0}else{var m=n-h+2;if(m>0){return m}else{return 0}}};c.showStats=function(){var h=$("#stats");var g=$("#holeData");var i=$("#dataDisplay");if(h.is(":visible")){return}h.css({opacity:"0",display:"block",});g.transition({opacity:"0",duration:"350",complete:function(){g.css({display:"none",})}});h.transition({opacity:"1",duration:"350",});$("#statsBtn").addClass("activeBtn").removeClass("passiveBtn");$("#dataBtn").addClass("passiveBtn").removeClass("activeBtn")};c.showHoledata=function(){var h=$("#stats");var g=$("#holeData");if(g.is(":visible")){return}h.transition({opacity:"0",duration:"350",complete:function(){h.css({display:"none"})}});g.css({display:"block",});g.transition({opacity:"1",duration:"350",complete:function(){}});$("#statsBtn").addClass("passiveBtn").removeClass("activeBtn");$("#dataBtn").addClass("activeBtn").removeClass("passiveBtn")};c.getGolferData();c.getCourseList();var b=false;c.hcpScroller=function(){if(b==true){return}var j={"-3":"-3","-2":"-2","-1":"-1","0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","10":"10","11":"11","12":"12","13":"13","14":"14","15":"15","16":"16","17":"17","18":"18","19":"19","20":"20","21":"21","22":"22","23":"23","24":"24","25":"25","26":"26","27":"27","28":"28","29":"29","30":"30","31":"31","32":"32","33":"33","34":"34","35":"35","36":"36","37":"37","38":"38","39":"39","40":"40","41":"41","42":"42","43":"43","44":"44","45":"45","46":"46","47":"47","48":"48","49":"49","50":"50","51":"51","52":"52","53":"53","54":"54"};var i={"0":".0","1":".1","2":".2","3":".3","4":".4","5":".5","6":".6","7":".7","8":".8","9":".9"};var g=[{},{}];g[0]["Wheel1"]=j;g[1]["Wheel2"]=i;$("#i").scroller({display:"inline",mode:"scroller",theme:"ios7",wheels:g,width:50,height:30,showLabel:false,formatResult:function(l){var m=l[0]+"."+l[1];return m}});var k=parseFloat(c.playerExactHcp());k=k.toFixed(1);var h=[];h=k.split(".");$("#i").scroller("setValue",h,true,1);b=true};c.loadCourseSelect=function(){if(!a){a=true;$("#fullCourseList").css({visibility:"hidden"});c.round_tee(c.playerDefaultTee());if(c.loadedRoundStartTime()!==""){c.scrollPos(0)}c.loadedRoundStartTime("");var i=$("#c_outer");var g=$("#f_outer");var k=$("#header_front");var j=$("#header_courselist");var l=$("#courseSelect");var h=$("#pageRight");setTimeout(function(){j.css({x:"50%",opacity:"0",display:"block",visibility:"visible",});i.css({x:"100%",opacity:"1",visibility:"visible",});l.css({visibility:"visible",display:"block",x:"100%",marginLeft:"0%",})},0);setTimeout(function(){k.transition({perspective:"1000",x:"-50%",duration:"350",opacity:"0",complete:function(){k.css({display:"none"})}});j.transition({perspective:"1000",x:"0%",opacity:"1",duration:"350",});g.transition({perspective:"1000",x:"-100%",duration:"350",opacity:"0",complete:function(){g.css({visibility:"hidden",opacity:"1",});a=false;if(c.recentlyPlayedCourses().length==0){c.courseListVisible(true)}$("#fullCourseList").css({visibility:"visible"})}});i.transition({perspective:"1000",x:"0%",duration:"350",})},1)}};c.hideCourseSelect=function(){if(!a){a=true;var j=$("#header_front");var i=$("#header_courselist");var h=$("#c_outer");var g=$("#f_outer");var k=$("#courseSelect");setTimeout(function(){j.css({x:"-100%",y:"0px",opacity:"0",display:"block",visibility:"visible",});g.css({x:"-100%",visibility:"visible",})},0);setTimeout(function(){g.transition({perspective:"1000",x:"0",duration:"350",complete:function(){}});h.transition({perspective:"1000",x:"100%",duration:"350",complete:function(){k.css({visibility:"hidden"})}});i.transition({perspective:"1000",x:"50%",opacity:"0",duration:"350",complete:function(){i.css({visibility:"hidden",display:"none"})}});j.transition({perspective:"1000",x:"0%",duration:"350",opacity:"1",complete:function(){j.css({});a=false}})},1)}};c.showScorePage=function(l){if(!a){a=true;var h=$("#s_content");var i=$("#s_page");var n=$("#header_scorepage");if(!l){var g=$("#f_outer");var m=$("#header_front");setTimeout(function(){n.css({x:"100%",display:"block",});i.css({x:"100%",display:"block",opacity:"0",})},0);setTimeout(function(){m.transition({x:"-50%",opacity:"0",duration:"350",complete:function(){m.css({display:"none"})}});n.transition({perspective:"1000",x:"0%",duration:"350",});g.transition({perspective:"1000",x:"-50%",duration:"350",opacity:"0",complete:function(){g.css({visibility:"hidden",opacity:"1",display:"none"});a=false}});i.transition({perspective:"1000",x:"0%",opacity:"1",duration:"350",})},1)}else{var k=$("#c_outer");var j=$("#header_courselist");setTimeout(function(){i.css({x:"100%",display:"block",});n.css({x:"100%",display:"block",})},0);setTimeout(function(){j.transition({x:"-50%",opacity:"0",duration:"350",complete:function(){j.css({display:"none"})}});n.transition({perspective:"1000",x:"0%",duration:"350",});k.transition({perspective:"1000",x:"-50%",duration:"350",opacity:"0",complete:function(){k.css({visibility:"hidden",opacity:"1",x:"100%"});a=false}});i.transition({perspective:"1000",x:"0%",duration:"350",})},1)}}};c.filteredCourseList=ko.observableArray();c.courseSearch=ko.observable("");c.filterCourses=ko.computed(function(){if(c.courseList().length>0&&typeof c.courseSearch()!=="undefined"){var h=c.courseSearch();if(h.length>0){h=h.toLowerCase()}var g=ko.utils.arrayFilter(c.courseList(),function(i){if(_.contains(i.name.toLowerCase(),h)||_.contains(i.alias.toLowerCase(),h)){return i}});c.filteredCourseList([]);c.filteredCourseList.push.apply(c.filteredCourseList,g)}}).extend({throttle:350});c.courseListVisible=ko.observable(false);c.toggleCourseList=function(){if(c.courseListVisible()==false){c.courseListVisible(true)}else{c.courseListVisible(false)}};ko.bindingHandlers.fadeVisible={init:function(g,i){var j=i();var h=$(g);h.toggle(j)},update:function(g,i){var j=i();var h=$(g);if(j==true){h.css({display:"block"});h.transition({opacity:1,queue:false,duration:"500"})}else{h.transition({opacity:0,queue:false,duration:"500"});h.css({display:"none"})}}};var d=false;c.toggleTeeSelect=function(){if(d==true){c.hideTeeSelect()}else{c.showTeeSelect()}};c.showTeeSelect=function(){d=true;var g=$("#teeSelect");g.css({y:"-100%",display:"block",boxShadow:"0 0 0 #666"}).transition({perspective:"1000",y:"0%",duration:"250",opacity:"1",boxShadow:"0 6px 12px #999",})};c.hideTeeSelect=function(){d=false;var g=$("#teeSelect");g.transition({perspective:"1000",y:"-100%",duration:"250",opacity:"0",boxShadow:"0 0 0 #666",complete:function(){g.css({display:"none"})}})}}$(document).on("mobileinit",function(){});$(document).on("pageinit",function(){window.vm=new viewModel();ko.virtualElements.allowedBindings.mobileList=true;(function b(){var c=(window.navigator.standalone)?true:false;vm.launchedFromHome(c);if(c){document.body.style.webkitTransform="translate3d(0, 20px, 0)"}})();function a(c){var d=(window.orientation%180==0);if(!d){if(navigator.userAgent.match(/(iPhone)/g)&&vm.launchedFromHome()==false){$("#root").removeClass("ios_top_minimal_ui")}}}window.onorientationchange=a;window.setTimeout(a,0);$("input").bind("focus",function(){});$("input").bind("focusout",function(){setTimeout(function(){if(vm.launchedFromHome()==true){$("#root").addClass("ios_top")}else{if(navigator.userAgent.match(/(iPhone)/g)&&vm.launchedFromHome()==false){$("#root").addClass("ios_top_minimal_ui")}}},10)});ko.applyBindings(vm,document.getElementById("root"));$("body").on("touchmove",function(g){var f=".scrollOuter",c=$(g.target),d=c.parents(f);if(d.length||c.hasClass(f)){}else{g.preventDefault()}});$("#root").on("pageshow",function(){if(vm.loadedRoundStartTime()!==""){$.mobile.silentScroll(vm.scrollPos())}});$("#courseSelect").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("courseSelect"))});$("#s_page").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("s_page"))});$("#scoreCard").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("scoreCard"))});$("#courseSelect").on("pageshow",function(c){$("#courseList").listview("refresh")});$("#s_page").on("pageshow",function(c){});$("#s_page").on("pagehide",function(){});$("#prefs").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("prefs"));vm.hcpScroller()});$(document).off("pageinit")});
/*! jQuery UI - v1.10.3 - 2013-05-21
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.slider.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(g,d){function c(k,j){var e,p,l,m=k.nodeName.toLowerCase();return"area"===m?(e=k.parentNode,p=e.name,k.href&&p&&"map"===e.nodeName.toLowerCase()?(l=g("img[usemap=#"+p+"]")[0],!!l&&f(l)):!1):(/input|select|textarea|button|object/.test(m)?!k.disabled:"a"===m?k.href||j:j)&&f(k)}function f(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var b=0,h=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){g(i).focus(),j&&j.call(i)},e)}):a.apply(this,arguments)}}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var k,e,l=g(this[0]);l.length&&l[0]!==document;){if(k=l.css("position"),("absolute"===k||"relative"===k||"fixed"===k)&&(e=parseInt(l.css("zIndex"),10),!isNaN(e)&&0!==e)){return e}l=l.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(e,a,j){return !!g.data(e,j[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(i){var j=g.attr(i,"tabindex"),e=isNaN(j);return(e||j>=0)&&c(i,!e)}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,k){function e(q,o,r,n){return g.each(p,function(){o-=parseFloat(g.css(q,"padding"+this))||0,r&&(o-=parseFloat(g.css(q,"border"+this+"Width"))||0),n&&(o-=parseFloat(g.css(q,"margin"+this))||0)}),o}var p="Width"===k?["Left","Right"]:["Top","Bottom"],l=k.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+k]=function(a){return a===d?m["inner"+k].call(this):this.each(function(){g(this).css(l,e(this,a)+"px")})},g.fn["outer"+k]=function(n,a){return"number"!=typeof n?m["outer"+k].call(this,n):this.each(function(){g(this).css(l,e(this,n,!0,a)+"px")})}}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,l){var e,m=g.ui[k].prototype;for(e in l){m.plugins[e]=m.plugins[e]||[],m.plugins[e].push([j,l[e]])}},call:function(n,l,k){var m,j=n.plugins[l];if(j&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType){for(m=0;j.length>m;m++){n.options[j[m][0]]&&j[m][1].apply(n.element,k)}}}},hasScroll:function(k,j){if("hidden"===g(k).css("overflow")){return !1}var l=j&&"left"===j?"scrollLeft":"scrollTop",e=!1;return k[l]>0?!0:(k[l]=1,e=k[l]>0,k[l]=0,e)}})})(jQuery);(function(d,b){var a=0,c=Array.prototype.slice,f=d.cleanData;d.cleanData=function(h){for(var g,j=0;null!=(g=h[j]);j++){try{d(g).triggerHandler("remove")}catch(e){}}f(h)},d.widget=function(m,v,j){var q,e,g,p,k={},t=m.split(".")[0];m=m.split(".")[1],q=t+"-"+m,j||(j=v,v=d.Widget),d.expr[":"][q.toLowerCase()]=function(h){return !!d.data(h,q)},d[t]=d[t]||{},e=d[t][m],g=d[t][m]=function(l,h){return this._createWidget?(arguments.length&&this._createWidget(l,h),b):new g(l,h)},d.extend(g,e,{version:j.version,_proto:d.extend({},j),_childConstructors:[]}),p=new v,p.options=d.widget.extend({},p.options),d.each(j,function(h,l){return d.isFunction(l)?(k[h]=function(){var n=function(){return v.prototype[h].apply(this,arguments)},i=function(o){return v.prototype[h].apply(this,o)};return function(){var r,u=this._super,o=this._superApply;return this._super=n,this._superApply=i,r=l.apply(this,arguments),this._super=u,this._superApply=o,r}}(),b):(k[h]=l,b)}),g.prototype=d.widget.extend(p,{widgetEventPrefix:e?p.widgetEventPrefix:m},k,{constructor:g,namespace:t,widgetName:m,widgetFullName:q}),e?(d.each(e._childConstructors,function(l,h){var n=h.prototype;d.widget(n.namespace+"."+n.widgetName,g,h._proto)}),delete e._childConstructors):v._childConstructors.push(g),d.widget.bridge(m,g)},d.widget.extend=function(g){for(var m,e,k=c.call(arguments,1),l=0,j=k.length;j>l;l++){for(m in k[l]){e=k[l][m],k[l].hasOwnProperty(m)&&e!==b&&(g[m]=d.isPlainObject(e)?d.isPlainObject(g[m])?d.widget.extend({},g[m],e):d.widget.extend({},e):e)}}return g},d.widget.bridge=function(g,h){var e=h.prototype.widgetFullName||g;d.fn[g]=function(k){var m="string"==typeof k,j=c.call(arguments,1),i=this;return k=!m&&j.length?d.widget.extend.apply(null,[k].concat(j)):k,m?this.each(function(){var l,o=d.data(this,e);return o?d.isFunction(o[k])&&"_"!==k.charAt(0)?(l=o[k].apply(o,j),l!==o&&l!==b?(i=l&&l.jquery?i.pushStack(l.get()):l,!1):b):d.error("no such method '"+k+"' for "+g+" widget instance"):d.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}):this.each(function(){var l=d.data(this,e);l?l.option(k||{})._init():d.data(this,e,new h(k,this))}),i}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,g){g=d(g||this.defaultElement||this)[0],this.element=d(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=d.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=d(),this.hoverable=d(),this.focusable=d(),g!==this&&(d.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===g&&this.destroy()}}),this.document=d(g.style?g.ownerDocument:g.document||g),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(g,h){var l,e,j,k=g;if(0===arguments.length){return d.widget.extend({},this.options)}if("string"==typeof g){if(k={},l=g.split("."),g=l.shift(),l.length){for(e=k[g]=d.widget.extend({},this.options[g]),j=0;l.length-1>j;j++){e[l[j]]=e[l[j]]||{},e=e[l[j]]}if(g=l.pop(),h===b){return e[g]===b?null:e[g]}e[g]=h}else{if(h===b){return this.options[g]===b?null:this.options[g]}k[g]=h}}return this._setOptions(k),this},_setOptions:function(h){var g;for(g in h){this._setOption(g,h[g])}return this},_setOption:function(h,g){return this.options[h]=g,"disabled"===h&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,h,k){var e,j=this;"boolean"!=typeof g&&(k=h,h=g,g=!1),k?(h=e=d(h),this.bindings=this.bindings.add(h)):(k=h,h=this.element,e=this.widget()),d.each(k,function(s,q){function p(){return g||j.options.disabled!==!0&&!d(this).hasClass("ui-state-disabled")?("string"==typeof q?j[q]:q).apply(j,arguments):b}"string"!=typeof q&&(p.guid=q.guid=q.guid||p.guid||d.guid++);var i=s.match(/^(\w+)\s*(.*)$/),m=i[1]+j.eventNamespace,r=i[2];r?e.delegate(r,m,p):h.bind(m,p)})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(g).undelegate(g)},_delay:function(k,h){function g(){return("string"==typeof k?j[k]:k).apply(j,arguments)}var j=this;return setTimeout(g,h||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){d(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){d(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){d(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){d(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(h,g,j){var l,e,k=this.options[h];if(j=j||{},g=d.Event(g),g.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase(),g.target=this.element[0],e=g.originalEvent){for(l in e){l in g||(g[l]=e[l])}}return this.element.trigger(g,j),!(d.isFunction(k)&&k.apply(this.element[0],[g].concat(j))===!1||g.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(g,e){d.Widget.prototype["_"+g]=function(i,l,h){"string"==typeof l&&(l={effect:l});var j,k=l?l===!0||"number"==typeof l?e:l.effect||e:g;l=l||{},"number"==typeof l&&(l={duration:l}),j=!d.isEmptyObject(l),l.complete=h,l.delay&&i.delay(l.delay),j&&d.effects&&d.effects.effect[k]?i[g](l):k!==g&&i[k]?i[k](l.duration,l.easing,h):i.queue(function(m){d(this)[g](),h&&h.call(i[0]),m()})}})})(jQuery);(function(b){var a=!1;b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===b.data(d.target,c.widgetName+".preventClickEvent")?(b.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var g,d,f=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(d=f.values&&f.values.length||1,j.length>d&&(j.slice(d).remove(),j=j.slice(0,d)),g=j.length;d>g;g++){h.push(c)}this.handles=j.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){a(this).data("ui-slider-handle-index",i)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=a([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(p){var k,w,g,t,f,d,m,j,v=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:p.pageX,y:p.pageY},w=this._normValueFromMouse(k),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(w-v.values(h));(g>c||g===c&&(h===v._lastChangedValue||v.values(h)===q.min))&&(g=c,t=a(this),f=h)}),d=this._start(p,f),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,t.addClass("ui-state-active").focus(),m=t.offset(),j=!a(p.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:p.pageX-m.left-t.width()/2,top:p.pageY-m.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(p,f,w),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(f){var h,d,g,j,c;return"horizontal"===this.orientation?(h=this.elementSize.width,d=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,d=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/h,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),j=this._valueMax()-this._valueMin(),c=this._valueMin()+g*j,this._trimAlignValue(c)},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c)},_slide:function(f,h,d){var g,j,c;this.options.values&&this.options.values.length?(g=this.values(h?0:1),2===this.options.values.length&&this.options.range===!0&&(0===h&&d>g||1===h&&g>d)&&(d=g),d!==this.values(h)&&(j=this.values(),j[h]=d,c=this._trigger("slide",f,{handle:this.handles[h],value:d,values:j}),g=this.values(h?0:1),c!==!1&&this.values(h,d,!0))):d!==this.value()&&(c=this._trigger("slide",f,{handle:this.handles[h],value:d}),c!==!1&&this.value(d))},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c)},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(g,d){var f,h,c;if(arguments.length>1){return this.options.values[g]=this._trimAlignValue(d),this._refreshValue(),this._change(null,g),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(g):this.value()}for(f=this.options.values,h=arguments[0],c=0;f.length>c;c+=1){f[c]=this._trimAlignValue(h[c]),this._change(null,c)}this._refreshValue()},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var m,j,t,f,p,d=this.options.range,c=this.options,k=this,g=this._animateOff?!1:c.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(e){j=100*((k.values(e)-k._valueMin())/(k._valueMax()-k._valueMin())),q["horizontal"===k.orientation?"left":"bottom"]=j+"%",a(this).stop(1,1)[g?"animate":"css"](q,c.animate),k.options.range===!0&&("horizontal"===k.orientation?(0===e&&k.range.stop(1,1)[g?"animate":"css"]({left:j+"%"},c.animate),1===e&&k.range[g?"animate":"css"]({width:j-m+"%"},{queue:!1,duration:c.animate})):(0===e&&k.range.stop(1,1)[g?"animate":"css"]({bottom:j+"%"},c.animate),1===e&&k.range[g?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:c.animate}))),m=j}):(t=this.value(),f=this._valueMin(),p=this._valueMax(),j=p!==f?100*((t-f)/(p-f)):0,q["horizontal"===this.orientation?"left":"bottom"]=j+"%",this.handle.stop(1,1)[g?"animate":"css"](q,c.animate),"min"===d&&"horizontal"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({width:j+"%"},c.animate),"max"===d&&"horizontal"===this.orientation&&this.range[g?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:c.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[g?"animate":"css"]({height:j+"%"},c.animate),"max"===d&&"vertical"===this.orientation&&this.range[g?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:c.animate}))},_handleEvents:{keydown:function(d){var e,h,c,g,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return}}switch(g=this.options.step,h=c=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return}c=this._trimAlignValue(h+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return}c=this._trimAlignValue(h-g)}this._slide(d,f,c)},click:function(c){c.preventDefault()},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(f){f.support.touch="ontouchend" in document;if(!f.support.touch){return}var j=f.ui.mouse.prototype,h=j._mouseInit,g;function i(c,b){if(c.originalEvent.touches.length>1){return}c.preventDefault();var a=c.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,true,true,window,1,a.screenX,a.screenY,a.clientX,a.clientY,false,false,false,false,0,null);c.target.dispatchEvent(d)}j._touchStart=function(a){var b=this;if(g||!b._mouseCapture(a.originalEvent.changedTouches[0])){return}g=true;b._touchMoved=false;i(a,"mouseover");i(a,"mousemove");i(a,"mousedown")};j._touchMove=function(a){if(!g){return}this._touchMoved=true;i(a,"mousemove")};j._touchEnd=function(a){if(!g){return}i(a,"mouseup");i(a,"mouseout");if(!this._touchMoved){i(a,"click")}g=false};j._mouseInit=function(){var a=this;a.element.bind("touchstart",f.proxy(a,"_touchStart")).bind("touchmove",f.proxy(a,"_touchMove")).bind("touchend",f.proxy(a,"_touchEnd"));h.call(a)}})(jQuery);
/*!
 * Mobiscroll v2.9.5
 * http://mobiscroll.com
 *
 * Copyright 2010-2014, Acid Media
 * Licensed under the MIT license.
 *
 */
(function(h){function k(q){var p;for(p in q){if(n[q[p]]!==undefined){return true}}return false}function f(){var q=["Webkit","Moz","O","ms"],r;for(r in q){if(k([q[r]+"Transform"])){return"-"+q[r].toLowerCase()+"-"}}return""}function e(p,q){return/touch/.test(p.type)?(p.originalEvent||p).changedTouches[0]["page"+q]:p["page"+q]}function o(s,r,q){var p=s;if(typeof r==="object"){return s.each(function(){if(!this.id){this.id="mobiscroll"+(++d)}if(a[this.id]){a[this.id].destroy()}new h.mobiscroll.classes[r.component||"Scroller"](this,r)})}if(typeof r==="string"){s.each(function(){var t,u=a[this.id];if(u&&u[r]){t=u[r].apply(this,Array.prototype.slice.call(q,1));if(t!==undefined){p=t;return false}}})}return p}function g(p){if(p.type=="touchstart"){i[p.target]=true}else{if(i[p.target]){delete i[p.target];return false}}return true}var d=+new Date,i={},a={},m=h.extend,n=document.createElement("modernizr").style,l=k(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),c=k(["flex","msFlex","WebkitBoxDirection"]),j=f(),b=j.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");h.fn.mobiscroll=function(p){m(this,h.mobiscroll.components);return o(this,p,arguments)};h.mobiscroll=h.mobiscroll||{util:{prefix:j,jsPrefix:b,has3d:l,hasFlex:c,getCoord:e,testTouch:g},presets:{},themes:{},i18n:{},instances:a,classes:{},components:{},defaults:{},userdef:{},setDefaults:function(p){m(this.userdef,p)},presetShort:function(p,q){this.components[p]=function(r){return o(this,m(r,{component:q,preset:p}),arguments)}}};h.scroller=h.scroller||h.mobiscroll;h.fn.scroller=h.fn.scroller||h.fn.mobiscroll})(jQuery);
(function(f){f.mobiscroll.classes.Scroller=function(D,aG){var U,L,t,ap,ay,q,r,an,ax,aq,Z,X,O,A,az,W,av,x,C,aw,R,aP,y,aj,aI,F,w,aE,aM,aa,aK,ae,ar,aB,H,aN,ac,T=this,Y=D,at=f(Y),P=extend({},defaults,userdef),K={},I={},aF={},ad={},G=[],am=[],aR=at.is("input"),z=false;function ai(p){if(testTouch(p)&&!e&&!A&&!ac&&!M(this)){p.preventDefault();e=true;W=P.mode!="clickpick";aj=f(".dw-ul",this);aJ(aj);av=I[aI]!==undefined;R=av?aA(aj):aF[aI];x=getCoord(p,"Y");C=new Date();aw=x;ao(aj,aI,R,0.001);if(W){aj.closest(".dwwl").addClass("dwa")}if(p.type==="mousedown"){f(document).on("mousemove",V).on("mouseup",Q)}}}function V(p){if(W){p.preventDefault();p.stopPropagation();aw=getCoord(p,"Y");ao(aj,aI,n(R+(x-aw)/aE,aP-1,y+1))}if(x!==aw){av=true}}function Q(aV){var aS=new Date()-C,v=n(R+(x-aw)/aE,aP-1,y+1),aT,aW,s,aU=aj.offset().top;if(j&&aS<300){aT=(aw-x)/aS;aW=(aT*aT)/P.speedUnit;if(aw-x<0){aW=-aW}}else{aW=aw-x}s=Math.round(R-aW/aE);if(!aW&&!av){var aX=Math.floor((aw-aU)/aE),aY=f(f(".dw-li",aj)[aX]),p=W;if(S("onValueTap",[aY])!==false){s=aX}else{p=true}if(p){aY.addClass("dw-hl");setTimeout(function(){aY.removeClass("dw-hl")},200)}}if(W){ab(aj,s,0,true,Math.round(v))}if(aV.type==="mouseup"){f(document).off("mousemove",V).off("mouseup",Q)}e=false;aj=null}function au(p){if(ac){ac.removeClass("dwb-a")}ac=f(this);if(!ac.hasClass("dwb-d")&&!ac.hasClass("dwb-nhl")){ac.addClass("dwb-a")}if(ac.hasClass("dwwb")){if(testTouch(p)){N(p,ac.closest(".dwwl"),ac.hasClass("dwwbp")?aO:u)}}if(p.type==="mousedown"){f(document).on("mouseup",aQ)}}function aQ(p){if(A){clearInterval(aa);A=false}if(ac){ac.removeClass("dwb-a");ac=null}if(p.type==="mouseup"){f(document).off("mousedown",aQ)}}function E(p){if(p.keyCode==38){N(p,f(this),u)}else{if(p.keyCode==40){N(p,f(this),aO)}}}function ak(p){if(A){clearInterval(aa);A=false}}function aH(s){if(!M(this)){s.preventDefault();s=s.originalEvent||s;var v=s.wheelDelta?(s.wheelDelta/120):(s.detail?(-s.detail/3):0),p=f(".dw-ul",this);aJ(p);ab(p,Math.round(aF[aI]-v),v<0?1:2)}}function N(aS,p,v){aS.stopPropagation();aS.preventDefault();if(!A&&!M(p)&&!p.hasClass("dwa")){A=true;var s=p.find(".dw-ul");aJ(s);clearInterval(aa);aa=setInterval(function(){v(s)},P.delay);v(s)}}function M(p){if(f.isArray(P.readonly)){var s=f(".dwwl",t).index(p);return P.readonly[s]}return P.readonly}function J(aT){var aS='<div class="dw-bf">',aV=G[aT],s=aV.values?aV:m(aV),p=1,aW=s.labels||[],v=s.values,aU=s.keys||v;f.each(v,function(aY,aX){if(p%20==0){aS+='</div><div class="dw-bf">'}aS+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+aU[aY]+'"'+(aW[aY]?' aria-label="'+aW[aY]+'"':"")+' style="height:'+aE+"px;line-height:"+aE+'px;"><div class="dw-i"'+(aM>1?' style="line-height:'+Math.round(aE/aM)+"px;font-size:"+Math.round(aE/aM*0.8)+'px;"':"")+">"+aX+"</div></div>";p++});aS+="</div>";return aS}function aJ(p){aP=f(".dw-li",p).index(f(".dw-v",p).eq(0));y=f(".dw-li",p).index(f(".dw-v",p).eq(-1));aI=f(".dw-ul",t).index(p)}function aD(p){var s=P.headerText;return s?(typeof s==="function"?s.call(Y,p):s.replace(/\{value\}/i,p)):""}function af(){T.temp=T.values?T.values.slice(0):P.parseValue(at.val()||"",T);aL()}function aA(v){var aS=window.getComputedStyle?getComputedStyle(v[0]):v[0].style,p,s;if(j){f.each(["t","webkitT","MozT","OT","msT"],function(aU,aT){if(aS[aT+"ransform"]!==undefined){p=aS[aT+"ransform"];return false}});p=p.split(")")[0].split(", ");s=p[13]||p[5]}else{s=aS.top.replace("px","")}return Math.round(U-(s/aE))}function B(s,p){clearTimeout(I[p]);delete I[p];s.closest(".dwwl").removeClass("dwa")}function ao(aS,p,aW,aV,aU){var v=(U-aW)*aE,aT=aS[0].style,s;if(v==ad[p]&&I[p]){return}if(aV&&v!=ad[p]){S("onAnimStart",[t,p,aV])}ad[p]=v;aT[c+"Transition"]="all "+(aV?aV.toFixed(3):0)+"s ease-out";if(j){aT[c+"Transform"]="translate3d(0,"+v+"px,0)"}else{aT.top=v+"px"}if(I[p]){B(aS,p)}if(aV&&aU){aS.closest(".dwwl").addClass("dwa");I[p]=setTimeout(function(){B(aS,p)},aV*1000)}aF[p]=aW}function ag(p,aZ,s){var aY=f('.dw-li[data-val="'+p+'"]',aZ),a0=f(".dw-li",aZ),aX=a0.index(aY),aS=a0.length;if(!aY.hasClass("dw-v")){var aW=aY,aV=aY,aU=0,aT=0;while(aX-aU>=0&&!aW.hasClass("dw-v")){aU++;aW=a0.eq(aX-aU)}while(aX+aT<aS&&!aV.hasClass("dw-v")){aT++;aV=a0.eq(aX+aT)}if(((aT<aU&&aT&&s!==2)||!aU||(aX-aU<0)||s==1)&&aV.hasClass("dw-v")){aY=aV;aX=aX+aT}else{aY=aW;aX=aX-aU}}return{cell:aY,v:aX,val:aY.hasClass("dw-v")?aY.attr("data-val"):null}}function ah(aT,s,v,p,aS){if(S("validate",[t,s,aT,p])!==false){f(".dw-ul",t).each(function(aX){var aW=f(this),aY=aX==s||s===undefined,aV=ag(T.temp[aX],aW,p),aU=aV.cell;if(!(aU.hasClass("dw-sel"))||aY){T.temp[aX]=aV.val;if(!P.multiple){f(".dw-sel",aW).removeAttr("aria-selected");aU.attr("aria-selected","true")}f(".dw-sel",aW).removeClass("dw-sel");aU.addClass("dw-sel");ao(aW,aX,aV.v,aY?aT:0.1,aY?aS:false)}});L=P.formatResult(T.temp);if(T.live){aL(v,v,0,true)}f(".dwv",t).html(aD(L));if(v){S("onChange",[L])}}}function S(v,s){var p;s.push(T);f.each([userdef,X,K,aG],function(aT,aS){if(aS&&aS[v]){p=aS[v].apply(Y,s)}});return p}function ab(aY,s,aS,aU,aW){s=n(s,aP,y);var aX=f(".dw-li",aY).eq(s),p=aW===undefined?s:aW,aT=aW!==undefined,aV=aI,v=aU?(s==p?0.1:Math.abs((s-p)*P.timeUnit)):0;T.temp[aV]=aX.attr("data-val");ao(aY,aV,s,v,aT);setTimeout(function(){ah(v,aV,true,aS,aT)},10)}function aO(p){var s=aF[aI]+1;ab(p,s>y?aP:s,1,true)}function u(p){var s=aF[aI]-1;ab(p,s<aP?y:s,2,true)}function aL(aS,aT,v,s,p){if(z&&!s){ah(v)}L=P.formatResult(T.temp);if(!p){T.values=T.temp.slice(0);T.val=L}if(aS){S("onValueFill",[L,aT]);if(aR){at.val(L);if(aT){ae=true;at.change()}}}}function al(p){t.remove();if(i&&!p){setTimeout(function(){k=true;i.focus()},200)}z=false}function aC(s,v){var p;aB.on(s,function(aS){clearTimeout(p);p=setTimeout(function(){if((aq&&v)||!v){T.position(!v)}},200)})}T.position=function(ba){var bc=ap.width(),aU=aB[0].innerHeight||aB.innerHeight();if(!(q===bc&&r===aU&&ba)&&!ar&&(S("onPosition",[t,bc,aU])!==false)&&w){var aX,a3,aZ,aY,a6,a1,a0,a4,s,a5,p,a7,v,bb=0,aT=0,a8=aB.scrollLeft(),a2=aB.scrollTop(),aS=f(".dwwr",t),a9=f(".dw",t),aW={},aV=P.anchor===undefined?at:P.anchor;if(/modal|bubble/.test(P.display)){aS.width("");f(".dwc",t).each(function(){aX=f(this).outerWidth(true);bb+=aX;aT=(aX>aT)?aX:aT});aX=bb>bc?aT:bb;aS.width(aX).css("white-space",bb>bc?"":"nowrap")}an=a9.outerWidth();ax=a9.outerHeight(true);aq=ax<=aU&&an<=bc;T.scrollLock=aq;if(P.display=="modal"){a3=Math.max(0,(bc-an)/2);aZ=a2+(aU-ax)/2}else{if(P.display=="bubble"){v=true;s=f(".dw-arrw-i",t);a1=aV.offset();a0=Math.abs(f(P.context).offset().top-a1.top);a4=Math.abs(f(P.context).offset().left-a1.left);aY=aV.outerWidth();a6=aV.outerHeight();a3=n(a4-(a9.outerWidth(true)-aY)/2-a8,3,bc-an-3);aZ=a0-ax;if((aZ<a2)||(a0>a2+aU)){a9.removeClass("dw-bubble-top").addClass("dw-bubble-bottom");aZ=a0+a6}else{a9.removeClass("dw-bubble-bottom").addClass("dw-bubble-top")}a5=s.outerWidth();p=n(a4+aY/2-(a3+(an-a5)/2)-a8,0,a5);f(".dw-arr",t).css({left:p})}else{if(P.display=="top"){aZ=a2}else{if(P.display=="bottom"){aZ=a2+aU-ax}}}}aW.top=aZ<0?0:aZ;aW.left=a3;a9.css(aW);ap.height(0);a7=Math.max(aZ+ax,P.context=="body"?f(document).height():H.scrollHeight);ap.css({height:a7,left:a8});if(v&&((aZ+ax>a2+aU)||(a0>a2+aU))){ar=true;setTimeout(function(){ar=false},300);aB.scrollTop(Math.min(aZ+ax-aU,a7-aU))}}q=bc;r=aU};T.enable=function(){P.disabled=false;if(aR){at.prop("disabled",false)}};T.disable=function(){P.disabled=true;if(aR){at.prop("disabled",true)}};T.setValue=function(s,aS,v,p,aT){T.temp=f.isArray(s)?s.slice(0):P.parseValue.call(Y,s+"",T);aL(aS,aT===undefined?aS:aT,v,false,p)};T.getValue=function(){return T.values};T.getValues=function(){var p=[],s;for(s in T._selectedValues){p.push(T._selectedValues[s])}return p};T.changeWheel=function(p,aT,v){if(t){var s=0,aS=p.length;f.each(P.wheels,function(aV,aU){f.each(aU,function(aX,aW){if(f.inArray(s,p)>-1){G[s]=aW;f(".dw-ul",t).eq(s).html(J(s));aS--;if(!aS){T.position();ah(aT,undefined,v);return false}}s++});if(!aS){return false}})}};T.isVisible=function(){return z};T.tap=function(aT,aS,v){var s,p;if(P.tap){aT.on("touchstart.dw",function(aU){if(v){aU.preventDefault()}s=getCoord(aU,"X");p=getCoord(aU,"Y")}).on("touchend.dw",function(aU){if(Math.abs(getCoord(aU,"X")-s)<20&&Math.abs(getCoord(aU,"Y")-p)<20){aU.preventDefault();setTimeout(function(){aS.call(this,aU)},isOldAndroid?400:10)}o()})}aT.on("click.dw",function(aU){if(!l){aS.call(this,aU)}aU.preventDefault()})};T.show=function(s){var aS,v,p=0,aT="";if(P.disabled||z){return}if(Z!==false){if(P.display=="top"){Z="slidedown"}if(P.display=="bottom"){Z="slideup"}}af();S("onBeforeShow",[]);if(w&&Z&&!s){aT="dw-"+Z+" dw-in"}v="<div"+(w?' tabindex="0"':"")+' role="dialog" class="dw-w '+P.theme+" dw-"+P.display+(F?" dw-liq":"")+(aM>1?" dw-ml":"")+(az?"":" dw-nobtn")+'"><div class="dw-persp">'+(w?'<div class="dwo"></div>':"")+'<div class="dw dwbg '+aT+'">'+(P.display==="bubble"?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(P.headerText?"":" dw-hidden")+'"></div><div class="dwcc">';f.each(P.wheels,function(aV,aU){v+='<div class="dwc'+(P.mode!="scroller"?" dwpm":" dwsc")+(P.showLabel?"":" dwhl")+'"><div class="dwwc"'+(P.maxWidth?"":' style="max-width:600px;"')+">"+(b?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>');f.each(aU,function(aX,aW){G[p]=aW;aS=aW.label!==undefined?aW.label:aX;v+="<"+(b?"div":"td")+' class="dwfl" style="'+(P.fixedWidth?("width:"+(P.fixedWidth[p]||P.fixedWidth)+"px;"):(P.minWidth?("min-width:"+(P.minWidth[p]||P.minWidth)+"px;"):"min-width:"+P.width+"px;")+(P.maxWidth?("max-width:"+(P.maxWidth[p]||P.maxWidth)+"px;"):""))+'"><div class="dwwl dwwl'+p+'">'+(P.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+aE+"px;line-height:"+aE+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+aE+"px;line-height:"+aE+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+aS+'</div><div tabindex="0" aria-live="off" aria-label="'+aS+'" role="listbox" class="dwww"><div class="dww" style="height:'+(P.rows*aE)+'px;"><div class="dw-ul">';v+=J(p)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+(P.selectedLineHeight?' style="height:'+aE+"px;margin-top:-"+(aE/2+(P.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(b?"</div>":"</td>");p++});v+=(b?"":"</tr></table>")+"</div></div>"});v+="</div>";if(w&&az){v+='<div class="dwbc">';f.each(aN,function(aV,aU){aU=(typeof aU==="string")?T.buttons[aU]:aU;v+="<span"+(P.btnWidth?' style="width:'+(100/aN.length)+'%"':"")+' class="dwbw '+aU.css+'"><a href="#" class="dwb dwb'+aV+' dwb-e" role="button">'+aU.text+"</a></span>"});v+="</div>"}v+="</div></div></div></div>";t=f(v);ap=f(".dw-persp",t);ay=f(".dwo",t);z=true;ah();S("onMarkupReady",[t]);if(w){d.activeInstance=T;t.appendTo(P.context);if(j&&Z&&!s){t.addClass("dw-trans").on(animEnd,function(){t.removeClass("dw-trans").find(".dw").removeClass(aT)})}}else{if(at.is("div")){at.html(t)}else{t.insertAfter(at)}}S("onMarkupInserted",[t]);if(w){f(window).on("keydown.dw",function(aU){if(aU.keyCode==13){T.select()}else{if(aU.keyCode==27){T.cancel()}}});if(P.scrollLock){t.on("touchmove",function(aU){if(aq){aU.preventDefault()}})}if(isOldAndroid){f("input,select,button",H).each(function(){if(!this.disabled){f(this).addClass("dwtd").prop("disabled",true)}})}aC("scroll.dw",true)}T.position();aC("orientationchange.dw resize.dw",false);t.on("DOMMouseScroll mousewheel",".dwwl",aH).on("keydown",".dwwl",E).on("keyup",".dwwl",ak).on("selectstart mousedown",prevdef).on("click",".dwb-e",prevdef).on("keydown",".dwb-e",function(aU){if(aU.keyCode==32){aU.preventDefault();aU.stopPropagation();f(this).click()}});setTimeout(function(){f.each(aN,function(aV,aU){T.tap(f(".dwb"+aV,t),function(aW){aU=(typeof aU==="string")?T.buttons[aU]:aU;aU.handler.call(this,aW,T)},true)});if(P.closeOnOverlay){T.tap(ay,function(){T.cancel()})}t.focus().on("touchstart mousedown",".dwwl",ai).on("touchmove",".dwwl",V).on("touchend",".dwwl",Q).on("touchstart mousedown",".dwb-e",au).on("touchend",".dwb-e",aQ)},300);S("onShow",[t,L])};T.hide=function(p,s,v){if(!z||(!v&&S("onClose",[L,s])===false)){return false}if(isOldAndroid){f(".dwtd",H).each(function(){f(this).prop("disabled",false).removeClass("dwtd")})}if(t){if(j&&w&&Z&&!p&&!t.hasClass("dw-trans")){t.addClass("dw-trans").find(".dw").addClass("dw-"+Z+" dw-out").on(animEnd,function(){al(p)})}else{al(p)}aB.off(".dw")}delete d.activeInstance;ad={}};T.select=function(){if(T.hide(false,"set")!==false){aL(true,true,0,true);S("onSelect",[T.val])}};T.attachShow=function(s,p){am.push(s);if(P.display!=="inline"){s.on((P.showOnFocus?"focus.dw":"")+(P.showOnTap?" click.dw":""),function(v){v.preventDefault();if((v.type!=="focus"||(v.type==="focus"&&!k))&&!l){if(p){p()}i=s;T.show()}setTimeout(function(){k=false},300)})}};T.cancel=function(){if(T.hide(false,"cancel")!==false){S("onCancel",[T.val])}};T.init=function(p){X=d.themes[p.theme||P.theme];O=d.i18n[p.lang||P.lang]||d.i18n.en;extend(aG,p);S("onThemeLoad",[O,aG]);extend(P,O,X,userdef,aG);P.buttons=P.buttons||["set","cancel"];P.headerText=P.headerText===undefined?(P.display!=="inline"?"{value}":false):P.headerText;T.settings=P;at.off(".dw");var s=d.presets[P.preset];if(s){K=s.call(Y,T);extend(P,K,aG)}U=Math.floor(P.rows/2);aE=P.height;Z=isOldAndroid?false:P.animate;aM=P.multiline;F=(P.layout||(/top|bottom/.test(P.display)&&P.wheels.length==1?"liquid":""))==="liquid";w=P.display!=="inline";aN=P.buttons;aB=f(P.context=="body"?window:P.context);H=f(P.context)[0];if(!P.setText){aN.splice(f.inArray("set",aN),1)}if(!P.cancelText){aN.splice(f.inArray("cancel",aN),1)}if(P.button3){aN.splice(f.inArray("set",aN)+1,0,{text:P.button3Text,handler:P.button3})}T.context=aB;T.live=!w||(f.inArray("set",aN)==-1);T.buttons.set={text:P.setText,css:"dwb-s",handler:T.select};T.buttons.cancel={text:(T.live)?P.closeText:P.cancelText,css:"dwb-c",handler:T.cancel};T.buttons.clear={text:P.clearText,css:"dwb-cl",handler:function(){T.trigger("onClear",[t]);at.val("");if(!T.live){T.hide(false,"clear")}}};az=aN.length>0;if(z){T.hide(true,false,true)}if(w){af();if(aR){if(aK===undefined){aK=Y.readOnly}Y.readOnly=true}T.attachShow(at)}else{T.show()}if(aR){at.on("change.dw",function(){if(!ae){T.setValue(at.val(),false,0.2)}ae=false})}};T.option=function(p,s){var v={};if(typeof p==="object"){v=p}else{v[p]=s}T.init(v)};T.destroy=function(){T.hide(true,false,true);f.each(am,function(s,p){p.off(".dw")});f(window).off(".dwa");if(aR){Y.readOnly=aK}delete a[Y.id];S("onDestroy",[])};T.getInst=function(){return T};T.getValidCell=ag;T.trigger=S;a[Y.id]=T;T.values=null;T.val=null;T.temp=null;T.buttons={};T._selectedValues={};T.init(aG)};function o(){l=true;setTimeout(function(){l=false},300)}function n(r,q,p){return Math.max(q,Math.min(r,p))}function m(p){var q={values:[],keys:[]};f.each(p,function(s,r){q.keys.push(s);q.values.push(r)});return q}var i,e,l,k,d=f.mobiscroll,a=d.instances,g=d.util,h=g.prefix,c=g.jsPrefix,j=g.has3d,b=g.hasFlex;getCoord=g.getCoord,testTouch=g.testTouch,empty=function(){},prevdef=function(p){p.preventDefault()},extend=f.extend,animEnd="webkitAnimationEnd animationend",userdef=d.userdef,isOldAndroid=/android [1-3]/i.test(navigator.userAgent),defaults=extend(d.defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,disabled:false,readonly:false,closeOnOverlay:true,showOnFocus:true,showOnTap:true,showLabel:true,wheels:[],theme:"",display:"modal",mode:"scroller",preset:"",lang:"en-US",context:"body",scrollLock:true,tap:true,btnWidth:true,speedUnit:0.0012,timeUnit:0.1,formatResult:function(p){return p.join(" ")},parseValue:function(t,s){var u=t.split(" "),p=[],q=0,r;f.each(s.settings.wheels,function(w,v){f.each(v,function(y,x){x=x.values?x:m(x);r=x.keys||x.values;if(f.inArray(u[q],r)!==-1){p.push(u[q])}else{p.push(r[0])}q++})});return p}});d.i18n.en=d.i18n["en-US"]={setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear"};f(window).on("focus",function(){if(i){k=true}});f(document).on("mouseover mouseup mousedown click",function(p){if(l){p.stopPropagation();p.preventDefault();return false}})})(jQuery);
(function(a){a.mobiscroll.themes.ios7={dateOrder:"MMdyy",rows:5,height:34,minWidth:55,headerText:false,showLabel:false,btnWidth:false,selectedLineHeight:true,selectedLineBorder:1,useShortLabels:true}})(jQuery);