var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,v,q){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){v=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}v=String(g.masks[v]||v||g.masks["default"]);if(v.slice(0,4)=="UTC:"){v=v.slice(4);q=true}var t=q?"getUTC":"get",l=i[t+"Date"](),e=i[t+"Day"](),j=i[t+"Month"](),p=i[t+"FullYear"](),r=i[t+"Hours"](),k=i[t+"Minutes"](),u=i[t+"Seconds"](),n=i[t+"Milliseconds"](),f=q?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(p).slice(2),yyyy:p,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:k,MM:c(k),s:u,ss:c(u),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:r<12?"a":"p",tt:r<12?"am":"pm",T:r<12?"A":"P",TT:r<12?"AM":"PM",Z:q?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return v.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
(function(b){b.widget("mobile.jqmMobiscroll",b.mobile.widget,{options:{theme:"jqm",preset:"date",animate:"pop"},_create:function(){var c=this.element,a=b.extend(this.options,c.jqmData("options"));c.mobiscroll(a)}});b(document).bind("pagebeforecreate",function(a){b('input[type="date"]:jqmData(role="mobiscroll")',a.target).prop("type","text")});b(document).bind("pagecreate create",function(a){b(document).trigger("mobiscrollbeforecreate");b(':jqmData(role="mobiscroll")',a.target).each(function(){"undefined"===typeof b(this).data("mobiscroll")&&b(this).jqmMobiscroll()})})})(jQuery);(function(ar){function am(aD,aC){function ay(f){return ar.isArray(aB.readonly)?(f=ar(".dwwl",aw).index(f),aB.readonly[f]):aB.readonly}function ax(i){var f='<div class="dw-bf">',k=1,j;for(j in aE[i]){0==k%20&&(f+='</div><div class="dw-bf">'),f+='<div class="dw-li dw-v" data-val="'+j+'" style="height:'+z+"px;line-height:"+z+'px;"><div class="dw-i">'+aE[i][j]+"</div></div>",k++}return f+"</div>"}function az(f){aq=ar(".dw-li",f).index(ar(".dw-v",f).eq(0));aj=ar(".dw-li",f).index(ar(".dw-v",f).eq(-1));P=ar(".dw-ul",aw).index(f);ao=z;Z=aA}function av(i){var f=aB.headerText;return f?"function"===typeof f?f.call(v,i):f.replace(/\{value\}/i,i):""}function au(){aA.temp=d&&null!==aA.val&&aA.val!=E.val()||null===aA.values?aB.parseValue(E.val()||"",aA):aA.values.slice(0);aA.setValue(!0)}function I(f,i,k,r,j){!1!==A("validate",[aw,i,f])&&(ar(".dw-ul",aw).each(function(aJ){var t=ar(this),aI=ar('.dw-li[data-val="'+aA.temp[aJ]+'"]',t),aK=ar(".dw-li",t),aG=aK.index(aI),aF=aK.length,u=aJ==i||void 0===i;if(!aI.hasClass("dw-v")){for(var aM=aI,aH=0,aL=0;0<=aG-aH&&!aM.hasClass("dw-v");){aH++,aM=aK.eq(aG-aH)}for(;aG+aL<aF&&!aI.hasClass("dw-v");){aL++,aI=aK.eq(aG+aL)}(aL<aH&&aL&&2!==r||!aH||0>aG-aH||1==r)&&aI.hasClass("dw-v")?aG+=aL:(aI=aM,aG-=aH)}if(!aI.hasClass("dw-sel")||u){aA.temp[aJ]=aI.attr("data-val"),ar(".dw-sel",t).removeClass("dw-sel"),aI.addClass("dw-sel"),aA.scroll(t,aJ,aG,u?f:0.1,u?j:void 0)}}),aA.change(k))}function c(aN){if(!("inline"==aB.display||s===ar(window).width()&&N===ar(window).height()&&aN)){var aK,aL,aJ,r,aI,aH,aF,aM,u,aP=0,aO=0,aN=ar(window).scrollTop();r=ar(".dwwr",aw);var t=ar(".dw",aw),aG={};aI=void 0===aB.anchor?E:aB.anchor;s=ar(window).width();N=ar(window).height();y=(y=window.innerHeight)||N;/modal|bubble/.test(aB.display)&&(ar(".dwc",aw).each(function(){aK=ar(this).outerWidth(!0);aP+=aK;aO=aK>aO?aK:aO}),aK=aP>s?aO:aP,r.width(aK));m=t.outerWidth();w=t.outerHeight(!0);"modal"==aB.display?(aL=(s-m)/2,aJ=aN+(y-w)/2):"bubble"==aB.display?(u=!0,aM=ar(".dw-arrw-i",aw),aL=aI.offset(),aH=aL.top,aF=aL.left,r=aI.outerWidth(),aI=aI.outerHeight(),aL=aF-(t.outerWidth(!0)-r)/2,aL=aL>s-m?s-(m+20):aL,aL=0<=aL?aL:20,aJ=aH-w,aJ<aN||aH>aN+y?(t.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),aJ=aH+aI):t.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),aM=aM.outerWidth(),r=aF+r/2-(aL+(m-aM)/2),ar(".dw-arr",aw).css({left:r>aM?aM:r})):(aG.width="100%","top"==aB.display?aJ=aN:"bottom"==aB.display&&(aJ=aN+y-w));aG.top=0>aJ?0:aJ;aG.left=aL;t.css(aG);ar(".dw-persp",aw).height(0).height(aJ+w>ar(document).height()?aJ+w:ar(document).height());u&&(aJ+w>aN+y||aH>aN+y)&&ar(window).scrollTop(aJ+w-y)}}function at(f){if("touchstart"===f.type){o=!0,setTimeout(function(){o=!1},500)}else{if(o){return o=!1}}return !0}function A(f,i){var j;i.push(aA);ar.each([F.defaults,a,aC],function(k,r){r[f]&&(j=r[f].apply(v,i))});return j}function Q(f){var i=+f.data("pos")+1;ai(f,i>aj?aq:i,1,!0)}function p(f){var i=+f.data("pos")-1;ai(f,i<aq?aj:i,2,!0)}var H,z,C,aw,s,y,N,m,w,q,l,aA=this,G=ar.mobiscroll,v=aD,E=ar(v),F,Y,aB=O({},T),a={},aE=[],e={},L={},d=E.is("input"),n=!1;aA.enable=function(){aB.disabled=!1;d&&E.prop("disabled",!1)};aA.disable=function(){aB.disabled=!0;d&&E.prop("disabled",!0)};aA.scroll=function(i,j,aF,aG,u){function k(){clearInterval(e[j]);delete e[j];i.data("pos",aF).closest(".dwwl").removeClass("dwa")}var t=(H-aF)*z,r;t==L[j]&&e[j]||(aG&&t!=L[j]&&A("onAnimStart",[aw,j,aG]),L[j]=t,i.attr("style",g+"-transition:all "+(aG?aG.toFixed(3):0)+"s ease-out;"+(U?g+"-transform:translate3d(0,"+t+"px,0);":"top:"+t+"px;")),e[j]&&k(),aG&&void 0!==u?(r=0,i.closest(".dwwl").addClass("dwa"),e[j]=setInterval(function(){r+=0.1;i.data("pos",Math.round((aF-u)*Math.sin(r/aG*(Math.PI/2))+u));r>=aG&&k()},100)):i.data("pos",aF))};aA.setValue=function(f,k,j,i){ar.isArray(aA.temp)||(aA.temp=aB.parseValue(aA.temp+"",aA));n&&f&&I(j);C=aB.formatResult(aA.temp);i||(aA.values=aA.temp.slice(0),aA.val=C);k&&d&&E.val(C).trigger("change")};aA.getValues=function(){var f=[],i;for(i in aA._selectedValues){f.push(aA._selectedValues[i])}return f};aA.validate=function(f,i,k,j){I(k,f,!0,i,j)};aA.change=function(f){C=aB.formatResult(aA.temp);"inline"==aB.display?aA.setValue(!1,f):ar(".dwv",aw).html(av(C));f&&A("onChange",[C])};aA.changeWheel=function(i,u){if(aw){var t=0,r,k,j=i.length;for(r in aB.wheels){for(k in aB.wheels[r]){if(-1<ar.inArray(t,i)&&(aE[t]=aB.wheels[r][k],ar(".dw-ul",aw).eq(t).html(ax(t)),j--,!j)){c();I(u,void 0,!0);return}t++}}}};aA.isVisible=function(){return n};aA.tap=function(f,i){var j,k;aB.tap&&f.bind("touchstart",function(r){r.preventDefault();j=M(r,"X");k=M(r,"Y")}).bind("touchend",function(r){20>Math.abs(M(r,"X")-j)&&20>Math.abs(M(r,"Y")-k)&&i.call(this,r);x=!0;setTimeout(function(){x=!1},300)});f.bind("click",function(r){x||i.call(this,r)})};aA.show=function(j){if(aB.disabled||n){return !1}"top"==aB.display&&(q="slidedown");"bottom"==aB.display&&(q="slideup");au();A("onBeforeShow",[aw]);var t=0,r,k="";q&&!j&&(k="dw-"+q+" dw-in");for(var i='<div class="dw-trans '+aB.theme+" dw-"+aB.display+'">'+("inline"==aB.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+k+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">'+(aB.headerText?'<div class="dwv"></div>':"")),j=0;j<aB.wheels.length;j++){i+='<div class="dwc'+("scroller"!=aB.mode?" dwpm":" dwsc")+(aB.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(r in aB.wheels[j]){aE[t]=aB.wheels[j][r],i+='<td><div class="dwwl dwrc dwwl'+t+'">'+("scroller"!=aB.mode?'<div class="dwwb dwwbp" style="height:'+z+"px;line-height:"+z+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+z+"px;line-height:"+z+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+r+'</div><div class="dww" style="height:'+aB.rows*z+"px;min-width:"+aB.width+'px;"><div class="dw-ul">',i+=ax(t),i+='</div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',t++}i+="</tr></table></div></div>"}i+=("inline"!=aB.display?'<div class="dwbc'+(aB.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb">'+aB.setText+"</span></span>"+(aB.button3?'<span class="dwbw dwb-n"><span class="dwb">'+aB.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb">'+aB.cancelText+"</span></span></div></div>":'<div class="dwcc"></div>')+"</div></div></div>";aw=ar(i);I();A("onMarkupReady",[aw]);"inline"!=aB.display?(aw.appendTo("body"),setTimeout(function(){aw.removeClass("dw-trans").find(".dw").removeClass(k)},350)):E.is("div")?E.html(aw):aw.insertAfter(E);A("onMarkupInserted",[aw]);n=!0;F.init(aw,aA);"inline"!=aB.display&&(aA.tap(ar(".dwb-s span",aw),function(){if(aA.hide(false,"set")!==false){aA.setValue(false,true);A("onSelect",[aA.val])}}),aA.tap(ar(".dwb-c span",aw),function(){aA.cancel()}),aB.button3&&aA.tap(ar(".dwb-n span",aw),aB.button3),aB.scrollLock&&aw.bind("touchmove",function(f){w<=y&&m<=s&&f.preventDefault()}),ar("input,select,button").each(function(){ar(this).prop("disabled")||ar(this).addClass("dwtd").prop("disabled",true)}),c(),ar(window).bind("resize.dw",function(){clearTimeout(l);l=setTimeout(function(){c(true)},100)}));aw.delegate(".dwwl","DOMMouseScroll mousewheel",function(f){if(!ay(this)){f.preventDefault();var f=f.originalEvent,f=f.wheelDelta?f.wheelDelta/120:f.detail?-f.detail/3:0,aF=ar(".dw-ul",this),u=+aF.data("pos"),u=Math.round(u-f);az(aF);ai(aF,u,f<0?1:2)}}).delegate(".dwb, .dwwb",R,function(){ar(this).addClass("dwb-a")}).delegate(".dwwb",R,function(f){f.stopPropagation();f.preventDefault();var aG=ar(this).closest(".dwwl");if(at(f)&&!ay(aG)&&!aG.hasClass("dwa")){aa=true;var aF=aG.find(".dw-ul"),u=ar(this).hasClass("dwwbp")?Q:p;az(aF);clearInterval(K);K=setInterval(function(){u(aF)},aB.delay);u(aF)}}).delegate(".dwwl",R,function(f){f.preventDefault();if(at(f)&&!ap&&!ay(this)&&!aa){ap=true;ar(document).bind(ag,W);af=ar(".dw-ul",this);h=aB.mode!="clickpick";B=+af.data("pos");az(af);b=e[P]!==void 0;ad=M(f,"Y");D=new Date;V=ad;aA.scroll(af,P,B,0.001);h&&af.closest(".dwwl").addClass("dwa")}});A("onShow",[aw,C])};aA.hide=function(f,i){if(!n||!1===A("onClose",[C,i])){return !1}ar(".dwtd").prop("disabled",!1).removeClass("dwtd");E.blur();aw&&("inline"!=aB.display&&q&&!f?(aw.addClass("dw-trans").find(".dw").addClass("dw-"+q+" dw-out"),setTimeout(function(){aw.remove();aw=null},350)):(aw.remove(),aw=null),n=!1,L={},ar(window).unbind(".dw"))};aA.cancel=function(){!1!==aA.hide(!1,"cancel")&&A("onCancel",[aA.val])};aA.init=function(f){F=O({defaults:{},init:ah},G.themes[f.theme||aB.theme]);Y=G.i18n[f.lang||aB.lang];O(aC,f);O(aB,F.defaults,Y,aC);aA.settings=aB;E.unbind(".dw");if(f=G.presets[aB.preset]){a=f.call(v,aA),O(aB,a,aC),O(S,a.methods)}H=Math.floor(aB.rows/2);z=aB.height;q=aB.animate;void 0!==E.data("dwro")&&(v.readOnly=J(E.data("dwro")));n&&aA.hide();"inline"==aB.display?aA.show():(au(),d&&aB.showOnFocus&&(E.data("dwro",v.readOnly),v.readOnly=!0,E.bind("focus.dw",function(){aA.show()})))};aA.trigger=function(f,i){return A(f,i)};aA.values=null;aA.val=null;aA.temp=null;aA._selectedValues={};aA.init(aC)}function ab(c){for(var d in c){if(void 0!==X[c[d]]){return !0}}return !1}function ae(a){return an[a.id]}function M(e,f){var j=e.originalEvent,i=e.changedTouches;return i||j&&j.changedTouches?j?j.changedTouches[0]["page"+f]:i[0]["page"+f]:e["page"+f]}function J(a){return !0===a||"true"==a}function al(d,e,f){d=d>f?f:d;return d<e?e:d}function ai(t,r,q,m,a){var r=al(r,aq,aj),s=ar(".dw-li",t).eq(r),j=void 0===a?r:a,l=P,c=m?r==j?0.1:Math.abs(0.1*(r-j)):0;Z.temp[l]=s.attr("data-val");Z.scroll(t,l,r,c,a);setTimeout(function(){Z.validate(l,q,c,a)},10)}function ac(d,e,f){return S[e]?S[e].apply(d,Array.prototype.slice.call(f,1)):"object"===typeof e?S.init.call(d,e):d}var an={},K,ah=function(){},ao,aq,aj,Z,ak=(new Date).getTime(),ap,aa,af,P,ad,V,D,B,b,h,X=document.createElement("modernizr").style,U=ab(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),g=function(){var c=["Webkit","Moz","O","ms"],d;for(d in c){if(ab([c[d]+"Transform"])){return"-"+c[d].toLowerCase()}}return""}(),O=ar.extend,x,o,R="touchstart mousedown",ag="touchmove mousemove",W=function(a){h&&(a.preventDefault(),V=M(a,"Y"),Z.scroll(af,P,al(B+(ad-V)/ao,aq-1,aj+1)));b=!0},T={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",scrollLock:!0,tap:!0,formatResult:function(a){return a.join(" ")},parseValue:function(s,t){var q=t.settings.wheels,n=s.split(" "),m=[],i=0,l,r,k;for(l=0;l<q.length;l++){for(r in q[l]){if(void 0!==q[l][r][n[i]]){m.push(n[i])}else{for(k in q[l][r]){m.push(k);break}}i++}}return m}},S={init:function(a){void 0===a&&(a={});return this.each(function(){this.id||(ak+=1,this.id="scoller"+ak);an[this.id]=new am(this,a)})},enable:function(){return this.each(function(){var a=ae(this);a&&a.enable()})},disable:function(){return this.each(function(){var a=ae(this);a&&a.disable()})},isDisabled:function(){var a=ae(this[0]);if(a){return a.settings.disabled}},isVisible:function(){var a=ae(this[0]);if(a){return a.isVisible()}},option:function(c,d){return this.each(function(){var e=ae(this);if(e){var a={};"object"===typeof c?a=c:a[c]=d;e.init(a)}})},setValue:function(e,f,j,i){return this.each(function(){var a=ae(this);a&&(a.temp=e,a.setValue(!0,f,j,i))})},getInst:function(){return ae(this[0])},getValue:function(){var a=ae(this[0]);if(a){return a.values}},getValues:function(){var a=ae(this[0]);if(a){return a.getValues()}},show:function(){var a=ae(this[0]);if(a){return a.show()}},hide:function(){return this.each(function(){var a=ae(this);a&&a.hide()})},destroy:function(){return this.each(function(){var a=ae(this);a&&(a.hide(),ar(this).unbind(".dw"),delete an[this.id],ar(this).is("input")&&(this.readOnly=J(ar(this).data("dwro"))))})}};ar(document).bind("touchend mouseup",function(){if(ap){var a=new Date-D,e=al(B+(ad-V)/ao,aq-1,aj+1),c,d=af.offset().top;300>a?(a=(V-ad)/a,c=a*a/0.0012,0>V-ad&&(c=-c)):c=V-ad;a=Math.round(B-c/ao);if(!c&&!b){var d=Math.floor((V-d)/ao),j=ar(".dw-li",af).eq(d);c=h;!1!==Z.trigger("onValueTap",[j])?a=d:c=!0;c&&(j.addClass("dw-hl"),setTimeout(function(){j.removeClass("dw-hl")},200))}h&&ai(af,a,0,!0,Math.round(e));ap=!1;af=null;ar(document).unbind(ag,W)}aa&&(clearInterval(K),aa=!1);ar(".dwb-a").removeClass("dwb-a")}).bind("mouseover mouseup mousedown click",function(a){if(x){return a.stopPropagation(),a.preventDefault(),!1}});ar.fn.mobiscroll=function(a){O(this,ar.mobiscroll.shorts);return ac(this,a,arguments)};ar.mobiscroll=ar.mobiscroll||{setDefaults:function(a){O(T,a)},presetShort:function(a){this.shorts[a]=function(c){return ac(this,O(c,{preset:a}),arguments)}},shorts:{},presets:{},themes:{},i18n:{}};ar.scroller=ar.scroller||ar.mobiscroll;ar.fn.scroller=ar.fn.scroller||ar.fn.mobiscroll})(jQuery);(function(b){var d=b.mobiscroll,c=new Date,e={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:c.getFullYear()-100,endYear:c.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},f=function(B){function Z(j,l,k){return void 0!==X[l]?+j[X[l]]:void 0!==k?k:h[D[l]]?h[D[l]]():D[l](h)}function V(j,k){return Math.floor(j/k)*k}function O(j){var k=Z(j,"h",0);return new Date(Z(j,"y"),Z(j,"m"),Z(j,"d",1),Z(j,"a")?k+12:k,Z(j,"i",0),Z(j,"s",0))}var ab=b(this),K={},U;if(ab.is("input")){switch(ab.attr("type")){case"date":U="yy-mm-dd";break;case"datetime":U="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":U="yy-mm-ddTHH:ii:ss";break;case"month":U="yy-mm";K.dateOrder="mmyy";break;case"time":U="HH:ii:ss"}var ac=ab.attr("min"),ab=ab.attr("max");ac&&(K.minDate=d.parseDate(U,ac));ab&&(K.maxDate=d.parseDate(U,ab))}var ae=b.extend({},e,K,B.settings),W=0,K=[],y=[],X={},ad,D={y:"getFullYear",m:"getMonth",d:"getDate",h:function(j){j=j.getHours();j=r&&12<=j?j-12:j;return V(j,M)},i:function(j){return V(j.getMinutes(),g)},s:function(j){return V(j.getSeconds(),a)},a:function(j){return x&&11<j.getHours()?1:0}},S=ae.preset,T=ae.dateOrder,P=ae.timeWheels,p=T.match(/D/),x=P.match(/a/i),r=P.match(/h/),J="datetime"==S?ae.dateFormat+ae.separator+ae.timeFormat:"time"==S?ae.timeFormat:ae.dateFormat,h=new Date,M=ae.stepHour,g=ae.stepMinute,a=ae.stepSecond,R=ae.minDate||new Date(ae.startYear,0,1),o=ae.maxDate||new Date(ae.endYear,11,31,23,59,59);B.settings=ae;U=U||J;if(S.match(/date/i)){b.each(["y","m","d"],function(j,k){ad=T.search(RegExp(k,"i"));-1<ad&&y.push({o:ad,v:k})});y.sort(function(j,k){return j.o>k.o?1:-1});b.each(y,function(j,k){X[k.v]=j});ab={};for(ac=0;3>ac;ac++){if(ac==X.y){W++;ab[ae.yearText]={};var i=R.getFullYear(),af=o.getFullYear();for(ad=i;ad<=af;ad++){ab[ae.yearText][ad]=T.match(/yy/i)?ad:(ad+"").substr(2,2)}}else{if(ac==X.m){W++;ab[ae.monthText]={};for(ad=0;12>ad;ad++){i=T.replace(/[dy]/gi,"").replace(/mm/,9>ad?"0"+(ad+1):ad+1).replace(/m/,ad+1),ab[ae.monthText][ad]=i.match(/MM/)?i.replace(/MM/,'<span class="dw-mon">'+ae.monthNames[ad]+"</span>"):i.replace(/M/,'<span class="dw-mon">'+ae.monthNamesShort[ad]+"</span>")}}else{if(ac==X.d){W++;ab[ae.dayText]={};for(ad=1;32>ad;ad++){ab[ae.dayText][ad]=T.match(/dd/i)&&10>ad?"0"+ad:ad}}}}}K.push(ab)}if(S.match(/time/i)){y=[];b.each(["h","i","s","a"],function(j,k){j=P.search(RegExp(k,"i"));-1<j&&y.push({o:j,v:k})});y.sort(function(j,k){return j.o>k.o?1:-1});b.each(y,function(j,k){X[k.v]=W+j});ab={};for(ac=W;ac<W+4;ac++){if(ac==X.h){W++;ab[ae.hourText]={};for(ad=0;ad<(r?12:24);ad+=M){ab[ae.hourText][ad]=r&&0==ad?12:P.match(/hh/i)&&10>ad?"0"+ad:ad}}else{if(ac==X.i){W++;ab[ae.minuteText]={};for(ad=0;60>ad;ad+=g){ab[ae.minuteText][ad]=P.match(/ii/)&&10>ad?"0"+ad:ad}}else{if(ac==X.s){W++;ab[ae.secText]={};for(ad=0;60>ad;ad+=a){ab[ae.secText][ad]=P.match(/ss/)&&10>ad?"0"+ad:ad}}else{ac==X.a&&(W++,S=P.match(/A/),ab[ae.ampmText]={"0":S?"AM":"am",1:S?"PM":"pm"})}}}}K.push(ab)}B.setDate=function(k,n,m,l){for(var j in X){this.temp[X[j]]=k[D[j]]?k[D[j]]():D[j](k)}this.setValue(!0,n,m,l)};B.getDate=function(j){return O(j)};return{button3Text:ae.showNow?ae.nowText:void 0,button3:ae.showNow?function(){B.setDate(new Date,!1,0.3,!0)}:void 0,wheels:K,headerText:function(){return d.formatDate(J,O(B.temp),ae)},formatResult:function(j){return d.formatDate(U,O(j),ae)},parseValue:function(k){var n=new Date,m,l=[];try{n=d.parseDate(U,k,ae)}catch(j){}for(m in X){l[X[m]]=n[D[m]]?n[D[m]]():D[m](n)}return l},validate:function(s){var q=B.temp,n={y:R.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},m={y:o.getFullYear(),m:11,d:31,h:V(r?11:23,M),i:V(59,g),s:V(59,a),a:1},j=!0,k=!0;b.each("y,m,d,a,h,i,s".split(","),function(A,C){if(X[C]!==void 0){var v=n[C],z=m[C],aa=31,aj=Z(q,C),Q=b(".dw-ul",s).eq(X[C]),ah,N;if(C=="d"){ah=Z(q,"y");N=Z(q,"m");z=aa=32-(new Date(ah,N,32)).getDate();p&&b(".dw-li",Q).each(function(){var t=b(this),w=t.data("val"),u=(new Date(ah,N,w)).getDay(),w=T.replace(/[my]/gi,"").replace(/dd/,w<10?"0"+w:w).replace(/d/,w);b(".dw-i",t).html(w.match(/DD/)?w.replace(/DD/,'<span class="dw-day">'+ae.dayNames[u]+"</span>"):w.replace(/D/,'<span class="dw-day">'+ae.dayNamesShort[u]+"</span>"))})}j&&R&&(v=R[D[C]]?R[D[C]]():D[C](R));k&&o&&(z=o[D[C]]?o[D[C]]():D[C](o));if(C!="y"){var ag=b(".dw-li",Q).index(b('.dw-li[data-val="'+v+'"]',Q)),L=b(".dw-li",Q).index(b('.dw-li[data-val="'+z+'"]',Q));b(".dw-li",Q).removeClass("dw-v").slice(ag,L+1).addClass("dw-v");C=="d"&&b(".dw-li",Q).removeClass("dw-h").slice(aa).addClass("dw-h")}aj<v&&(aj=v);aj>z&&(aj=z);j&&(j=aj==v);k&&(k=aj==z);if(ae.invalid&&C=="d"){var Y=[];ae.invalid.dates&&b.each(ae.invalid.dates,function(u,t){t.getFullYear()==ah&&t.getMonth()==N&&Y.push(t.getDate()-1)});if(ae.invalid.daysOfWeek){var ai=(new Date(ah,N,1)).getDay(),l;b.each(ae.invalid.daysOfWeek,function(u,t){for(l=t-ai;l<aa;l=l+7){l>=0&&Y.push(l)}})}ae.invalid.daysOfMonth&&b.each(ae.invalid.daysOfMonth,function(u,t){t=(t+"").split("/");t[1]?t[0]-1==N&&Y.push(t[1]-1):Y.push(t[0]-1)});b.each(Y,function(t,u){b(".dw-li",Q).eq(u).removeClass("dw-v")})}q[X[C]]=aj}})},methods:{getDate:function(k){var j=b(this).mobiscroll("getInst");if(j){return j.getDate(k?j.temp:j.values)}},setDate:function(m,l,k,j){void 0==l&&(l=!1);return this.each(function(){var n=b(this).mobiscroll("getInst");n&&n.setDate(m,l,k,j)})}}}};b.each(["date","time","datetime"],function(g,h){d.presets[h]=f;d.presetShort(h)});d.formatDate=function(o,k,g){if(!k){return null}var g=b.extend({},e,g),v=function(i){for(var j=0;a+1<o.length&&o.charAt(a+1)==i;){j++,a++}return j},p=function(i,l,j){l=""+l;if(v(i)){for(;l.length<j;){l="0"+l}}return l},s=function(i,m,l,j){return v(i)?j[m]:l[m]},a,q="",r=!1;for(a=0;a<o.length;a++){if(r){"'"==o.charAt(a)&&!v("'")?r=!1:q+=o.charAt(a)}else{switch(o.charAt(a)){case"d":q+=p("d",k.getDate(),2);break;case"D":q+=s("D",k.getDay(),g.dayNamesShort,g.dayNames);break;case"o":q+=p("o",(k.getTime()-(new Date(k.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":q+=p("m",k.getMonth()+1,2);break;case"M":q+=s("M",k.getMonth(),g.monthNamesShort,g.monthNames);break;case"y":q+=v("y")?k.getFullYear():(10>k.getYear()%100?"0":"")+k.getYear()%100;break;case"h":var h=k.getHours(),q=q+p("h",12<h?h-12:0==h?12:h,2);break;case"H":q+=p("H",k.getHours(),2);break;case"i":q+=p("i",k.getMinutes(),2);break;case"s":q+=p("s",k.getSeconds(),2);break;case"a":q+=11<k.getHours()?"pm":"am";break;case"A":q+=11<k.getHours()?"PM":"AM";break;case"'":v("'")?q+="'":r=!0;break;default:q+=o.charAt(a)}}}return q};d.parseDate=function(G,F,C){var p=new Date;if(!G||!F){return p}var F="object"==typeof F?F.toString():F+"",H=b.extend({},e,C),o=H.shortYearCutoff,C=p.getFullYear(),B=p.getMonth()+1,I=p.getDate(),K=-1,D=p.getHours(),p=p.getMinutes(),g=0,E=-1,J=!1,h=function(i){(i=a+1<G.length&&G.charAt(a+1)==i)&&a++;return i},x=function(i){h(i);i=F.substr(r).match(RegExp("^\\d{1,"+("@"==i?14:"!"==i?20:"y"==i?4:"o"==i?3:2)+"}"));if(!i){return 0}r+=i[0].length;return parseInt(i[0],10)},y=function(i,k,j){i=h(i)?j:k;for(k=0;k<i.length;k++){if(F.substr(r,i[k].length).toLowerCase()==i[k].toLowerCase()){return r+=i[k].length,k+1}}return 0},r=0,a;for(a=0;a<G.length;a++){if(J){"'"==G.charAt(a)&&!h("'")?J=!1:r++}else{switch(G.charAt(a)){case"d":I=x("d");break;case"D":y("D",H.dayNamesShort,H.dayNames);break;case"o":K=x("o");break;case"m":B=x("m");break;case"M":B=y("M",H.monthNamesShort,H.monthNames);break;case"y":C=x("y");break;case"H":D=x("H");break;case"h":D=x("h");break;case"i":p=x("i");break;case"s":g=x("s");break;case"a":E=y("a",["am","pm"],["am","pm"])-1;break;case"A":E=y("A",["am","pm"],["am","pm"])-1;break;case"'":h("'")?r++:J=!0;break;default:r++}}}100>C&&(C+=(new Date).getFullYear()-(new Date).getFullYear()%100+(C<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100));if(-1<K){B=1;I=K;do{H=32-(new Date(C,B-1,32)).getDate();if(I<=H){break}B++;I-=H}while(1)}D=new Date(C,B-1,I,-1==E?D:E&&12>D?D+12:!E&&12==D?0:D,p,g);if(D.getFullYear()!=C||D.getMonth()+1!=B||D.getDate()!=I){throw"Invalid date"}return D}})(jQuery);(function(b){b.mobiscroll.themes.ios={defaults:{dateOrder:"MMdyy",rows:5,height:30,width:55,headerText:!1,showLabel:!1,useShortLabels:!0}}})(jQuery);(function(b){b.mobiscroll.themes.jqm={defaults:{jqmBorder:"a",jqmBody:"c",jqmHeader:"b",jqmWheel:"d",jqmClickPick:"c",jqmSet:"b",jqmCancel:"c"},init:function(c,a){var d=a.settings;b(".dw",c).removeClass("dwbg").addClass("ui-overlay-shadow ui-corner-all ui-body-"+d.jqmBorder);b(".dwb-s span",c).attr("data-role","button").attr("data-theme",d.jqmSet);b(".dwb-n span",c).attr("data-role","button").attr("data-theme",d.jqmCancel);b(".dwb-c span",c).attr("data-role","button").attr("data-theme",d.jqmCancel);b(".dwwb",c).attr("data-role","button").attr("data-theme",d.jqmClickPick);b(".dwv",c).addClass("ui-header ui-bar-"+d.jqmHeader);b(".dwwr",c).addClass("ui-body-"+d.jqmBody);b(".dwpm .dwwl",c).addClass("ui-body-"+d.jqmWheel);b(".dwpm .dwl",c).addClass("ui-body-"+d.jqmBody);c.trigger("create");b(".dwo",c).click(function(){a.cancel()})}}})(jQuery);
(function(aK){function aQ(a,b){return function(c){return aJ(a.call(this,c),b)}}function a0(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function aL(){}function aM(a){aW(this,a)}function a5(o){var f=this._data={},h=o.years||o.year||o.y||0,p=o.months||o.month||o.M||0,b=o.weeks||o.week||o.w||0,l=o.days||o.day||o.d||0,g=o.hours||o.hour||o.h||0,m=o.minutes||o.minute||o.m||0,j=o.seconds||o.second||o.s||0,k=o.milliseconds||o.millisecond||o.ms||0;this._milliseconds=k+1000*j+60000*m+3600000*g,this._days=l+7*b,this._months=p+12*h,f.milliseconds=k%1000,j+=aP(k/1000),f.seconds=j%60,m+=aP(j/60),f.minutes=m%60,g+=aP(m/60),f.hours=g%24,l+=aP(g/24),l+=7*b,f.days=l%30,p+=aP(l/30),f.months=p%12,h+=aP(p/12),f.years=h}function aW(a,c){for(var b in c){c.hasOwnProperty(b)&&(a[b]=c[b])}return a}function aP(a){return 0>a?Math.ceil(a):Math.floor(a)}function aJ(a,c){for(var b=a+"";c>b.length;){b="0"+b}return b}function a2(d,j,h){var f,g=j._milliseconds,b=j._days,c=j._months;g&&d._d.setTime(+d+g*h),b&&d.date(d.date()+b*h),c&&(f=d.date(),d.date(1).month(d.month()+c*h).date(Math.min(f,d.daysInMonth())))}function a3(a){return"[object Array]"===Object.prototype.toString.call(a)}function aX(c,h){var g,d=Math.min(c.length,h.length),f=Math.abs(c.length-h.length),b=0;for(g=0;d>g;g++){~~c[g]!==~~h[g]&&b++}return b+f}function aZ(a,b){return b.abbr=a,aG[a]||(aG[a]=new aL),aG[a].set(b),aG[a]}function aS(a){return a?(!aG[a]&&ad&&require("./lang/"+a),aG[a]):al.fn._lang}function a7(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function aR(a){var d,c,b=a.match(aB);for(d=0,c=b.length;c>d;d++){b[d]=aD[b[d]]?aD[b[d]]:a7(b[d])}return function(f){var e="";for(d=0;c>d;d++){e+="function"==typeof b[d].call?b[d].call(f,a):b[d]}return e}}function aF(a,d){function c(e){return a.lang().longDateFormat(e)||e}for(var b=5;b--&&ak.test(d);){d=d.replace(ak,c)}return a1[d]||(a1[d]=aR(d)),a1[d](a)}function an(a){switch(a){case"DDDD":return aw;case"YYYY":return am;case"YYYYY":return aC;case"S":case"SS":case"SSS":case"DDD":return ae;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return ar;case"X":return ai;case"Z":case"ZZ":return ac;case"T":return aV;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return aq;default:return RegExp(a.replace("\\",""))}}function ax(a,f,d){var b,c=d._a;switch(a){case"M":case"MM":c[1]=null==f?0:~~f-1;break;case"MMM":case"MMMM":b=aS(d._l).monthsParse(f),null!=b?c[1]=b:d._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=f&&(c[2]=~~f);break;case"YY":c[0]=~~f+(~~f>68?1900:2000);break;case"YYYY":case"YYYYY":c[0]=~~f;break;case"a":case"A":d._isPm="pm"===(f+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":c[3]=~~f;break;case"m":case"mm":c[4]=~~f;break;case"s":case"ss":c[5]=~~f;break;case"S":case"SS":case"SSS":c[6]=~~(1000*("0."+f));break;case"X":d._d=new Date(1000*parseFloat(f));break;case"Z":case"ZZ":d._useUTC=!0,b=(f+"").match(ap),b&&b[1]&&(d._tzh=~~b[1]),b&&b[2]&&(d._tzm=~~b[2]),b&&"+"===b[0]&&(d._tzh=-d._tzh,d._tzm=-d._tzm)}null==f&&(d._isValid=!1)}function ab(a){var d,c,b=[];if(!a._d){for(d=0;7>d;d++){a._a[d]=b[d]=null==a._a[d]?2===d?1:0:a._a[d]}b[3]+=a._tzh||0,b[4]+=a._tzm||0,c=new Date(0),a._useUTC?(c.setUTCFullYear(b[0],b[1],b[2]),c.setUTCHours(b[3],b[4],b[5],b[6])):(c.setFullYear(b[0],b[1],b[2]),c.setHours(b[3],b[4],b[5],b[6])),a._d=c}}function aO(a){var f,d,b=a._f.match(aB),c=a._i;for(a._a=[],f=0;b.length>f;f++){d=(an(b[f]).exec(c)||[])[0],d&&(c=c.slice(c.indexOf(d)+d.length)),aD[b[f]]&&ax(b[f],d,a)}a._isPm&&12>a._a[3]&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),ab(a)}function aY(d){var i,g,f,b,h,c=99;for(b=d._f.length;b>0;b--){if(i=aW({},d),i._f=d._f[b-1],aO(i),g=new aM(i),g.isValid()){f=g;break}h=aX(i._a,g.toArray()),c>h&&(c=h,f=g)}aW(d,f)}function aH(a){var c,b=a._i;if(aN.exec(b)){for(a._f="YYYY-MM-DDT",c=0;4>c;c++){if(au[c][1].exec(b)){a._f+=au[c][0];break}}ac.exec(b)&&(a._f+=" Z"),aO(a)}else{a._d=new Date(b)}}function ag(c){var b=c._i,a=aa.exec(b);b===aK?c._d=new Date:a?c._d=new Date(+a[1]):"string"==typeof b?aH(c):a3(b)?(c._a=b.slice(0),ab(c)):c._d=b instanceof Date?new Date(+b):new Date(b)}function aI(a,f,d,b,c){return c.relativeTime(f||1,!!d,a,b)}function aT(k,d,g){var l=af(Math.abs(k)/1000),b=af(l/60),h=af(b/60),f=af(h/24),c=af(f/365),j=45>l&&["s",l]||1===b&&["m"]||45>b&&["mm",b]||1===h&&["h"]||22>h&&["hh",h]||1===f&&["d"]||25>=f&&["dd",f]||45>=f&&["M"]||345>f&&["MM",af(f/30)]||1===c&&["y"]||["yy",c];return j[2]=d,j[3]=k>0,j[4]=g,aI.apply({},j)}function ah(a,f,d){var b=d-f,c=d-a.day();return c>b&&(c-=7),b-7>c&&(c+=7),Math.ceil(al(a).add("d",c).dayOfYear()/7)}function a4(a){var c=a._i,b=a._f;return null===c||""===c?null:("string"==typeof c&&(a._i=c=aS().preparse(c)),al.isMoment(c)?(a=aW({},c),a._d=new Date(+c._d)):b?a3(b)?aY(a):aO(a):ag(a),new aM(a))}function av(a,b){al.fn[a]=al.fn[a+"s"]=function(c){var d=this._isUTC?"UTC":"";return null!=c?(this._d["set"+d+b](c),this):this._d["get"+d+b]()}}function ao(a){al.duration.fn[a]=function(){return this._data[a]}}function at(a,b){al.duration.fn["as"+a]=function(){return +this/b}}for(var al,aE,ay="2.0.0",af=Math.round,aG={},ad="undefined"!=typeof module&&module.exports,aa=/^\/?Date\((\-?\d+)/i,aB=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,ak=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aq=/\d\d?/,ae=/\d{1,3}/,aw=/\d{3}/,am=/\d{1,4}/,aC=/[+\-]?\d{1,6}/,ar=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,ac=/Z|[\+\-]\d\d:?\d\d/i,aV=/T/i,ai=/[\+\-]?\d+(\.\d{1,3})?/,aN=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,az="YYYY-MM-DDTHH:mm:ssZ",au=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ap=/([\+\-]|\d\d)/gi,aj="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),a6={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},a1={},aU="DDD w W M D d".split(" "),aA="M D H h m s w W".split(" "),aD={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return aJ(this.year()%100,2)},YYYY:function(){return aJ(this.year(),4)},YYYYY:function(){return aJ(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ~~(this.milliseconds()/100)},SS:function(){return aJ(~~(this.milliseconds()/10),2)},SSS:function(){return aJ(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+aJ(~~(a/60),2)+":"+aJ(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+aJ(~~(10*a/6),4)},X:function(){return this.unix()}};aU.length;){aE=aU.pop(),aD[aE+"o"]=a0(aD[aE])}for(;aA.length;){aE=aA.pop(),aD[aE+aE]=aQ(aD[aE],2)}for(aD.DDDD=aQ(aD.DDD,3),aL.prototype={set:function(a){var c,b;for(b in a){c=a[b],"function"==typeof c?this[b]=c:this["_"+b]=c}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var d,c,b;for(this._monthsParse||(this._monthsParse=[]),d=0;12>d;d++){if(this._monthsParse[d]||(c=al([2000,d]),b="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[d]=RegExp(b.replace(".",""),"i")),this._monthsParse[d].test(a)){return d}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return !b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(c){return c.slice(1)}),this._longDateFormat[a]=b),b},meridiem:function(a,c,b){return a>11?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,c){var b=this._calendar[a];return"function"==typeof b?b.apply(c):b},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,f,d,b){var c=this._relativeTime[d];return"function"==typeof c?c(a,f,d,b):c.replace(/%d/i,a)},pastFuture:function(a,c){var b=this._relativeTime[a>0?"future":"past"];return"function"==typeof b?b(c):b.replace(/%s/i,c)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ah(a,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},al=function(a,c,b){return a4({_i:a,_f:c,_l:b,_isUTC:!1})},al.utc=function(a,c,b){return a4({_useUTC:!0,_isUTC:!0,_l:b,_i:a,_f:c})},al.unix=function(a){return al(1000*a)},al.duration=function(b,g){var f,c=al.isDuration(b),d="number"==typeof b,a=c?b._data:d?{}:b;return d&&(g?a[g]=b:a.milliseconds=b),f=new a5(a),c&&b.hasOwnProperty("_lang")&&(f._lang=b._lang),f},al.version=ay,al.defaultFormat=az,al.lang=function(b,a){return b?(a?aZ(b,a):aG[b]||aS(b),al.duration.fn._lang=al.fn._lang=aS(b),aK):al.fn._lang._abbr},al.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),aS(a)},al.isMoment=function(a){return a instanceof aM},al.isDuration=function(a){return a instanceof a5},al.fn=aM.prototype={clone:function(){return al(this)},valueOf:function(){return +this._d},unix:function(){return Math.floor(+this._d/1000)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return al(this).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!aX(this._a,(this._isUTC?al.utc(this._a):al(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){var b=aF(this,a||al.defaultFormat);return this.lang().postformat(b)},add:function(a,c){var b;return b="string"==typeof a?al.duration(+c,a):al.duration(a,c),a2(this,b,1),this},subtract:function(a,c){var b;return b="string"==typeof a?al.duration(+c,a):al.duration(a,c),a2(this,b,-1),this},diff:function(d,j,h){var f,g,b=this._isUTC?al(d).utc():al(d).local(),c=60000*(this.zone()-b.zone());return j&&(j=j.replace(/s$/,"")),"year"===j||"month"===j?(f=43200000*(this.daysInMonth()+b.daysInMonth()),g=12*(this.year()-b.year())+(this.month()-b.month()),g+=(this-al(this).startOf("month")-(b-al(b).startOf("month")))/f,"year"===j&&(g/=12)):(f=this-b-c,g="second"===j?f/1000:"minute"===j?f/60000:"hour"===j?f/3600000:"day"===j?f/86400000:"week"===j?f/604800000:f),h?g:aP(g)},from:function(a,b){return al.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(al(),a)},calendar:function(){var a=this.diff(al().startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<al([this.year()]).zone()||this.zone()<al([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a=a.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.day(0),this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)>+al(b).startOf(a)},isBefore:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)<+al(b).startOf(a)},isSame:function(b,a){return a=a!==aK?a:"millisecond",+this.clone().startOf(a)===+al(b).startOf(a)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return al.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=af((al(this).startOf("day")-al(this).startOf("year"))/86400000)+1;return null==a?b:this.add("d",a-b)},isoWeek:function(a){var b=ah(this,1,4);return null==a?b:this.add("d",7*(a-b))},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},lang:function(a){return a===aK?this._lang:(this._lang=aS(a),this)}},aE=0;aj.length>aE;aE++){av(aj[aE].toLowerCase().replace(/s$/,""),aj[aE])}av("year","FullYear"),al.fn.days=al.fn.day,al.fn.weeks=al.fn.week,al.fn.isoWeeks=al.fn.isoWeek,al.duration.fn=a5.prototype={weeks:function(){return aP(this.days()/7)},valueOf:function(){return this._milliseconds+86400000*this._days+2592000000*this._months},humanize:function(a){var c=+this,b=aT(c,!a,this.lang());return a&&(b=this.lang().pastFuture(c,b)),this.lang().postformat(b)},lang:al.fn.lang};for(aE in a6){a6.hasOwnProperty(aE)&&(at(aE,a6[aE]),ao(aE.toLowerCase()))}at("Weeks",604800000),al.lang("en",{ordinal:function(a){var c=a%10,b=1===~~(a%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th";return a+b}}),ad&&(module.exports=al),"undefined"==typeof ender&&(this.moment=al),"function"==typeof define&&define.amd&&define("moment",[],function(){return al})}).call(this);
(function(){function a(f){function b(k,h,l,i){var j="";switch(l){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":j=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":j=i?"tunnin":"tuntia";break;case"d":return i?"p\u00e4iv\u00e4n":"p\u00e4iv\u00e4";case"dd":j=i?"p\u00e4iv\u00e4n":"p\u00e4iv\u00e4\u00e4";break;case"M":return i?"kuukauden":"kuukausi";case"MM":j=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":j=i?"vuoden":"vuotta"}return j=d(k,i)+" "+j}function d(i,h){return 10>i?h?c[i]:g[i]:i}var g="nolla yksi kaksi kolme nelj\u00e4 viisi kuusi seitsem\u00e4n kahdeksan yhdeks\u00e4n".split(" "),c=["nolla","yhden","kahden","kolmen","nelj\u00e4n","viiden","kuuden",g[7],g[8],g[9]];f.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\u00e4kuu_hein\u00e4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\u00e4_hein\u00e4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[t\u00e4n\u00e4\u00e4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\u00e4\u00e4st\u00e4",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}"function"==typeof define&&define.amd&&define(["moment"],a),"undefined"!=typeof window&&window.moment&&a(window.moment)})();
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(x){x.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var E=document.createElement("div");var r={};function G(a){if(a in E.style){return a}var b=["Moz","Webkit","O","ms"];var e=a.charAt(0).toUpperCase()+a.substr(1);if(a in E.style){return a}for(var c=0;c<b.length;++c){var d=b[c]+e;if(d in E.style){return d}}}function D(){E.style[r.transform]="";E.style[r.transform]="rotateY(90deg)";return E.style[r.transform]!==""}var H=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;r.transition=G("transition");r.transitionDelay=G("transitionDelay");r.transform=G("transform");r.transformOrigin=G("transformOrigin");r.transform3d=D();var z={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var C=r.transitionEnd=z[r.transition]||null;for(var s in r){if(r.hasOwnProperty(s)&&typeof x.support[s]==="undefined"){x.support[s]=r[s]}}E=null;x.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};x.cssHooks["transit:transform"]={get:function(a){return x(a).data("transform")||new y()},set:function(b,c){var a=c;if(!(a instanceof y)){a=new y(a)}if(r.transform==="WebkitTransform"&&!H){b.style[r.transform]=a.toString(true)}else{b.style[r.transform]=a.toString()}x(b).data("transform",a)}};x.cssHooks.transform={set:x.cssHooks["transit:transform"].set};if(x.fn.jquery<"1.8"){x.cssHooks.transformOrigin={get:function(a){return a.style[r.transformOrigin]},set:function(b,a){b.style[r.transformOrigin]=a}};x.cssHooks.transition={get:function(a){return a.style[r.transition]},set:function(b,a){b.style[r.transition]=a}}}u("scale");u("translate");u("rotate");u("rotateX");u("rotateY");u("rotate3d");u("perspective");u("skewX");u("skewY");u("x",true);u("y",true);function y(a){if(typeof a==="string"){this.parse(a)}return this}y.prototype={setFromString:function(a,b){var c=(typeof b==="string")?b.split(","):(b.constructor===Array)?b:[b];c.unshift(a);y.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);if(this.setter[a]){this.setter[a].apply(this,b)}else{this[a]=b.join(",")}},get:function(a){if(this.getter[a]){return this.getter[a].apply(this)}else{return this[a]||0}},setter:{rotate:function(a){this.rotate=t(a,"deg")},rotateX:function(a){this.rotateX=t(a,"deg")},rotateY:function(a){this.rotateY=t(a,"deg")},scale:function(b,a){if(a===undefined){a=b}this.scale=b+","+a},skewX:function(a){this.skewX=t(a,"deg")},skewY:function(a){this.skewY=t(a,"deg")},perspective:function(a){this.perspective=t(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(b,a){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(b!==null&&b!==undefined){this._translateX=t(b,"px")}if(a!==null&&a!==undefined){this._translateY=t(a,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");if(a[0]){a[0]=parseFloat(a[0])}if(a[1]){a[1]=parseFloat(a[1])}return(a[0]===a[1])?a[0]:a},rotate3d:function(){var a=(this.rotate3d||"0,0,0,0deg").split(",");for(var b=0;b<=3;++b){if(a[b]){a[b]=parseFloat(a[b])}}if(a[3]){a[3]=t(a[3],"deg")}return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this){if(this.hasOwnProperty(c)){if((!r.transform3d)&&((c==="rotateX")||(c==="rotateY")||(c==="perspective")||(c==="transformOrigin"))){continue}if(c[0]!=="_"){if(a&&(c==="scale")){b.push(c+"3d("+this[c]+",1)")}else{if(a&&(c==="translate")){b.push(c+"3d("+this[c]+",0)")}else{b.push(c+"("+this[c]+")")}}}}}return b.join(" ")}};function v(b,c,a){if(c===true){b.queue(a)}else{if(c){b.queue(c,a)}else{a()}}}function A(a){var b=[];x.each(a,function(c){c=x.camelCase(c);c=x.transit.propertyMap[c]||x.cssProps[c]||c;c=F(c);if(x.inArray(c,b)===-1){b.push(c)}});return b}function B(f,c,a,g){var e=A(f);if(x.cssEase[a]){a=x.cssEase[a]}var b=""+w(c)+" "+a;if(parseInt(g,10)>0){b+=" "+w(g)}var d=[];x.each(e,function(h,i){d.push(i+" "+b)});return d.join(", ")}x.fn.transition=x.fn.transit=function(f,n,g,c){var b=this;var k=0;var i=true;if(typeof n==="function"){c=n;n=undefined}if(typeof g==="function"){c=g;g=undefined}if(typeof f.easing!=="undefined"){g=f.easing;delete f.easing}if(typeof f.duration!=="undefined"){n=f.duration;delete f.duration}if(typeof f.complete!=="undefined"){c=f.complete;delete f.complete}if(typeof f.queue!=="undefined"){i=f.queue;delete f.queue}if(typeof f.delay!=="undefined"){k=f.delay;delete f.delay}if(typeof n==="undefined"){n=x.fx.speeds._default}if(typeof g==="undefined"){g=x.cssEase._default}n=w(n);var m=B(f,n,g,k);var d=x.transit.enabled&&r.transition;var l=d?(parseInt(n,10)+parseInt(k,10)):0;if(l===0){var e=function(o){b.css(f);if(c){c.apply(b)}if(o){o()}};v(b,i,e);return b}var h={};var a=function(o){var p=false;var q=function(){if(p){b.unbind(C,q)}if(l>0){b.each(function(){this.style[r.transition]=(h[this]||null)})}if(typeof c==="function"){c.apply(b)}if(typeof o==="function"){o()}};if((l>0)&&(C)&&(x.transit.useTransitionEnd)){p=true;b.bind(C,q)}else{window.setTimeout(q,l)}b.each(function(){if(l>0){this.style[r.transition]=m}x(this).css(f)})};var j=function(o){this.offsetWidth;a(o)};v(b,i,j);return this};function u(a,b){if(!b){x.cssNumber[a]=true}x.transit.propertyMap[a]=r.transform;x.cssHooks[a]={get:function(c){var d=x(c).css("transit:transform");return d.get(a)},set:function(d,c){var e=x(d).css("transit:transform");e.setFromString(a,c);x(d).css({"transit:transform":e})}}}function F(a){return a.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function t(a,b){if((typeof a==="string")&&(!a.match(/^[\-0-9\.]+$/))){return a}else{return""+a+b}}function w(a){var b=a;if(x.fx.speeds[b]){b=x.fx.speeds[b]}return t(b,"ms")}x.transit.getTransitionValue=B})(jQuery);
Number.prototype.mod=function(a){return((this%a)+a)%a};function viewModel(){var a=this;a.currentHole=ko.observable(1);a.currentHolePar=ko.observable(0);a.currentHoleScore=ko.observable(0);a.currentHoleHcp=ko.observable(0);a.currentHoleLength=ko.observable(0);a.courseName=ko.observable("");a.playerGender=ko.observable("");a.playerGenders=ko.observableArray(["Male","Female"]);a.playerName=ko.observable("");a.playerExactHcp=ko.observable();a.courseSl=ko.observable(0);a.courseCr=ko.observable(0);a.playerDefaultTee=ko.observable();a.courseAlias=ko.observable();a.round_id=ko.observable();a.course_id=ko.observable();a.round_hcp=ko.observable();a.round_tee=ko.observable();a.roundStartTime=ko.observable();a.roundEndTime=ko.observable("");a.noScoreEntered=ko.observable(true);a.showPoints=ko.observable(false);a.sliderVal=ko.observable(0);a.hasSlid=ko.observable(false);a.loadedRoundStartTime=ko.observable("");a.holes=ko.observableArray([]);a.courseData=ko.observableArray([]);a.roundScores=ko.observableArray([]);a.roundList=ko.observableArray([]);a.recentlyPlayedCourses=ko.observableArray([]);a.courseList=ko.observableArray([]);a.scoreCard=ko.observableArray();a.scrollPos=ko.observable();a.roundDuration=ko.observable();a.firstRun=ko.observable("working");a.clickedRound=ko.observable();a.clickedRoundStartTime=ko.observable("");a.hcpPreview=ko.observable("");a.bogikorttiVersion=ko.observable("Bogikortti v0.2 - 'Ykkstiille asti meni hyvin'");a.prePopulateScores=function(){for(var b=0;b<18;b++){var c={};c.hole=ko.observable(b+1);c.score=ko.observable(0);c.points=ko.observable(0);c.scoreToPar=ko.observable(0);a.roundScores.push(c)}};moment().lang("fi");a.prePopulateScores();a.locale_tee=ko.computed(function(){if(a.round_tee()==="yellow"){return"keltainen"}else{if(a.round_tee()==="blue"){return"sininen"}else{if(a.round_tee()==="red"){return"punainen"}else{if(a.round_tee()==="white"){return"valkoinen"}}}}});a.loadRecentCourses=function(){a.recentlyPlayedCourses.removeAll();var b;apexEventProxy.getRecentCourses({data:b},function(e){if(e.message==="fail"){return}else{for(var d=0;d<e.courses.length;d++){var c={};c.id=e.courses[d].id;c.name=e.courses[d].name;c.alias=e.courses[d].alias;a.recentlyPlayedCourses.push(c)}}})};a.loadRecentCourses();a.calcRoundDuration=function(){var f;if(a.roundEndTime()!==""){f=moment(a.roundEndTime()).diff(a.roundStartTime(),"seconds")}else{var d=new Date();var c=d.getFullYear()+"/"+parseInt(d.getMonth()+1,10)+"/"+d.getDate()+" "+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds();var g=moment(c).format("YYYY-MM-DD HH:mm:ss");f=moment(g).diff(a.roundStartTime(),"seconds")}var b=f/3600;var h=f.mod(3600);var e=h/60;h=h.mod(60);if(b<1){b=""}else{b=(Math.floor(b)+" h")}e=(Math.floor(e)+" min");a.roundDuration(b+" "+e)};a.coursePar=ko.computed(function(){var c=0;for(var b=0;b<a.holes().length;b++){c=c+parseInt(a.holes()[b].hole_par(),10)}return c});a.courseLength=ko.computed(function(){var c=0;for(var b=0;b<a.holes().length;b++){c=c+parseInt(a.holes()[b].hole_length(),10)}return c});a.holeScoreName=ko.computed(function(){if(a.noScoreEntered()){return""}else{if(a.currentHoleScore()===0){return""}else{var b=a.currentHoleScore()-a.currentHolePar();switch(b){case 0:return"Par";case -1:return"Birdie";case -2:return"Eagle";case -3:return"Albatross";case 1:return"Bogey";case 2:return"Double"}if(b>2){return b+" yli"}else{if(b<-3){return Math.abs(b)+" alle"}}}}});a.totalScore=ko.computed(function(){var c=0;for(var d=0,b=a.roundScores().length;d<b;d++){c=c+parseInt(a.roundScores()[d].score(),10)}return c});a.totalPoints=ko.computed(function(){var c=0;for(var d=0,b=a.roundScores().length;d<b;d++){c=c+parseInt(a.roundScores()[d].points(),10)}return c});a.playerPlayingHcp=ko.computed(function(){var e=parseFloat(a.round_hcp());var d=parseFloat(a.courseSl())/113;var f;if(a.holes().length===9){f=a.coursePar()*2}else{f=a.coursePar()}var h=parseFloat(a.courseCr())-parseFloat(f);var g=e*d+h;return Math.round(g)});a.currentHoleHcpPar=ko.computed(function(){var b=a.currentHolePar();var e=parseInt(a.playerPlayingHcp(),10);var d,c;d=Math.floor(e/18);c=(e.mod(18));if(c>=parseInt(a.currentHoleHcp(),10)){return parseInt(a.currentHolePar(),10)+d+1}else{return parseInt(b,10)+parseInt(d,10)}});a.setHoleData=function(){var b=parseInt(a.currentHole(),10)-1;var e=parseInt(a.holes()[b].hole_par(),10);a.currentHolePar(e);a.currentHoleHcp(parseInt(a.holes()[b].hole_hcp(),10));a.currentHoleLength(a.holes()[b].hole_length());var f=parseInt(a.currentHole(),10);var g=parseInt(a.currentHoleScore(),10);var d=parseInt(a.currentHolePoints(),10);for(var c=0;c<a.roundScores().length;c++){if(a.roundScores()[c].hole()===f){a.currentHoleScore(parseInt(a.roundScores()[c].score(),10));a.noScoreEntered(false)}}if(a.currentHoleScore()===0){a.noScoreEntered(true)}};a.nextHole=function(){var c=parseInt(a.currentHole(),10);a.saveHoleScore(a.round_id(),a.round_hcp(),c,a.currentHoleScore(),a.round_tee());a.showPoints(false);a.noScoreEntered(true);var b=a.holes().length;if(c===b){a.currentHole(1);a.setHoleData()}else{a.currentHole(c+1);a.setHoleData()}$.mobile.changePage("#s_page",{transition:"slidefade",allowSamePageTransition:true})};a.previousHole=function(){var c=parseInt(a.currentHole(),10);a.saveHoleScore(a.round_id(),a.round_hcp(),c,a.currentHoleScore(),a.round_tee());a.noScoreEntered(false);var b=a.holes().length;if(c===1){a.currentHole(b);a.setHoleData()}else{a.currentHole(c-1);a.setHoleData()}$.mobile.changePage("#s_page",{transition:"slidefade",reverse:true,allowSamePageTransition:true})};a.currentHolePoints=ko.computed(function(){var b=parseInt(a.currentHoleHcpPar(),10);var d=parseInt(a.currentHoleScore(),10);if(a.noScoreEntered()||d===0){a.showPoints(false);return 0}else{var c=b-d+2;a.showPoints(true);if(c>0){return(c+" pistett")}else{return(0+" pistett")}}});a.setScore=function(e,f,d,b){for(var c=0;c<a.roundScores().length;c++){if(a.roundScores()[c].hole()===e){a.roundScores()[c].score(f);a.roundScores()[c].points(d);a.roundScores()[c].scoreToPar(f-b)}}};a.upScore=function(){if(a.hasSlid()===false){var b=a.currentHoleScore();a.currentHoleScore(parseInt(b,10)+1);$("#score").animate({fontSize:"1.05em"},50,function(){$("#score").animate({fontSize:"1em"},300)})}a.hasSlid(true)};a.downScore=function(){if(a.hasSlid()===false){var b=parseInt(a.currentHoleScore(),10);if(b!==0){a.currentHoleScore(parseInt(b,10)-1);$("#score").animate({fontSize:"0.95em"},50,function(){$("#score").animate({fontSize:"1em"},300)})}}a.hasSlid(true)};a.resetSlider=function(){a.hasSlid(false);a.sliderVal(0)};a.sliderMove=function(){var b=parseInt(a.sliderVal(),10);var e=a.currentHolePar();if(b<25&&b>=0||b<=0&&b>-25){if(a.noScoreEntered()){a.currentHoleScore(e)}}if(b>=26){if(a.noScoreEntered()){a.currentHoleScore(e)}a.upScore()}if(b<-26){if(a.noScoreEntered()){a.currentHoleScore(e)}a.downScore()}a.noScoreEntered(false);var f=parseInt(a.currentHole(),10);var g=parseInt(a.currentHoleScore(),10);var d=parseInt(a.currentHolePoints(),10);var c=parseInt(a.currentHolePar(),10);a.setScore(f,g,d,c)};ko.bindingHandlers.slider={init:function(c,d){function b(f){var e=$("#"+c.id);e.val(f);e.slider("refresh");e.on("change",function(){d()(e.val())});e.on("slidestop",function(){d()(e.val())})}d().subscribe(b)}};ko.bindingHandlers.mobileList={update:function(b,c){setTimeout(function(){try{$(b).listview("refresh",true)}catch(d){}},0)}};ko.bindingHandlers.mobileradio={init:function(b,c){},update:function(b,c){var d=c();var e=ko.utils.unwrapObservable(d);if(e===$(b).val()){$(b).prop("checked","true").checkboxradio("refresh")}else{$(b).removeProp("checked").checkboxradio("refresh")}}};ko.bindingHandlers.jqmValue={init:function(c,d,e,b){if(typeof ko.bindingHandlers.value.init!=="undefined"){ko.bindingHandlers.value.init(c,d,e,b)}},update:function(d,e,f,c){if(typeof ko.bindingHandlers.value.update!=="undefined"){ko.bindingHandlers.value.update(d,e,f,c)}var b=$.data(d,"selectmenu");if(b){$(d).selectmenu("refresh",true)}}};a.loadPrefs=function(){if(a.loadedRoundStartTime()!==""){a.scrollPos(0);a.loadedRoundStartTime("")}$.mobile.changePage("#prefs",{transition:"slidefade",reverse:true})};a.showScoreCard=function(){$.mobile.changePage("#scoreCard",{transition:"fade"})};a.closeScoreCard=function(){$.mobile.changePage("#s_page",{transition:"fade",reverse:true})};a.getCourseGeneralData=function(b){var c={course_id:b};apexEventProxy.getCourseData({data:c},function(d){a.courseName(d.course.name);a.courseAlias(d.course.alias);if(a.playerDefaultTee()==="yellow"){if(a.playerGender()==="Male"){a.courseCr(d.course.crYellowMen);a.courseSl(d.course.slYellowMen)}else{a.courseCr(d.course.crYellowLadies);a.courseSl(d.course.slYellowLadies)}}else{if(a.playerDefaultTee()==="blue"){if(a.playerGender()==="Male"){a.courseCr(d.course.crBlueMen);a.courseSl(d.course.slBlueMen)}else{a.courseCr(d.course.crBlueLadies);a.courseSl(d.course.slBlueLadies)}}else{if(a.playerDefaultTee()==="red"){if(a.playerGender()==="Male"){a.courseCr(d.course.crRedMen);a.courseSl(d.course.slRedMen)}else{a.courseCr(d.course.crRedLadies);a.courseSl(d.course.slRedLadies)}}else{a.courseCr(d.course.crWhiteMen);a.courseSl(d.course.slWhiteMen)}}}})};a.getHoleData=function(b){var c={course_id:b};apexEventProxy.getHoleData({data:c},function(f){var e,d;if(a.playerDefaultTee()==="yellow"){for(e=0,d=f.holes.length;e<d;e++){a.holes.push({hole_number:ko.observable(f.holes[e].hole_number),hole_par:ko.observable(f.holes[e].par),hole_hcp:ko.observable(f.holes[e].hcp),hole_length:ko.observable(f.holes[e].length_yellow)})}}else{if(a.playerDefaultTee()==="blue"){for(e=0,d=f.holes.length;e<d;e++){a.holes.push({hole_number:ko.observable(f.holes[e].hole_number),hole_par:ko.observable(f.holes[e].par),hole_hcp:ko.observable(f.holes[e].hcp),hole_length:ko.observable(f.holes[e].length_blue)})}}else{if(a.playerDefaultTee()==="white"){for(e=0,d=f.holes.length;e<d;e++){a.holes.push({hole_number:ko.observable(f.holes[e].hole_number),hole_par:ko.observable(f.holes[e].par),hole_hcp:ko.observable(f.holes[e].hcp),hole_length:ko.observable(f.holes[e].length_white)})}}else{for(e=0,d=f.holes.length;e<d;e++){a.holes.push({hole_number:ko.observable(f.holes[e].hole_number),hole_par:ko.observable(f.holes[e].par),hole_hcp:ko.observable(f.holes[e].hcp),hole_length:ko.observable(f.holes[e].length_red)})}}}}a.setHoleData()})};a.leaveRound=function(){a.saveHoleScore(a.round_id(),a.round_hcp(),a.currentHole(),a.currentHoleScore(),a.round_tee());if(a.roundEndTime()===""){var e=new Date();e=e.format("yyyy-mm-dd HH:MM:ss");var c={round_id:a.round_id(),end_time:e};apexEventProxy.endRound({data:c},function(d){});if(a.firstRun()===true){a.firstRun(false)}}for(var b=0;b<a.roundList().length;b++){if(a.roundList()[b].id===a.round_id()){a.roundList()[b].score(a.totalScore());a.roundList()[b].par(a.coursePar())}}a.roundEndTime("");a.roundScores.removeAll();a.prePopulateScores();$.mobile.changePage("#f_page",{transition:"slidefade",reverse:true})};a.saveHoleScore=function(b,g,d,c,f){var e={round_id:b,round_hcp:g,hole_id:d,hole_score:c,round_tee:f};apexEventProxy.createNewRoundScore({data:e},function(h){})};a.startNewRound=function(b,c){a.holes.removeAll();var d={course_id:b};apexEventProxy.createNewRound({data:d},function(g){var e=g.round_id;var f=g.round_start_time;var g={round_id:e};apexEventProxy.createNewRoundGolfer({data:g},function(h){a.round_id(e);a.course_id(b);a.roundStartTime(f.date);a.round_hcp(a.playerExactHcp());a.round_tee(a.playerDefaultTee());a.saveHoleScore(e,a.playerExactHcp(),1,0,a.playerDefaultTee());a.roundList.unshift({id:e,course_name:c,start_time:f,score:ko.observable(0),par:ko.observable(0)});a.loadRecentCourses()})});a.getCourseGeneralData(b);a.getHoleData(b);a.currentHole(1);$.mobile.changePage("#s_page",{transition:"slidefade",allowSamePageTransition:true})};a.highlightLoaded=function(b){if(b==a.loadedRoundStartTime()){return true}else{return false}};a.highlightDeleted=function(b){if(b==a.clickedRoundStartTime()){if(a.highlightLoaded(b)===true){a.loadedRoundStartTime("")}return true}else{return false}};a.loadRound=function(b,c){var e=$(window).scrollTop();a.scrollPos(e);a.loadedRoundStartTime(c);a.holes.removeAll();var d={round_id:b};apexEventProxy.getRound({data:d},function(i){var g=i.round.course_id;var h=i.round.start_time;var f=i.round.end_time;a.getRoundScores(b);a.getCourseGeneralData(g);a.getHoleData(g);a.round_id(b);a.course_id(g);a.roundStartTime(h.date);if(f===null){a.roundEndTime("")}else{a.roundEndTime(f.date)}});$.mobile.changePage("#s_page",{transition:"slidefade",allowSamePageTransition:true})};a.el=ko.observable();a.deleteRoundDialog=function(b,d){a.clickedRound(b);if(d){var c=$("span:contains('"+d+"')");a.el(c);a.clickedRoundStartTime(d)}$("#delPopUp").popup("open",{transition:"pop",positionTo:"#f_header"})};a.deleteRound=function(){var e=a.el();var c=e.parent().parent().parent().parent();var b=a.clickedRound();var d=$(c).length;$(c).transition({x:"-500px",opacity:"0",duration:500,complete:function(){if(--d>0){return}f(b)}});function f(g){var j={round_id:g};apexEventProxy.deleteRound({data:j},function(i){});for(var h=0;h<a.roundList().length;h++){if(a.roundList()[h].id===a.clickedRound()){a.roundList.splice(h,1);if(a.roundList().length===0){a.firstRun(true)}}a.clickedRoundStartTime("")}}$("#delPopUp").popup("close",{transition:"fade"})};a.cancelRoundDelete=function(){if(a.clickedRoundStartTime()!==""){a.clickedRoundStartTime("")}$("#delPopUp").popup("close",{transition:"fade"})};a.getRoundScores=function(b){var c={round_id:b};apexEventProxy.getRoundScores({data:c},function(e){if(e.scores.length==0){a.round_hcp(a.playerExactHcp());a.round_tee(a.playerDefaultTee())}else{for(var d=0;d<e.scores.length;d++){for(var f=0;f<a.roundScores().length;f++){if(a.roundScores()[f].hole()===e.scores[d].hole_id){a.roundScores()[f].score(e.scores[d].score);a.round_hcp(e.scores[d].round_hcp);a.round_tee(e.scores[d].round_tee)}}}}a.currentHole(1);if(parseInt(a.roundScores()[0].score(),10)!==0){a.currentHoleScore(parseInt(a.roundScores()[0].score(),10));a.noScoreEntered(false)}else{a.noScoreEntered(true)}})};a.getRoundList=function(c){var b;apexEventProxy.getRoundList({a:b},function(f){if(f.message!=="fail"){for(var e=0,d=f.rounds.length;e<d;e++){a.roundList.push({id:f.rounds[e].id,course_name:f.courses[e].name,start_time:f.rounds[e].start_time,score:ko.observable(f.scores[e]),par:ko.observable(f.pars[e])});if(a.roundList().length>0){a.firstRun(false)}else{a.firstRun(true)}}}else{a.firstRun(true)}})};a.getRoundList();a.getCourseList=ko.computed(function(c){var b;apexEventProxy.getCourseList({a:b},function(f){for(var e=0,d=f.courses.length;e<d;e++){a.courseList.push(f.courses[e])}})});a.saveGolfer=function(c){var b={handicap:a.playerExactHcp(),tee:a.playerDefaultTee(),gender:a.playerGender()};apexEventProxy.saveGolferData({data:b},function(d){});$.mobile.changePage("#f_page",{transition:"slidefade"})};a.getGolferData=function(c){var b;apexEventProxy.getGolferData({a:b},function(d){a.playerName(d.golfer.name);a.playerExactHcp(d.golfer.handicap);a.playerDefaultTee(d.golfer.tee);a.playerGender(d.golfer.gender)})};a.totalToPar=ko.computed(function(){var b=0;var d;for(var c=0;c<a.roundScores().length;c++){d=parseInt(a.roundScores()[c].score(),10);if(d>0){b+=d-parseInt(a.holes()[c].hole_par(),10)}}return b}).extend({throttle:500});a.validateRound=ko.computed(function(){var c=a.holes().length;for(var b=0;b<c;b++){var d=parseInt(a.roundScores()[b].score(),10);if(d===0){return false}}return true}).extend({throttle:1000});a.calcHcpPreview=function(){var e=parseInt(a.totalPoints(),10);var f=parseFloat(a.round_hcp());var c=parseInt(a.holes().length,10);var b;if(c===9){b=18}else{b=36}var d;if(e>b){while(e>b){d=a.getHcpGroup(f);if(d=="9hole"){a.hcpPreview("Ei kytss 9 rein kierroksella");return}f=f-(1*d.factor);e--}a.hcpPreview(parseFloat(f).toFixed(1))}else{d=a.getHcpGroup(f);if(d=="9hole"){a.hcpPreview("Ei kytss 9 rein kierroksella");return}if(e>=b-d.buffer){a.hcpPreview(f)}else{a.hcpPreview(f+d.incr)}}};a.getHcpGroup=function(e){var b=e;var c=a.holes().length;var d={};if(b>=36.1){d.factor=1;d.buffer=0;d.incr=0}if(b>=26.5&&b<=36){d.factor=0.5;d.incr=0.2;if(c===9){d.buffer=3}else{d.buffer=5}}if(b>=18.5&&b<=26.4){d.factor=0.4;d.incr=0.1;if(c===9){d.buffer=2}else{d.buffer=4}}if(b>=11.5&&b<=18.4){if(c===9){return"9hole"}else{d.buffer=3}d.factor=0.3;d.incr=0.1}if(b>=4.5&&b<=11.4){if(c===9){return"9hole"}d.buffer=2;d.factor=0.2;d.incr=0.1}if(b<=4.4){if(c===9){return"9hole"}d.factor=0.1;d.incr=0.1;d.buffer=1}return d};a.fillScoreCard=ko.computed(function(){a.scoreCard.removeAll();for(var d=0;d<a.holes().length;d++){var c=a.getHolePoints(a.roundScores()[d].score(),a.holes()[d].hole_par(),a.holes()[d].hole_hcp());a.roundScores()[d].points(c);var e;if(a.roundScores()[d].score()>0){e=a.roundScores()[d].score()-a.holes()[d].hole_par()}else{e=0}var b={hole_number:a.holes()[d].hole_number,hole_par:a.holes()[d].hole_par,hole_hcp:a.holes()[d].hole_hcp,hole_length:a.holes()[d].hole_length,score:a.roundScores()[d].score,scoreToPar:e,points:c};a.scoreCard.push(b)}a.calcHcpPreview()}).extend({throttle:500});a.getHolePoints=function(h,d,b){h=parseInt(h,10);d=parseInt(d,10);b=parseInt(b,10);var g=parseInt(a.playerPlayingHcp(),10);var f,e,c;f=Math.floor(g/18);e=(g.mod(18));if(e>=b){c=d+f+1}else{c=d+parseInt(f,10)}if(h===0){return 0}else{var i=c-h+2;if(i>0){return i}else{return 0}}};a.getGolferData();a.getCourseList();a.hcpScroller=function(){var e={"-3":"-3","-2":"-2","-1":"-1","0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","10":"10","11":"11","12":"12","13":"13","14":"14","15":"15","16":"16","17":"17","18":"18","19":"19","20":"20","21":"21","22":"22","23":"23","24":"24","25":"25","26":"26","27":"27","28":"28","29":"29","30":"30","31":"31","32":"32","33":"33","34":"34","35":"35","36":"36","37":"37","38":"38","39":"39","40":"40","41":"41","42":"42","43":"43","44":"44","45":"45","46":"46","47":"47","48":"48","49":"49","50":"50","51":"51","52":"52","53":"53","54":"54"};var d={"0":".0","1":".1","2":".2","3":".3","4":".4","5":".5","6":".6","7":".7","8":".8","9":".9"};var b=[{},{}];b[0]["Wheel1"]=e;b[1]["Wheel2"]=d;$("#i").scroller({display:"inline",mode:"scroller",theme:"ios",wheels:b,width:50,height:30,showLabel:false,formatResult:function(g){var h=g[0]+"."+g[1];return h}});var f=parseFloat(a.playerExactHcp());f=f.toFixed(1);var c=[];c=f.split(".");$("#i").scroller("setValue",c,true,1)};a.loadCourseSelect=function(){if(a.loadedRoundStartTime()!==""){a.scrollPos(0)}a.loadedRoundStartTime("");$.mobile.changePage("#courseSelect",{transition:"slidefade"})}}$(document).on("pageinit",function(){window.vm=new viewModel();ko.virtualElements.allowedBindings.mobileList=true;ko.applyBindings(vm,document.getElementById("f_page"));$("body").on("touchmove",function(d){var c=".scrollOuter",a=$(d.target),b=a.parents(c);if(b.length||a.hasClass(c)){}else{d.preventDefault()}});$("#f_page").on("pageshow",function(){if(vm.loadedRoundStartTime()!==""){$.mobile.silentScroll(vm.scrollPos())}});$("#courseSelect").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("courseSelect"))});$("#scoreCard").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("scoreCard"))});$("#s_page").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("s_page"))});$("#courseSelect").on("pageshow",function(a){$("#courseList").listview("refresh")});$("#s_page").on("pageshow",function(b){vm.calcRoundDuration();var a=setInterval(function(){vm.calcRoundDuration()},20000)});$("#s_page").on("pagehide",function(){});$("#prefs").on("pageinit",function(){ko.applyBindings(vm,document.getElementById("prefs"));vm.hcpScroller()});$(document).off("pageinit")});
/*!
 * Add to Homescreen v2.0.7 ~ Copyright (c) 2013 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
var addToHome=(function(n){var i=n.navigator,j="platform" in i&&(/iphone|ipod|ipad/gi).test(i.platform),y,o,A,D,e,z=0,v=0,x=0,f,b,E,a,l,k,m,d={autostart:true,returningVisitor:false,animationIn:"drop",animationOut:"fade",startDelay:2000,lifespan:15000,bottomOffset:14,expire:0,message:"",touchIcon:false,arrow:true,hookOnLoad:true,closeButton:true,iterations:100},q={ar:'<span dir="rtl">     <span dir="ltr">%device:</span><span dir="ltr">%icon</span> <strong>    .</strong></span>',ca_es:"Per installar aquesta aplicaci al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",cs_cz:"Pro instalaci aplikace na V %device, stisknte %icon a v nabdce <strong>Pidat na plochu</strong>.",da_dk:"Tilfj denne side til din %device: tryk p %icon og derefter <strong>Fj til hjemmeskrm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"       %device: %icon   <strong>  </strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>Aadir a pantalla de inicio</strong>.",fi_fi:"Asenna tm web-sovellus laitteeseesi %device: paina %icon ja sen jlkeen valitse <strong>Lis Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter  l'cran d'accueil</strong>.",he_il:'<span dir="rtl">    -%device :  %icon  <strong>  </strong>.</span>',hr_hr:"Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u poetni zaslon</strong>.",hu_hu:"Teleptse ezt a web-alkalmazst az n %device-jra: nyomjon a %icon-ra majd a <strong>Fkpernyhz ads</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"%device%icon<strong></strong>",ko_kr:'%device   %icon   " " ',nb_no:"Installer denne appen p din %device: trykk p %icon og deretter <strong>Legg til p Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",pl_pl:"Aby zainstalowa t aplikacje na %device: nacinij %icon a nastpnie <strong>Dodaj jako ikon</strong>.",pt_br:"Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar  Tela Inicio</strong>.",pt_pt:"Para instalar esta aplicao no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr principal</strong>.",ru_ru:"  -   %device:  %icon,  <strong>  </strong>.",sv_se:"Lgg till denna webbapplikation p din %device: tryck p %icon och drefter <strong>Lgg till p hemskrmen</strong>.",th_th:"  %device :  %icon  <strong></strong>",tr_tr:"Bu uygulamay %device'a eklemek iin %icon simgesine sonrasnda <strong>Ana Ekrana Ekle</strong> dmesine basn.",uk_ua:"      %device:  %icon,   <strong>  </strong>.",zh_cn:" %device  %icon <strong></strong>",zh_tw:" %device  %icon <strong></strong>"};function u(){if(!j){return}var w=Date.now(),F;if(n.addToHomeConfig){for(F in n.addToHomeConfig){d[F]=n.addToHomeConfig[F]}}if(!d.autostart){d.hookOnLoad=false}y=(/ipad/gi).test(i.platform);o=n.devicePixelRatio&&n.devicePixelRatio>1;A=(/Safari/i).test(i.appVersion)&&!(/CriOS/i).test(i.appVersion);D=i.standalone;e=i.appVersion.match(/OS (\d+_\d+)/i);e=e&&e[1]?+e[1].replace("_","."):0;x=+n.localStorage.getItem("addToHome");b=n.sessionStorage.getItem("addToHomeSession");E=d.returningVisitor?x&&x+28*24*60*60*1000>w:true;if(!x){x=w}f=E&&x<=w;if(d.hookOnLoad){n.addEventListener("load",t,false)}else{if(!d.hookOnLoad&&d.autostart){t()}}}function t(){n.removeEventListener("load",t,false);if(!E){n.localStorage.setItem("addToHome",Date.now())}else{if(d.expire&&f){n.localStorage.setItem("addToHome",Date.now()+d.expire*60000)}}if(!l&&(!A||!f||b||D||!E)){return}var F="",w=i.platform.split(" ")[0],G=i.language.replace("-","_");a=document.createElement("div");a.id="addToHomeScreen";a.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(e<5?"absolute":"fixed");if(d.message in q){G=d.message;d.message=""}if(d.message===""){d.message=G in q?q[G]:q.en_us}if(d.touchIcon){F=o?document.querySelector('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]'):document.querySelector('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]');if(F){F='<span style="background-image:url('+F.href+')" class="addToHomeTouchIcon"></span>'}}a.className=(y?"addToHomeIpad":"addToHomeIphone")+(F?" addToHomeWide":"");a.innerHTML=F+d.message.replace("%device",w).replace("%icon",e>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(d.arrow?'<span class="addToHomeArrow"></span>':"")+(d.closeButton?'<span class="addToHomeClose">\u00D7</span>':"");document.body.appendChild(a);if(d.closeButton){a.addEventListener("click",g,false)}if(!y&&e>=6){window.addEventListener("orientationchange",r,false)}setTimeout(C,d.startDelay)}function C(){var F,w=208;if(y){if(e<5){v=n.scrollY;z=n.scrollX}else{if(e<6){w=160}}a.style.top=v+d.bottomOffset+"px";a.style.left=z+w-Math.round(a.offsetWidth/2)+"px";switch(d.animationIn){case"drop":F="0.6s";a.style.webkitTransform="translate3d(0,"+-(n.scrollY+d.bottomOffset+a.offsetHeight)+"px,0)";break;case"bubble":F="0.6s";a.style.opacity="0";a.style.webkitTransform="translate3d(0,"+(v+50)+"px,0)";break;default:F="1s";a.style.opacity="0"}}else{v=n.innerHeight+n.scrollY;if(e<5){z=Math.round((n.innerWidth-a.offsetWidth)/2)+n.scrollX;a.style.left=z+"px";a.style.top=v-a.offsetHeight-d.bottomOffset+"px"}else{a.style.left="50%";a.style.marginLeft=-Math.round(a.offsetWidth/2)-(n.orientation%180&&e>=6?40:0)+"px";a.style.bottom=d.bottomOffset+"px"}switch(d.animationIn){case"drop":F="1s";a.style.webkitTransform="translate3d(0,"+-(v+d.bottomOffset)+"px,0)";break;case"bubble":F="0.6s";a.style.webkitTransform="translate3d(0,"+(a.offsetHeight+d.bottomOffset+50)+"px,0)";break;default:F="1s";a.style.opacity="0"}}a.offsetHeight;a.style.webkitTransitionDuration=F;a.style.opacity="1";a.style.webkitTransform="translate3d(0,0,0)";a.addEventListener("webkitTransitionEnd",h,false);m=setTimeout(p,d.lifespan)}function s(w){if(!j||a){return}l=w;t()}function p(){clearInterval(k);clearTimeout(m);m=null;if(!a){return}var G=0,H=0,w="1",F="0";if(d.closeButton){a.removeEventListener("click",g,false)}if(!y&&e>=6){window.removeEventListener("orientationchange",r,false)}if(e<5){G=y?n.scrollY-v:n.scrollY+n.innerHeight-v;H=y?n.scrollX-z:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-z}a.style.webkitTransitionProperty="-webkit-transform,opacity";switch(d.animationOut){case"drop":if(y){F="0.4s";w="0";G+=50}else{F="0.6s";G+=a.offsetHeight+d.bottomOffset+50}break;case"bubble":if(y){F="0.8s";G-=a.offsetHeight+d.bottomOffset+50}else{F="0.4s";w="0";G-=50}break;default:F="0.8s";w="0"}a.addEventListener("webkitTransitionEnd",h,false);a.style.opacity=w;a.style.webkitTransitionDuration=F;a.style.webkitTransform="translate3d("+H+"px,"+G+"px,0)"}function g(){n.sessionStorage.setItem("addToHomeSession","1");b=true;p()}function h(){a.removeEventListener("webkitTransitionEnd",h,false);a.style.webkitTransitionProperty="-webkit-transform";a.style.webkitTransitionDuration="0.2s";if(!m){a.parentNode.removeChild(a);a=null;return}if(e<5&&m){k=setInterval(c,d.iterations)}}function c(){var w=new WebKitCSSMatrix(n.getComputedStyle(a,null).webkitTransform),F=y?n.scrollY-v:n.scrollY+n.innerHeight-v,G=y?n.scrollX-z:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-z;if(F==w.m42&&G==w.m41){return}a.style.webkitTransform="translate3d("+G+"px,"+F+"px,0)"}function B(){n.localStorage.removeItem("addToHome");n.sessionStorage.removeItem("addToHomeSession")}function r(){a.style.marginLeft=-Math.round(a.offsetWidth/2)-(n.orientation%180&&e>=6?40:0)+"px"}u();return{show:s,close:p,reset:B}})(window);